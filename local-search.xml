<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>SpringCloud | Alibaba | Seata</title>
    <link href="/2022/07/29/SpringCloud%7CAlibaba%7CSeata/"/>
    <url>/2022/07/29/SpringCloud%7CAlibaba%7CSeata/</url>
    
    <content type="html"><![CDATA[<br><br><div style="text-align:center;padding:10px;border-radius:15px"><a href="http://seata.io/en-us/"><img  style="width:280px;border-radius:5px" src="https://files.catbox.moe/t60a2p.png"/></a></div><p>[TOC]</p><br><hr><br><br><h2 id="âš½ï¸-æ¦‚è¿°"><a href="#âš½ï¸-æ¦‚è¿°" class="headerlink" title="âš½ï¸ æ¦‚è¿°"></a>âš½ï¸ æ¦‚è¿°</h2><h3 id="è§£å†³é—®é¢˜ï¼šåˆ†å¸ƒå¼äº‹åŠ¡"><a href="#è§£å†³é—®é¢˜ï¼šåˆ†å¸ƒå¼äº‹åŠ¡" class="headerlink" title="è§£å†³é—®é¢˜ï¼šåˆ†å¸ƒå¼äº‹åŠ¡"></a>è§£å†³é—®é¢˜ï¼šåˆ†å¸ƒå¼äº‹åŠ¡</h3><p>åˆ†å¸ƒå¼ä¹‹å‰ï¼Œå•æœºå•åº“</p><p>åˆ†å¸ƒå¼ä¹‹åï¼Œå¤šæœºå¤šåº“</p><h3 id="èƒ½å¹²å˜›ï¼Ÿ"><a href="#èƒ½å¹²å˜›ï¼Ÿ" class="headerlink" title="èƒ½å¹²å˜›ï¼Ÿ"></a>èƒ½å¹²å˜›ï¼Ÿ</h3><div style="background-image: linear-gradient(to right,#CE9FFC,#7367F0);width:100%;padding:15px 15px;border-radius:15px;color:white;"><b><span style="color:#FFF720;font-size:23px">ä¸€ä¸ª IDï¼ˆTransaction ID XIDï¼‰</span><br>å…¨å±€å”¯ä¸€çš„äº‹åŠ¡ ID<br><br><span style="color:#FFF720;font-size:23px">ä¸‰ä¸ªç»„ä»¶æ¨¡å‹</span><br>  Transaction Coordinatorï¼ˆTCï¼‰<br>Transaction Managerï¼ˆTMï¼‰<br>Resource Managerï¼ˆRMï¼‰<br><br><span style="color:#FFF720;font-size:23px">ä¸‰ä¸ªç»„ä»¶æ¨¡å‹ | è¯´æ˜</span><br><span style="color:#FEC163;font-size:20px">TCï¼š</span>äº‹åŠ¡åè°ƒå™¨ï¼Œç»´æŠ¤å…¨å±€äº‹åŠ¡çš„è¿è¡ŒçŠ¶æ€ï¼Œè´Ÿè´£åè°ƒå¹¶é©±åŠ¨å…¨å±€äº‹åŠ¡çš„æäº¤æˆ–å›æ»š<br><span style="color:#FEC163;font-size:20px">TMï¼š</span>æ§åˆ¶å…¨å±€äº‹åŠ¡çš„è¾¹ç•Œï¼Œè´Ÿè´£å¼€å¯ä¸€ä¸ªå…¨å±€äº‹åŠ¡ï¼Œå¹¶æœ€ç»ˆå‘èµ·å…¨å±€æäº¤æˆ–å…¨å±€å›æ»šå†³è®®<br><span style="color:#FEC163;font-size:20px">RMï¼š</span>æ§åˆ¶åˆ†æ”¯äº‹åŠ¡ï¼Œè´Ÿè´£åˆ†æ”¯æ³¨å†Œã€çŠ¶æ€æ±‡æŠ¥ï¼Œå¹¶æ¥æ”¶äº‹åŠ¡åè°ƒå™¨çš„æŒ‡ä»¤ï¼Œé©±åŠ¨åˆ†æ”¯ï¼ˆæœ¬åœ°ï¼‰äº‹åŠ¡çš„æäº¤</b><br></div><h3 id="æ‰§è¡Œæµç¨‹"><a href="#æ‰§è¡Œæµç¨‹" class="headerlink" title="æ‰§è¡Œæµç¨‹"></a>æ‰§è¡Œæµç¨‹</h3><div style="padding:5px 10px;width:100%;text-align:center"><img style="border:1px solid gray;background:white;width:70%;padding:0 8px;border-radius:20px;margin-top:5px" src="https://files.catbox.moe/sm1z18.png"></div><ol><li>TM å‘ TC ç”³è¯·å¼€å¯ä¸€ä¸ªå…¨å±€äº‹åŠ¡ï¼Œå…¨å±€äº‹åŠ¡åˆ›å»ºæˆåŠŸå¹¶ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ XID</li><li>XID åœ¨å¾®æœåŠ¡è°ƒç”¨é“¾è·¯çš„ä¸Šä¸‹æ–‡ä¸­ä¼ æ’­</li><li>RM å‘ TC æ³¨å†Œåˆ†æ”¯äº‹åŠ¡ï¼Œå°†å…¶çº³å…¥ XID å¯¹åº”å…¨å±€äº‹åŠ¡çš„ç®¡è¾–</li><li>TM å‘ TC å‘èµ·é’ˆå¯¹ XID çš„å…¨å±€æäº¤æˆ–å›æ»šå†³è®®</li><li>TC è°ƒåº¦ XID ä¸‹ç®¡è¾–çš„å…¨éƒ¨åˆ†æ”¯äº‹åŠ¡å®Œæˆæäº¤æˆ–å›æ»šè¯·æ±‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
      <category>SpringCloudAlibaba</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
      <tag>SpringCloudAlibaba</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | Alibaba | Sentinel</title>
    <link href="/2022/07/28/SpringCloud%7CAlibaba%7CSentinel/"/>
    <url>/2022/07/28/SpringCloud%7CAlibaba%7CSentinel/</url>
    
    <content type="html"><![CDATA[<br><div style="text-align:center;padding:10px;border-radius:15px"><a href="https://github.com/alibaba/sentinel"><img  style="width:280px;border-radius:5px" src="https://files.catbox.moe/4c8dsu.png"/></a></div><p>[TOC]</p><br><hr><br><br><h2 id="ğŸ¨-æ¦‚å¿µ"><a href="#ğŸ¨-æ¦‚å¿µ" class="headerlink" title="ğŸ¨ æ¦‚å¿µ"></a>ğŸ¨ æ¦‚å¿µ</h2><h3 id="ä¸-Hystrix-å¯¹æ¯”"><a href="#ä¸-Hystrix-å¯¹æ¯”" class="headerlink" title="ä¸ Hystrix å¯¹æ¯”"></a>ä¸ Hystrix å¯¹æ¯”</h3><p>åˆ†å¸ƒå¼ç³»ç»Ÿçš„æµé‡é˜²å«å…µ</p><table><thead><tr><th>Sentinel</th><th>Hystrix</th></tr></thead><tbody><tr><td>å•ç‹¬ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ç‹¬ç«‹å‡ºæ¥</td><td>éœ€è¦æ‰‹åŠ¨æ­å»ºç›‘æ§å¹³å°</td></tr><tr><td>ç›´æ¥ç•Œé¢åŒ–çš„ç»†é¢—ç²’åº¦ç»Ÿä¸€é…ç½®</td><td>æ²¡æœ‰ web ç•Œé¢å¯ä»¥ç»™æˆ‘ä»¬è¿›è¡Œæ›´åŠ ç»†é¢—ç²’åº¦åŒ–çš„é…ç½®æµæ§ã€é€Ÿç‡æ§åˆ¶ã€æœåŠ¡ç†”æ–­ã€æœåŠ¡é™çº§ç­‰</td></tr></tbody></table><div style="text-align:center"><img style="width:75%;border:1px solid #eae6e6;border-radius:5px" src="https://files.catbox.moe/05vjsu.png"/></div><h3 id="Sentinel-åˆ†ä¸ºä¸¤éƒ¨åˆ†"><a href="#Sentinel-åˆ†ä¸ºä¸¤éƒ¨åˆ†" class="headerlink" title="Sentinel åˆ†ä¸ºä¸¤éƒ¨åˆ†"></a>Sentinel åˆ†ä¸ºä¸¤éƒ¨åˆ†</h3><ul><li><strong>æ ¸å¿ƒåº“ï¼ˆJavaå®¢æˆ·ç«¯ï¼‰</strong>ä¸ä¾èµ–ä»»ä½•æ¡†æ¶/åº“ï¼Œèƒ½å¤Ÿè¿è¡Œäºæ‰€æœ‰ Java è¿è¡Œæ—¶ç¯å¢ƒï¼ŒåŒæ—¶å¯¹ Dubbo/Spring Cloud ç­‰æ¡†æ¶ä¹Ÿæœ‰è¾ƒå¥½çš„æ”¯æŒ</li><li><strong>æ§åˆ¶å°ï¼ˆDashboardï¼‰</strong>åŸºäº SpringBoot å¼€å‘ï¼Œæ‰“åŒ…åå¯ä»¥ç›´æ¥è¿è¡Œï¼Œä¸éœ€è¦é¢å¤–çš„ Tomcat ç­‰åº”ç”¨ç¨‹åº</li></ul><h3 id="Sentinel-æœ‰ä¸‰ä¸ªæ ¸å¿ƒç±»"><a href="#Sentinel-æœ‰ä¸‰ä¸ªæ ¸å¿ƒç±»" class="headerlink" title="Sentinel æœ‰ä¸‰ä¸ªæ ¸å¿ƒç±»"></a>Sentinel æœ‰ä¸‰ä¸ªæ ¸å¿ƒç±»</h3><ul><li><strong>SphU.entrty(resourceName)ï¼š</strong>å®šä¹‰èµ„æº</li><li><strong>Tracerï¼š</strong>å®šä¹‰ç»Ÿè®¡</li><li><strong>ContextUtilï¼š</strong>å®šä¹‰äº†ä¸Šä¸‹æ–‡</li></ul><br><br><br><br><br><Br><h2 id="ğŸ®-å®‰è£…"><a href="#ğŸ®-å®‰è£…" class="headerlink" title="ğŸ® å®‰è£…"></a>ğŸ® å®‰è£…</h2><ol><li><p>å» **<a href="https://github.com/alibaba/sentinel">GitHub</a>**ä¸‹è½½jar åŒ…</p></li><li><p>æ‰§è¡Œ<code>java -jar  sentinel-dashboard-x.x.x.jar</code></p></li><li><p>è®¿é—® <code>http://localhost:8080</code><a href="http://localhost:8080/">ã€ç‚¹å‡»å¿«é€Ÿè®¿é—®ã€‘</a></p></li></ol><br><br><br><br><br><Br><h2 id="ğŸ¥¥-å°å°è¯•"><a href="#ğŸ¥¥-å°å°è¯•" class="headerlink" title="ğŸ¥¥ å°å°è¯•"></a>ğŸ¥¥ å°å°è¯•</h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud0starter-alibaba-sentinel<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- æŒä¹…åŒ– --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.csp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>sentinel-datasource-nacos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8401</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> cloudalibaba<span class="token punctuation">-</span>sentinel<span class="token punctuation">-</span>service<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">nacos</span><span class="token punctuation">:</span><span class="token key atrule">discovery</span><span class="token punctuation">:</span><span class="token comment"># Nacos æœåŠ¡æ³¨å†Œä¸­å¿ƒ</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> <span class="token key atrule">localhost</span><span class="token punctuation">:</span> <span class="token number">8848</span><span class="token key atrule">sentinel</span><span class="token punctuation">:</span><span class="token key atrule">transport</span><span class="token punctuation">:</span>  <span class="token comment"># é…ç½® Sentinel dashboard åœ°å€</span><span class="token key atrule">dashboard</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8080</span><span class="token comment"># é»˜è®¤ 8719 ç«¯å£ï¼Œå¦‚æœè¢«å ç”¨åˆ™ä¼š+1 è‡ªåŠ¨æ‰«æï¼Œç›´è‡³æ‰¾åˆ°æœªè¢«å ç”¨çš„ç«¯å£</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8719</span><span class="token key atrule">management</span><span class="token punctuation">:</span><span class="token key atrule">endpoints</span><span class="token punctuation">:</span><span class="token key atrule">web</span><span class="token punctuation">:</span><span class="token key atrule">exposure</span><span class="token punctuation">:</span><span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">'*'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApp8401</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MainApp8401</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FlowLimitController</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/testA"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"-------testA"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/testB"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    retrun <span class="token string">"-------testB"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><br><br><br><Br><h2 id="ğŸ€-æµæ§è§„åˆ™"><a href="#ğŸ€-æµæ§è§„åˆ™" class="headerlink" title="ğŸ€ æµæ§è§„åˆ™"></a>ğŸ€ æµæ§è§„åˆ™</h2><h4 id="åŸºæœ¬ä»‹ç»"><a href="#åŸºæœ¬ä»‹ç»" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h4><div style="text-align:center"><img style="width:50%;border:1px solid #eae6e6;border-radius:5px" src="https://files.catbox.moe/dlcefi.png"/></div><hr><ul><li>èµ„æºåï¼šå”¯ä¸€åç§°ï¼Œé»˜è®¤è¯·æ±‚è·¯å¾„</li><li>é’ˆå¯¹æ¥æºï¼šSentinelå¯ä»¥é’ˆå¯¹è°ƒç”¨è€…è¿›è¡Œé™æµï¼Œå¡«å†™å¾®æœåŠ¡åï¼Œé»˜è®¤defaultï¼ˆä¸åŒºåˆ†æ¥æºï¼‰</li><li>é˜ˆå€¼ç±»å‹ å•æœºé˜ˆå€¼ï¼š<ul><li>QPSï¼ˆæ¯ç§’é’Ÿçš„è¯·æ±‚æ•°é‡ï¼‰ï¼šå½“è°ƒç”¨è¯¥apiçš„QPSè¾¾åˆ°é˜ˆå€¼çš„æ—¶å€™ï¼Œè¿›è¡Œé™æµ</li><li>çº¿ç¨‹æ•°ï¼šå½“è°ƒç”¨è¯¥apiçš„çº¿ç¨‹æ•°è¾¾åˆ°é˜ˆå€¼çš„æ—¶å€™ï¼Œè¿›è¡Œé™æµ</li></ul></li><li>æ˜¯å¦é›†ç¾¤ï¼šä¸éœ€è¦é›†ç¾¤</li><li>æµæ§æ¨¡å¼ï¼š<ul><li><strong>ç›´æ¥</strong>ï¼šapiè¾¾åˆ°é™æµæ¡ä»¶æ—¶ï¼Œç›´æ¥é™æµ</li><li><strong>å…³è”</strong>ï¼šå½“å…³è”çš„èµ„æºè¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œå°±é™æµè‡ªå·±</li><li><strong>é“¾è·¯</strong>ï¼šåªè®°å½•æŒ‡å®šé“¾è·¯ä¸Šçš„æµé‡(æŒ‡å®šèµ„æºäººå…¥å£èµ„æºè¿›æ¥çš„æµé‡ï¼Œå¦‚æœè¾¾åˆ°é˜ˆå€¼ï¼Œå°±è¿›è¡Œé™æµï¼‰ã€apiçº§åˆ«çš„é’ˆå¯¹æ¥æºã€‘</li></ul></li><li>æµæ§æ•ˆæœï¼š<ul><li>å¿«é€Ÿå¤±è´¥ï¼šç›´æ¥å¤±è´¥ï¼ŒæŠ›å¼‚å¸¸</li><li>Warm Upï¼šæ ¹æ®codeFactor ï¼ˆä»¤åŠ è½½å› å­ï¼Œé»˜è®¤3ï¼‰çš„å€¼ï¼Œä»é˜ˆå€¼/codeFactorï¼Œç»è¿‡é¢„çƒ­æ—¶é•¿ï¼Œæ‰è¾¾åˆ°è®¾ç½®çš„QPSé˜ˆå€¼</li></ul></li></ul><br><br><br><h2 id="ğŸªƒ-æµæ§æ¨¡å¼"><a href="#ğŸªƒ-æµæ§æ¨¡å¼" class="headerlink" title="ğŸªƒ æµæ§æ¨¡å¼"></a>ğŸªƒ æµæ§æ¨¡å¼</h2><h4 id="1-ç›´æ¥ï¼ˆé»˜è®¤ï¼‰"><a href="#1-ç›´æ¥ï¼ˆé»˜è®¤ï¼‰" class="headerlink" title="1. ç›´æ¥ï¼ˆé»˜è®¤ï¼‰"></a>1. ç›´æ¥<font color=red>ï¼ˆé»˜è®¤ï¼‰</font></h4><table><thead><tr><th>åç§°</th><th>é˜ˆå€¼</th><th>è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>QPSï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰</td><td>N</td><td>å½“æ¯ç§’è¯·æ±‚æ•°è¶…è¿‡ N æ—¶ç›´æ¥æŠ¥é”™ã€‚</td><td>æ‹’ä¹‹é—¨å¤–</td></tr><tr><td>çº¿ç¨‹</td><td>N</td><td>å½“æ¯ç§’çº¿ç¨‹è¶…è¿‡ N ä¸ªåˆ™ç›´æ¥æŠ¥é”™ã€‚</td><td>å…³é—¨æ‰“ç‹—</td></tr></tbody></table><h4 id="2-å…³è”"><a href="#2-å…³è”" class="headerlink" title="2. å…³è”"></a>2. å…³è”</h4><p>å½“å…³è”çš„èµ„æºè¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œå°±é™æµè‡ªå·±ï¼ˆB æƒ¹äº‹ï¼ŒA æŒ‚äº†ï¼‰ã€‚</p><div style="text-align:center"><img style="width:50%;border:1px solid #eae6e6;border-radius:5px" src="https://files.catbox.moe/xnqyjr.png"/></div><h4 id="3-é“¾è·¯"><a href="#3-é“¾è·¯" class="headerlink" title="3. é“¾è·¯"></a>3. é“¾è·¯</h4><br><br><Br><br><br><Br><h2 id="ğŸˆ-æµæ§æ•ˆæœ"><a href="#ğŸˆ-æµæ§æ•ˆæœ" class="headerlink" title="ğŸˆ æµæ§æ•ˆæœ"></a>ğŸˆ æµæ§æ•ˆæœ</h2><p>å¿«é€Ÿå¤±è´¥ï¼šç›´æ¥å¤±è´¥ï¼ŒæŠ¥é”™ï¼š</p><table><thead><tr><th>æµæ§æ•ˆæœ</th><th>æ•ˆæœ</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>ç›´æ¥å¤±è´¥</td><td>è¶…è¿‡é˜ˆå€¼ç›´æ¥æŠ¥é”™</td><td></td></tr><tr><td>é¢„çƒ­</td><td>å…¬å¼ï¼šé˜ˆå€¼é™¤ä»¥ coldFactorï¼ˆé»˜è®¤ 3ï¼‰ï¼Œç»è¿‡é¢„çƒ­æ—¶é•¿åæ‰ä¼šè¾¾åˆ°é˜ˆå€¼ã€‚</td><td></td></tr><tr><td>æ’é˜Ÿç­‰å¾…</td><td>ä¾æ¬¡å¤„ç†è¯·æ±‚</td><td>å¿…é¡»è¦æ˜¯ QPS</td></tr><tr><td><font color=#f6f8fa>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</font></td><td><font color=#f6f8fa>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</font></td><td><font color=#f6f8fa>â€”â€”â€”â€”â€”-</font></td></tr></tbody></table><br><br><br><br><br><Br><h2 id="ğŸ¾-ç†”æ–­é™çº§"><a href="#ğŸ¾-ç†”æ–­é™çº§" class="headerlink" title="ğŸ¾ ç†”æ–­é™çº§"></a>ğŸ¾ ç†”æ–­é™çº§</h2><h3 id="æ¦‚å¿µ-åŒºåˆ«äº-Hystrix"><a href="#æ¦‚å¿µ-åŒºåˆ«äº-Hystrix" class="headerlink" title="æ¦‚å¿µ | åŒºåˆ«äº Hystrix"></a>æ¦‚å¿µ | åŒºåˆ«äº Hystrix</h3><br><div style="background-image: linear-gradient(to right,#CE9FFC,#7367F0);width:100%;padding:15px 15px;border-radius:15px;color:white;"><b>Sentinel ç†”æ–­é™çº§ä¼šåœ¨è°ƒç”¨é“¾è·¯ä¸­æŸä¸ªèµ„æºå‡ºç°ä¸ç¨³å®šçŠ¶æ€æ—¶ï¼ˆä¾‹å¦‚è°ƒç”¨è¶…æ—¶æˆ–å¼‚å¸¸æ¯”ä¾‹å‡é«˜ï¼‰ï¼Œå¯¹è¿™ä¸ªèµ„æºçš„è°ƒç”¨è¿›è¡Œé™åˆ¶ï¼Œè®©è¯·æ±‚å¿«é€Ÿå¤±è´¥ï¼Œé¿å…å½±å“åˆ°å…¶å®ƒçš„èµ„æºè€Œå¯¼è‡´çº§è”é”™è¯¯ã€‚  <br>å½“èµ„æºè¢«é™çº§åï¼Œåœ¨æ¥ä¸‹æ¥çš„é™çº§æ—¶é—´çª—å£ä¹‹å†…ï¼Œå¯¹è¯¥èµ„æºçš„è°ƒç”¨éƒ½è‡ªåŠ¨ç†”æ–­ï¼ˆé»˜è®¤è¡Œä¸ºæ˜¯æŠ›å‡º DegradeExceptionï¼‰ã€‚</b></div><br><div style="background-image: linear-gradient(to right,#FFF886,#F072B6);width:100%;padding:15px 15px;border-radius:15px;"><b>Sentinel ç†”æ–­é™çº§<span style="color:red"> æ²¡ æœ‰ åŠ å¼€ çŠ¶ æ€</span></b></div><br><h3 id="é™çº§ç­–ç•¥"><a href="#é™çº§ç­–ç•¥" class="headerlink" title="é™çº§ç­–ç•¥"></a>é™çº§ç­–ç•¥</h3><h4 id="RT-ï¼ˆå¹³å‡å“åº”æ—¶é—´-ç§’çº§ï¼‰"><a href="#RT-ï¼ˆå¹³å‡å“åº”æ—¶é—´-ç§’çº§ï¼‰" class="headerlink" title="RT ï¼ˆå¹³å‡å“åº”æ—¶é—´ | ç§’çº§ï¼‰"></a><strong><font color=#2b61a7>RT ï¼ˆå¹³å‡å“åº”æ—¶é—´ | ç§’çº§ï¼‰</font></strong></h4><p>å¹³å‡å“åº”æ—¶é—´ <strong>è¶…å‡ºé˜ˆå€¼ ä¸” åœ¨æ—¶é—´çª—å£å†…é€šè¿‡çš„è¯·æ±‚ â‰¥ 5</strong>ï¼Œä¸¤ä¸ªæ¡ä»¶åŒæ—¶æ»¡è¶³åè§¦å‘é™çº§ çª—å£æœŸè¿‡åå…³é—­æ–­è·¯å™¨ RTæœ€å¤§4900ï¼ˆæ›´å¤§çš„éœ€è¦é€šè¿‡-Dcsp.sentinel.statistic.max.rt=XXXXæ‰èƒ½ç”Ÿæ•ˆï¼‰å¼‚å¸¸æ¯”åˆ—ï¼ˆç§’çº§ï¼‰</p><table><thead><tr><th>å‚æ•°å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>RT</td><td>å¹³å‡å“åº”æ—¶é—´</td></tr><tr><td>æ—¶é—´çª—å£</td><td>æ¢å¤æ—¶é—´</td></tr><tr><td><font color=white>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</font></td><td><font color=white>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</font></td></tr></tbody></table><h4 id="å¼‚å¸¸æ¯”åˆ—ï¼ˆç§’çº§ï¼‰"><a href="#å¼‚å¸¸æ¯”åˆ—ï¼ˆç§’çº§ï¼‰" class="headerlink" title="å¼‚å¸¸æ¯”åˆ—ï¼ˆç§’çº§ï¼‰"></a><font color=#2b61a7>å¼‚å¸¸æ¯”åˆ—ï¼ˆç§’çº§ï¼‰</font></h4><p><font color=#2b61a7><b>QPS â‰¥ 5</b></font> <font color=red><strong>ä¸”</strong></font> <font color=#2b61a7><b>å¼‚å¸¸æ¯”ä¾‹ï¼ˆç§’çº§ç»Ÿè®¡ï¼‰è¶…è¿‡é˜ˆå€¼</b></font>æ—¶ï¼Œè§¦å‘é™çº§ï¼›æ—¶é—´çª—å£ç»“æŸåï¼Œå…³é—­é™çº§</p><table><thead><tr><th>å‚æ•°å</th><th>ä½œç”¨</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>å¼‚å¸¸æ¯”ä¾‹</td><td>è¶…è¿‡è¯¥å¼‚å¸¸æ¯”ä¾‹å°±ç†”æ–­é™çº§</td><td>èŒƒå›´ [0,1]</td></tr><tr><td>æ—¶é—´çª—å£</td><td>æ¢å¤æ—¶é—´</td><td></td></tr><tr><td><font color=white>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</font></td><td><font color=white>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</font></td><td><font color=white>â€”â€”â€”â€”â€”-</font></td></tr></tbody></table><br><h4 id="å¼‚å¸¸æ•°ï¼ˆåˆ†é’Ÿçº§ï¼‰"><a href="#å¼‚å¸¸æ•°ï¼ˆåˆ†é’Ÿçº§ï¼‰" class="headerlink" title="å¼‚å¸¸æ•°ï¼ˆåˆ†é’Ÿçº§ï¼‰"></a><font color=#2b61a7>å¼‚å¸¸æ•°ï¼ˆåˆ†é’Ÿçº§ï¼‰</font></h4><p>å¼‚å¸¸æ•°ï¼ˆåˆ†é’Ÿç»Ÿè®¡ï¼‰è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œå‡ºå‘é™çº§ï¼Œæ—¶é—´çª—å£ç»“æŸåï¼Œå…³é—­é™çº§</p><table><thead><tr><th>å‚æ•°å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>å¼‚å¸¸æ•°</td><td>ä¸€åˆ†é’Ÿå†…è¶…è¿‡è¯¥æ•°é‡å°±ç†”æ–­é™çº§</td></tr><tr><td>æ—¶é—´çª—å£</td><td>æ¢å¤æ—¶é—´</td></tr><tr><td><font color=white>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</font></td><td><font color=white>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</font></td></tr></tbody></table><br><br><Br><br><br><br><h2 id="ğŸ±-çƒ­ç‚¹é™æµ-SentinelResource"><a href="#ğŸ±-çƒ­ç‚¹é™æµ-SentinelResource" class="headerlink" title="ğŸ± çƒ­ç‚¹é™æµ | @SentinelResource"></a>ğŸ± çƒ­ç‚¹é™æµ | @SentinelResource</h2><div style="border-radius:10px;padding:3px 5px;font-size:20px;width:100%;text-align:center;background:red;color:white"><b>é‡è¦</b></div><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><h4 id="ä½•ä¸ºçƒ­ç‚¹ï¼Ÿ"><a href="#ä½•ä¸ºçƒ­ç‚¹ï¼Ÿ" class="headerlink" title="ä½•ä¸ºçƒ­ç‚¹ï¼Ÿ"></a>ä½•ä¸ºçƒ­ç‚¹ï¼Ÿ</h4><p>çƒ­ç‚¹å³<font color=#2b61a7><strong>ç»å¸¸è®¿é—®çš„æ•°æ®</strong></font>ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¸Œæœ›ç»Ÿè®¡æŸä¸ªçƒ­ç‚¹æ•°æ®ä¸­è®¿é—®é¢‘æ¬¡æœ€é«˜çš„ Top Kæ•°æ®ï¼Œå¹¶å¯¹å…¶è®¿é—®è¿›è¡Œé™åˆ¶ã€‚æ¯”å¦‚ï¼š</p><ul><li>å•†å“IDä¸ºå‚æ•°ï¼Œç»Ÿè®¡ä¸€æ®µæ—¶é—´å†…æœ€å¸¸è´­ä¹°çš„å•†å“ ID å¹¶è¿›è¡Œé™åˆ¶</li><li>ç”¨æˆ·IDä¸ºå‚æ•°ï¼Œé’ˆå¯¹ä¸€é…¸æ—¶é—´å†…é¢‘ç¹è®¿é—®çš„ç”¨æˆ·ID è¿›è¡Œé™åˆ¶å¿ƒ</li></ul><p>çƒ­ç‚¹å‚æ•°é™æµä¼šçµ±è®¡ä¼ å…¥å‚æ•°ä¸­çš„çƒ­ç‚¹å‚æ•°ï¼Œå¹¶æ ¹æ®é…ç½®çš„é™æµåœ‹å€¼ä¸æ¨¡å¼ï¼Œå¯¹åŒ…å«çƒ­ç‚¹å‚æ•°çš„èµ„æºè°ƒç”¨è¿›è¡Œé™æµã€‚çƒ­ç‚¹å‚æ•°é™æµå¯ä»¥çœ‹åšæ˜¯ä¸€ç§ç‰¹æ®Šçš„æµé‡æ§åˆ¶ï¼Œä»…å¯¹åŒ…å«çƒ­ç‚¹å‚æ•°çš„èµ„æºè°ƒç”¨ç”Ÿæ•ˆã€‚</p><div style="text-align:center"><img style="width:100%;border-radius:5px" src="https://files.catbox.moe/x7biyg.png"/></div><p>Sentinel åˆ©ç”¨ LRU ç­–ç•¥ç»Ÿè®¡æœ€è¿‘æœ€å¸¸è®¿é—®çš„çƒ­ç‚¹å‚æ•°ï¼Œç»“åˆä»¤ç‰Œæ¡¶ç®—æ³•æ¥è¿›è¡Œå‚æ•°çº§åˆ«çš„æµæ§ã€‚çƒ­ç‚¹å‚æ•°é™æµæ”¯æŒé›†ç¾¤æ¨¡å¼ã€‚</p><br><h3 id="â¶-Ribbon-ç³»åˆ—-blockHandler-é…ç½®å‡ºé”™"><a href="#â¶-Ribbon-ç³»åˆ—-blockHandler-é…ç½®å‡ºé”™" class="headerlink" title="â¶ Ribbon ç³»åˆ— | blockHandler | é…ç½®å‡ºé”™"></a>â¶ Ribbon ç³»åˆ— | blockHandler | é…ç½®å‡ºé”™</h3><table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>value</td><td>èµ„æºå</td></tr><tr><td>blockHandler</td><td>æœåŠ¡é™çº§çš„å‡½æ•°åï¼ˆç±»æ¯”@<code>HystrixCommand(fallbackMethod=&quot;xxx&quot;)</code></td></tr></tbody></table><h4 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/testHotKey"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"testHotKey"</span><span class="token punctuation">,</span>blockHandler<span class="token operator">=</span><span class="token string">"deal_testHotKey"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testHotKey</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"p1"</span><span class="token punctuation">,</span>required<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> p1<span class="token punctuation">,</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"p2"</span><span class="token punctuation">,</span>required<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> p2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token string">"------testHotKey"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">deal_testHotKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> p1<span class="token punctuation">,</span><span class="token class-name">String</span> p2<span class="token punctuation">,</span><span class="token class-name">BlockException</span> exception<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token string">"------------deal_testHotKeyï¼Œo(â•¥ï¹â•¥)o"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div style="text-align:center"><img style="width:50%;border-radius:5px" src="https://files.catbox.moe/yydgrr.png"/></div><p><font color=#2b61a7><strong>ç¬¬ 0 ä¸ªå‚æ•°ï¼ˆp1ï¼‰æ¯ç§’è®¿é—®æ¬¡æ•°è¶…è¿‡ 1 åˆ™ä¼šè¿›è¡Œé™çº§å¤„ç†ï¼Œæ‰§è¡Œæ–¹æ³•<code>dal_testHotKey</code>è¿›è¡Œå‹å¥½å›å¤</strong>ã€‚</font></p><br><h4 id="é«˜çº§-å‚æ•°ä¾‹å¤–é¡¹"><a href="#é«˜çº§-å‚æ•°ä¾‹å¤–é¡¹" class="headerlink" title="é«˜çº§ | å‚æ•°ä¾‹å¤–é¡¹"></a>é«˜çº§ | å‚æ•°ä¾‹å¤–é¡¹</h4><p><strong><font color=#2b61a7>æ”¯æŒå…«ç§åŸºæœ¬ç±»å‹</font></strong></p><ol><li>å½“ p1 çš„å€¼æ˜¯æŸä¸ªå€¼æ˜¯ä¸è¢«é™æµï¼ˆæˆ–é™æµå€¼å¾ˆå¤§ï¼‰</li></ol><div style="background-image: linear-gradient(to right,#CE9FFC,#7367F0);width:100%;padding:15px 15px;border-radius:15px;color:white;"><b><span style="color:#FFF720">@SentinelResource</span><br>å¤„ç†çš„æ˜¯sentinelæ§åˆ¶å°é…ç½®çš„è¿è§„æƒ…å†µï¼Œæœ‰b1ockHandleræ–¹æ³•é…ç½®çš„å…œåº•å¤„ç†;<br><span style="color:#FFF720">RuntimeException</span><br>int age = 10/0ï¼Œè¿™ä¸ªæ˜¯javaè¿è¡Œæ—¶æŠ¥å‡ºçš„è¿è¡Œæ—¶å¼‚å¸¸RunTimeException, @SentinelResourceä¸ç®¡<br><br><span style="color:#FFF720">@SentinelResourceä¸»ç®¡é…ç½®å‡ºé”™ï¼Œè¿è¡Œå‡ºé”™è¯¥èµ°å¼‚å¸¸èµ°å¼‚å¸¸</span><br></b></div><br><h3 id="ğŸ…½-Ribbon-ç³»åˆ—-blockHandlerClass"><a href="#ğŸ…½-Ribbon-ç³»åˆ—-blockHandlerClass" class="headerlink" title="ğŸ…½ Ribbon ç³»åˆ— | blockHandlerClass"></a>ğŸ…½ Ribbon ç³»åˆ— | blockHandlerClass</h3><p>åˆ›å»º <code>CustomerBlockHandler</code> ç±»</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> xxxController<span class="token punctuation">&#123;</span>      <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/rateLimit/customerBlockHandler"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"customerBlockHandler"</span><span class="token punctuation">,</span>blockHandlerClass <span class="token operator">=</span> <span class="token class-name">CustomerBlockHandler</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>blockHandler<span class="token operator">=</span><span class="token string">"handlerException1"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">customerBlockHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonRestlt</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"æŒ‰urlé™æµ"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span><span class="token number">2020</span>K<span class="token punctuation">,</span><span class="token string">"serial003x"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/rateLimit/customerBlockHandler"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"customerBlockHandler"</span><span class="token punctuation">,</span>blockHandlerClass <span class="token operator">=</span> <span class="token class-name">CustomerBlockHandler</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>blockHandler<span class="token operator">=</span><span class="token string">"handlerException2"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">customerBlockHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonRestlt</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"æŒ‰å®¢æˆ·è‡ªå®šä¹‰"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span><span class="token number">2020</span>K<span class="token punctuation">,</span><span class="token string">"serial003x"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// handler å…œåº•æ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomerBlockHandler</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">CommonResult</span> <span class="token function">handlerException1</span><span class="token punctuation">(</span><span class="token class-name">BlockException</span> exception<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">4444</span><span class="token punctuation">,</span><span class="token string">"æŒ‰url é™æµ,global handlerException----1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">CommonResult</span> <span class="token function">handlerException2</span><span class="token punctuation">(</span><span class="token class-name">BlockException</span> exception<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">4444</span><span class="token punctuation">,</span><span class="token string">"æŒ‰å®¢æˆ·è‡ªå®šä¹‰,global handlerException----2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><h3 id="ğŸ˜¶-Ribbon-ç³»åˆ—-Fallback-Sentinel-æ•´åˆ-Ribbon-ä¸-OpenFeign"><a href="#ğŸ˜¶-Ribbon-ç³»åˆ—-Fallback-Sentinel-æ•´åˆ-Ribbon-ä¸-OpenFeign" class="headerlink" title="ğŸ˜¶ Ribbon ç³»åˆ— | Fallback | Sentinel æ•´åˆ Ribbon ä¸ OpenFeign"></a>ğŸ˜¶ Ribbon ç³»åˆ— | Fallback | Sentinel æ•´åˆ Ribbon ä¸ OpenFeign</h3><p><strong>å¾®æœåŠ¡æä¾›è€… 9003 ä¸ 9004</strong></p><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9003</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>provider<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">nacos</span><span class="token punctuation">:</span><span class="token key atrule">discovery</span><span class="token punctuation">:</span><span class="token comment">## æ³¨å†Œè¿› Nacos</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span><span class="token key atrule">management</span><span class="token punctuation">:</span><span class="token key atrule">endpoints</span><span class="token punctuation">:</span><span class="token key atrule">web</span><span class="token punctuation">:</span><span class="token key atrule">exposure</span><span class="token punctuation">:</span><span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">"*"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain9003</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain9003</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> hashMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">static</span>  <span class="token punctuation">&#123;</span>    hashMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span><span class="token string">"asdasfasfadf"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    hashMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span><span class="token string">"asfdfsertsdg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    hashMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span><span class="token string">"sdfgsdgsdgfs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/paymentSQL/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">paymentSQL</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Payment</span> payment <span class="token operator">=</span> hashMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"from MySQL,serverPort:"</span><span class="token operator">+</span>serverPort<span class="token punctuation">,</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>æ–°å»º Module æ¶ˆè´¹è€… cloudalibaba-consumer-nacos-order84</strong></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">84</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>order<span class="token punctuation">-</span>consumer84<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">nacos</span><span class="token punctuation">:</span><span class="token key atrule">discovery</span><span class="token punctuation">:</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span><span class="token key atrule">sentinel</span><span class="token punctuation">:</span><span class="token key atrule">transport</span><span class="token punctuation">:</span><span class="token key atrule">dashboard</span><span class="token punctuation">:</span> <span class="token key atrule">localhost</span><span class="token punctuation">:</span> <span class="token number">8080</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8719</span><span class="token comment"># æ¶ˆè´¹è€…å°†è¦å»è®¿é—®çš„å¾®æœåŠ¡åç§°ï¼ˆæ³¨å†ŒæˆåŠŸæ–¤ nacos çš„å¾®æœåŠ¡æä¾›è€…ï¼‰</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">nacos-user-service</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//nacos<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>provider<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>  <span class="token annotation punctuation">@LoadBalanced</span>  <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getRestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CircleBreakerController</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> SERVICE_URL <span class="token operator">=</span> <span class="token string">"http://nacos-payment-provider"</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Resource</span>  <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/fallback/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token comment">// æƒ…å†µ 1 åªé…ç½® fallback</span>  <span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"fallback"</span><span class="token punctuation">,</span>fallback<span class="token operator">=</span><span class="token string">"handlerFallback"</span><span class="token punctuation">)</span>  <span class="token comment">// æƒ…å†µ 2 åªé…ç½® blockHandler</span>  <span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"fallback"</span><span class="token punctuation">,</span>blockHandler<span class="token operator">=</span><span class="token string">"blockHandler"</span><span class="token punctuation">)</span>    <span class="token comment">// æƒ…å†µ 3 ä¸¤ä¸ªéƒ½é…ç½®</span>  <span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"fallback"</span><span class="token punctuation">,</span>blockHandler<span class="token operator">=</span><span class="token string">"blockHandler"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">fallback</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>SERVICE_URL<span class="token operator">+</span><span class="token string">"/paymentSQL/"</span><span class="token operator">+</span>id<span class="token punctuation">,</span><span class="token class-name">CommonRestlt</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>id <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllEgalArgumentException</span><span class="token punctuation">(</span><span class="token string">"IllEgalArgumentException,éæ³•å‚æ•°å¼‚å¸¸..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token string">"NullPointerException,è¯¥ ID æ²¡æœ‰å¯¹åº”è®°å½•ï¼Œç©ºæŒ‡é’ˆå¼‚å¸¸"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> handlerFallback <span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">,</span><span class="token class-name">Throwable</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Payemnt</span> payment <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span>  <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">444</span><span class="token punctuation">,</span><span class="token string">"å…œåº•å¼‚å¸¸ HandlerFallBackï¼ŒException å†…å®¹ï¼š"</span><span class="token operator">+</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div style="background-image: linear-gradient(to right,#CE9FFC,#7367F0);width:100%;padding:15px 15px;border-radius:15px;color:white;"><b><span style="color:#FFF720">åªé… fallback</span><br>å½“å‡ºç°æŠ¥é”™çš„æ—¶å€™ï¼Œä¼šè¿”å›å…œåº•çš„ã€Œå‹å¥½ç•Œé¢ã€<br><span style="color:#FFF720">åªé… blockHandler</span><br>å‡ºç°æŠ¥é”™æ—¶æ˜¾ç¤ºä¸å‹å¥½çš„æç¤ºé¡µé¢ï¼Œä½†æ˜¯å¤šæ¬¡è®¿é—®é™æµåä¼šè¿”å› blockHandler æŒ‡å®šçš„æ–¹æ³•<br><span style="color:#FFF720">ä¸¤ä¸ªéƒ½é…ç½®</span><br>ã€Œå‹å¥½å›å¤ã€è¶…è¿‡é˜ˆå€¼åè¿›è¡Œã€Œé™æµã€</b></div><br><h3 id="Ribbon-ç³»åˆ—-exceptionsToIgnore-å¼‚å¸¸å¿½ç•¥"><a href="#Ribbon-ç³»åˆ—-exceptionsToIgnore-å¼‚å¸¸å¿½ç•¥" class="headerlink" title="Ribbon ç³»åˆ— | exceptionsToIgnore | å¼‚å¸¸å¿½ç•¥"></a>Ribbon ç³»åˆ— | exceptionsToIgnore | å¼‚å¸¸å¿½ç•¥</h3><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/fallback/&#123;id&#125;"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@SentinelResource</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"fallback"</span><span class="token punctuation">,</span>fallback<span class="token operator">=</span><span class="token string">"handlerFallback"</span><span class="token punctuation">,</span>blockHandler<span class="token operator">=</span><span class="token string">"blockHandler"</span><span class="token punctuation">,</span>exceptionsToIgnore<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token class-name">IllegalArgumentException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// â˜ğŸ» å¦‚æœæ˜¯ä¸Šè¿°æŠ¥é”™åˆ™ä¸å†æ‰§è¡Œ Fallback æ–¹æ³•å…œåº•ï¼Œæ²¡æœ‰é™çº§æ•ˆæœ</span><span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">fallback</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"è¯·æ±‚æˆåŠŸ"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><h3 id="Feign-ç³»åˆ—"><a href="#Feign-ç³»åˆ—" class="headerlink" title="Feign ç³»åˆ—"></a>Feign ç³»åˆ—</h3><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">84</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>order<span class="token punctuation">-</span>consumer<span class="token key atrule">cloud</span><span class="token punctuation">:</span> <span class="token key atrule">nacos</span><span class="token punctuation">:</span><span class="token key atrule">discovery</span><span class="token punctuation">:</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span><span class="token key atrule">sentinel</span><span class="token punctuation">:</span><span class="token key atrule">transport</span><span class="token punctuation">:</span><span class="token key atrule">dashboard</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8080</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8719</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">nacos-user-service</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//nacos<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>provider<span class="token key atrule">feign</span><span class="token punctuation">:</span><span class="token key atrule">sentinel</span><span class="token punctuation">:</span><span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token annotation punctuation">@ApringBootApplication</span><span class="token annotation punctuation">@EnableFeignClients</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderNacosMain84</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderNacosMain84</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"nacos-payment-provider"</span><span class="token punctuation">,</span>fallback<span class="token operator">=</span><span class="token class-name">PaymentFallbackService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentService</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/paymentSQL/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">paymentSQL</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentFallbackService</span> <span class="token keyword">implements</span> <span class="token class-name">PaymentService</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">paymentSQL</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">44444</span><span class="token punctuation">,</span><span class="token string">"æœåŠ¡é™çº§è¿”å›-----PayemntFallbackService"</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token string">"errorSerial"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CircleBreakerController</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Resource</span>  <span class="token keyword">private</span> <span class="token class-name">PaymentService</span> paymentService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/consumer/paymentSQL/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">paymentSQL</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> paymentService<span class="token punctuation">.</span><span class="token function">paymentSQL</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><br><br><br><Br><h2 id="ğŸ²-ç³»ç»Ÿè‡ªé€‚åº”é™æµ"><a href="#ğŸ²-ç³»ç»Ÿè‡ªé€‚åº”é™æµ" class="headerlink" title="ğŸ² ç³»ç»Ÿè‡ªé€‚åº”é™æµ"></a>ğŸ² ç³»ç»Ÿè‡ªé€‚åº”é™æµ</h2><div style="text-align:center"><img style="width:100%;border-radius:5px" src="https://files.catbox.moe/6ys8or.png"/></div><p><strong><font color=#2b61a7>ç³»ç»Ÿè§„åˆ™æ”¯æŒä»¥ä¸‹çš„æ¨¡å¼ï¼š</font></strong></p><ul><li><strong>Load è‡ªé€‚åº”</strong>ï¼ˆä»…å¯¹ Linux/Unix-like æœºå™¨ç”Ÿæ•ˆï¼‰ï¼šç³»ç»Ÿçš„ load1 ä½œä¸ºå¯å‘æŒ‡æ ‡ï¼Œè¿›è¡Œè‡ªé€‚åº”ç³»ç»Ÿä¿æŠ¤ã€‚å½“ç³»ç»Ÿ load1 è¶…è¿‡è®¾å®šçš„å¯å‘å€¼ï¼Œä¸”ç³»ç»Ÿå½“å‰çš„å¹¶å‘çº¿ç¨‹æ•°è¶…è¿‡ä¼°ç®—çš„ç³»ç»Ÿå®¹é‡æ—¶æ‰ä¼šè§¦å‘ç³»ç»Ÿä¿æŠ¤ï¼ˆBBR é˜¶æ®µï¼‰ã€‚ç³»ç»Ÿå®¹é‡ç”±ç³»ç»Ÿçš„ <code>maxQps * minRt</code> ä¼°ç®—å¾—å‡ºã€‚è®¾å®šå‚è€ƒå€¼ä¸€èˆ¬æ˜¯ <code>CPU cores * 2.5</code>ã€‚</li><li><strong>CPU usage</strong>ï¼ˆ1.5.0+ ç‰ˆæœ¬ï¼‰ï¼šå½“ç³»ç»Ÿ CPU ä½¿ç”¨ç‡è¶…è¿‡é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ï¼ˆå–å€¼èŒƒå›´ 0.0-1.0ï¼‰ï¼Œæ¯”è¾ƒçµæ•ã€‚</li><li><strong>å¹³å‡ RT</strong>ï¼šå½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„å¹³å‡ RT è¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚</li><li><strong>å¹¶å‘çº¿ç¨‹æ•°</strong>ï¼šå½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„å¹¶å‘çº¿ç¨‹æ•°è¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ã€‚</li><li><strong>å…¥å£ QPS</strong>ï¼šå½“å•å°æœºå™¨ä¸Šæ‰€æœ‰å…¥å£æµé‡çš„ QPS è¾¾åˆ°é˜ˆå€¼å³è§¦å‘ç³»ç»Ÿä¿æŠ¤ã€‚</li></ul><br><br><br><br><br><Br><h2 id="âš½ï¸-Sentinel-æŒä¹…åŒ–è§„åˆ™"><a href="#âš½ï¸-Sentinel-æŒä¹…åŒ–è§„åˆ™" class="headerlink" title="âš½ï¸ Sentinel | æŒä¹…åŒ–è§„åˆ™"></a>âš½ï¸ Sentinel | æŒä¹…åŒ–è§„åˆ™</h2><div style="background-image: linear-gradient(to right,#CE9FFC,#7367F0);width:100%;padding:15px 15px;border-radius:15px;color:white;"><b><span style="color:#FFF720">è§£å†³ç—›ç‚¹ï¼š</span><br>æ¯æ¬¡é‡å¯é¡¹ç›®ååœ¨ Sentinel é‡Œé¢çš„é…ç½®éƒ½ä¼šä¸¢å¤±ï¼Œè¿™å¾ˆä¸åˆ©äºäº§å“å‘å¸ƒã€‚<br><span style="color:#FFF720">è§£å†³æ–¹æ¡ˆ</span><br>ä½¿ç”¨ <span style="color:#3CD500">Nacos</span> è¿›è¡Œé…ç½®å­˜å‚¨ã€‚<br></b></div><br><br><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.csp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>sentinel-datasource-nacos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8401</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> cloudalibaba<span class="token punctuation">-</span>sentinel<span class="token punctuation">-</span>service<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">nacos</span><span class="token punctuation">:</span><span class="token key atrule">discovery</span><span class="token punctuation">:</span><span class="token comment"># Nacos æœåŠ¡æ³¨å†Œä¸­å¿ƒ</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> <span class="token key atrule">localhost</span><span class="token punctuation">:</span> <span class="token number">8848</span><span class="token key atrule">sentinel</span><span class="token punctuation">:</span><span class="token key atrule">transport</span><span class="token punctuation">:</span>  <span class="token comment"># é…ç½® Sentinel dashboard åœ°å€</span><span class="token key atrule">dashboard</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8080</span><span class="token comment"># é»˜è®¤ 8719 ç«¯å£ï¼Œå¦‚æœè¢«å ç”¨åˆ™ä¼š+1 è‡ªåŠ¨æ‰«æï¼Œç›´è‡³æ‰¾åˆ°æœªè¢«å ç”¨çš„ç«¯å£</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8719</span><span class="token key atrule">datasource</span><span class="token punctuation">:</span><span class="token key atrule">ds1</span><span class="token punctuation">:</span><span class="token key atrule">nacos</span><span class="token punctuation">:</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span><span class="token key atrule">dataId</span><span class="token punctuation">:</span> cloudalibaba<span class="token punctuation">-</span>sentinel<span class="token punctuation">-</span>service<span class="token key atrule">groupId</span><span class="token punctuation">:</span> DEFAULT_GROUP<span class="token key atrule">data-type</span><span class="token punctuation">:</span> json<span class="token key atrule">rule-type</span><span class="token punctuation">:</span> flow<span class="token key atrule">management</span><span class="token punctuation">:</span><span class="token key atrule">endpoints</span><span class="token punctuation">:</span><span class="token key atrule">web</span><span class="token punctuation">:</span><span class="token key atrule">exposure</span><span class="token punctuation">:</span><span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">'*'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">[</span>  <span class="token punctuation">&#123;</span>    <span class="token comment">// URL èµ„æºåç§°</span>    <span class="token property">"resource"</span><span class="token operator">:</span><span class="token string">"/rateLimit/byUrl"</span><span class="token punctuation">,</span>    <span class="token comment">// æ¥æºåº”ç”¨</span>    <span class="token property">"limitApp"</span><span class="token operator">:</span><span class="token string">"default"</span><span class="token punctuation">,</span>    <span class="token comment">// é˜ˆå€¼ç±»å‹ 0ï¼šçº¿ç¨‹æ•°ï¼Œ1ï¼šQPS</span>    <span class="token property">"grade"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>    <span class="token comment">// å•å‡»é˜ˆå€¼</span>    <span class="token property">"count"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>    <span class="token comment">// æµæ§æ¨¡å¼ 0ï¼šç›´æ¥1ï¼šå…³è”2ï¼šé“¾è·¯</span>    <span class="token property">"storategy"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>    <span class="token comment">// æµæ§æ•ˆæœ 0:ç›´æ¥å¤±è´¥1ï¼šé¢„çƒ­WarmUp2ï¼šæ’é˜Ÿç­‰å¾…</span>    <span class="token property">"controlBehavior"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>    <span class="token comment">// æ˜¯å¦é›†ç¾¤</span>    <span class="token property">"clusterMode"</span><span class="token operator">:</span><span class="token boolean">false</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div style="background-image: linear-gradient(to right,#CE9FFC,#7367F0);width:100%;padding:15px 15px;border-radius:15px;color:white;"><b><span style="color:#FFF720">åœæœºåæ²¡æœ‰äº†ï¼Œä½†æ˜¯å¼€æœºåä¼šå†æ¬¡å‡ºç°</span><br></div><br><br><br><br><Br><br><Br><br><Br><br>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
      <category>SpringCloudAlibaba</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
      <tag>SpringCloudAlibaba</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSS | é¢œè‰²æ˜¾ç¤º</title>
    <link href="/2022/07/28/%E5%89%8D%E7%AB%AF/css/CSS%20%7C%20%E9%A2%9C%E8%89%B2%E6%98%BE%E7%A4%BA/"/>
    <url>/2022/07/28/%E5%89%8D%E7%AB%AF/css/CSS%20%7C%20%E9%A2%9C%E8%89%B2%E6%98%BE%E7%A4%BA/</url>
    
    <content type="html"><![CDATA[<div class="code-wrapper"><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* ç›´æ¥ç”¨åå­— */</span><span class="token property">color</span><span class="token punctuation">:</span> white<span class="token comment">/* # */</span><span class="token property">color</span><span class="token punctuation">:</span> #ffffff <span class="token comment">/* rgb(çº¢,ç»¿,è“) */</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span>255<span class="token punctuation">,</span>255<span class="token punctuation">)</span><span class="token comment">/* rgba(çº¢,ç»¿,è“,0~1é€æ˜åº¦) */</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>225<span class="token punctuation">,</span>225<span class="token punctuation">,</span>225<span class="token punctuation">,</span>0.5<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯</category>
      
      <category>CSS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯ | ä¸€ä¸ªæœ‰è¶£çš„ hover æ•ˆæœ</title>
    <link href="/2022/07/28/%E5%89%8D%E7%AB%AF/%E6%95%88%E6%9E%9C/%E4%B8%80%E4%B8%AA%E6%9C%89%E8%B6%A3%E7%9A%84%20hover%20%E6%95%88%E6%9E%9C/"/>
    <url>/2022/07/28/%E5%89%8D%E7%AB%AF/%E6%95%88%E6%9E%9C/%E4%B8%80%E4%B8%AA%E6%9C%89%E8%B6%A3%E7%9A%84%20hover%20%E6%95%88%E6%9E%9C/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.bilibili.com/video/BV1Bg411f7o5?spm_id_from=333.999.0.0&vd_source=32c908a2f8edcccb3fa042cf11b101bc"><strong>æ¥æºï¼šBilibili</strong></a></p><br><div style="text-align:center"><img src="https://files.catbox.moe/4krqh8.gif" style="width:100%"/></div><br><div style="display:flex"><div style="text-align:center;padding:0 10px 0 0"><img src="https://files.catbox.moe/rbsrx1.png"></div><div style="text-align:center;padding:0 0 10px 0"><img src="https://files.catbox.moe/a0z0bm.png"></div></div><br><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>hover æ•ˆæœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./index.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>login<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Login<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è´¦å·<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å¯†ç <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">let</span> span        <span class="token keyword">let</span> inTime<span class="token punctuation">,</span>outTime        <span class="token comment">// è·å– Login</span>        <span class="token keyword">let</span> login<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.login'</span><span class="token punctuation">)</span>        <span class="token keyword">let</span> isIn <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// é»˜è®¤å¼€å…³æ‰“å¼€</span>        <span class="token keyword">let</span> isOut        <span class="token comment">// é¼ æ ‡è¿›å…¥äº‹ä»¶</span>        login<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseenter'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            isOut <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// è«ä»ç¯æ¯”</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>isIn<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                inTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>                <span class="token comment">// ç”Ÿæˆ span å…ƒç´ </span>                span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">)</span>                login<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span>                <span class="token comment">// span å»ä½¿ç”¨ in åŠ¨ç”»</span>                span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>animation <span class="token operator">=</span> <span class="token string">'in .5s ease-out forwards'</span>                <span class="token comment">// è®¡ç®— top å’Œ left çš„å€¼</span>                <span class="token keyword">let</span> top <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY <span class="token operator">-</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>                <span class="token keyword">let</span> left <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>                span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> top <span class="token operator">+</span><span class="token string">'px'</span>                span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> left <span class="token operator">+</span><span class="token string">'px'</span>                isIn <span class="token operator">=</span> <span class="token boolean">false</span>    <span class="token comment">// å½“æˆ‘ä»¬æ‰§è¡Œå®Œç¨‹åºå å…³é—­</span>                isOut <span class="token operator">=</span> <span class="token boolean">true</span>    <span class="token comment">// å½“æˆ‘ä»¬æ‰§è¡Œå®Œç¨‹åºå æ‰“å¼€</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// é¼ æ ‡ç¦»å¼€äº‹ä»¶</span>        login<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseleave'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>isOut<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                outTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">let</span> passTime <span class="token operator">=</span> outTime <span class="token operator">-</span> inTime<span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>passTime<span class="token operator">&lt;</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token function">setTimeout</span><span class="token punctuation">(</span>mouseleave<span class="token punctuation">,</span><span class="token number">500</span><span class="token operator">-</span>passTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å·²ç»ç»è¿‡çš„æ—¶é—´å°±ä¸è¦äº†</span>                <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>                    <span class="token function">mouseleave</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">function</span> <span class="token function">mouseleave</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>animation <span class="token operator">=</span> <span class="token string">'out .5s ease-out forwards'</span>                <span class="token comment">// è®¡ç®— top å’Œ left çš„å€¼</span>                <span class="token keyword">let</span> top <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY <span class="token operator">-</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>                <span class="token keyword">let</span> left <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>                span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> top <span class="token operator">+</span><span class="token string">'px'</span>                span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> left <span class="token operator">+</span><span class="token string">'px'</span>                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    login<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span>                    isIn <span class="token operator">=</span> <span class="token boolean">true</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div class="code-wrapper"><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">*</span><span class="token punctuation">&#123;</span>    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #eeeeee<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">body</span><span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #2c3e50<span class="token punctuation">;</span>    <span class="token comment">/* background-image: linear-gradient(to right,#fbc2eb,#a6c1ee); */</span><span class="token punctuation">&#125;</span><span class="token selector">.login</span><span class="token punctuation">&#123;</span>    <span class="token comment">/* è¶…å‡ºéƒ¨åˆ†éšè— */</span>    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 450px<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #34495e<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 10px 10px 20px <span class="token function">rgba</span><span class="token punctuation">(</span>33<span class="token punctuation">,</span>44<span class="token punctuation">,</span>55<span class="token punctuation">,</span> .3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">h1</span><span class="token punctuation">&#123;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 45px<span class="token punctuation">;</span>    <span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>    <span class="token comment">/* æé«˜å±‚çº§ */</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">form</span><span class="token punctuation">&#123;</span>    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-around<span class="token punctuation">;</span>    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 230px<span class="token punctuation">;</span>    <span class="token comment">/* æé«˜å±‚çº§ */</span>    <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">input</span><span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 2px solid #eeeeee<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">input::placeholder</span><span class="token punctuation">&#123;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span> #eeeeee<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">button</span><span class="token punctuation">&#123;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 36px<span class="token punctuation">;</span>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #eeeeee<span class="token punctuation">;</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span>transparent<span class="token punctuation">;</span>    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token selector">span</span><span class="token punctuation">&#123;</span>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token property">background-color</span><span class="token punctuation">:</span> #916968<span class="token punctuation">;</span>    <span class="token comment">/* é¼ æ ‡å±…ä¸­ */</span>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* åœ†å½¢å±•å¼€ */</span>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/* é¼ æ ‡è¿›å›¾ login æ—¶çš„åŠ¨ç”» */</span><span class="token atrule"><span class="token rule">@keyframes</span> in</span><span class="token punctuation">&#123;</span>    <span class="token selector">0%</span>    <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span>    <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/* é¼ æ ‡ç¦»å¼€ login æ—¶çš„åŠ¨ç”» */</span><span class="token atrule"><span class="token rule">@keyframes</span> out</span><span class="token punctuation">&#123;</span>    <span class="token selector">0%</span>    <span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token selector">100%</span><span class="token punctuation">&#123;</span>        <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>        <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯</category>
      
      <category>æ•ˆæœ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>æ•ˆæœ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSS | æ¸å˜æ•ˆæœ</title>
    <link href="/2022/07/28/%E5%89%8D%E7%AB%AF/css/css%20%7C%20%E6%B8%90%E5%8F%98%E6%95%88%E6%9E%9C/"/>
    <url>/2022/07/28/%E5%89%8D%E7%AB%AF/css/css%20%7C%20%E6%B8%90%E5%8F%98%E6%95%88%E6%9E%9C/</url>
    
    <content type="html"><![CDATA[<div class="code-wrapper"><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right<span class="token punctuation">,</span>#fbc2eb<span class="token punctuation">,</span>#a6c1ee<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯</category>
      
      <category>CSS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | Alibaba | Nacos åœ¨ MacOS ä¸Šå¯åŠ¨å¤±è´¥çš„è§£å†³æ–¹æ¡ˆ</title>
    <link href="/2022/07/27/SpringCloud%7CAlibaba%7CNacos%E5%9C%A8MacOS%E4%B8%8A%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
    <url>/2022/07/27/SpringCloud%7CAlibaba%7CNacos%E5%9C%A8MacOS%E4%B8%8A%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
    
    <content type="html"><![CDATA[<br><h2 id="ç³»ç»Ÿä¿¡æ¯"><a href="#ç³»ç»Ÿä¿¡æ¯" class="headerlink" title="ç³»ç»Ÿä¿¡æ¯"></a>ç³»ç»Ÿä¿¡æ¯</h2><blockquote><p>ç³»ç»Ÿï¼šMonterey 12.5</p><p>èŠ¯ç‰‡ï¼šM1</p><p>å‹å·ï¼šMacBook Air 2020 æ¬¾</p></blockquote><div style="text-align:center"><img style="width:85%" src="https://files.catbox.moe/qduqap.png"/></div><br><br><h2 id="å¯èƒ½é€ æˆå¯åŠ¨å¤±è´¥çš„é—®é¢˜-åŠ-è§£å†³æ–¹æ¡ˆ"><a href="#å¯èƒ½é€ æˆå¯åŠ¨å¤±è´¥çš„é—®é¢˜-åŠ-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¯èƒ½é€ æˆå¯åŠ¨å¤±è´¥çš„é—®é¢˜ åŠ è§£å†³æ–¹æ¡ˆ"></a>å¯èƒ½é€ æˆå¯åŠ¨å¤±è´¥çš„é—®é¢˜ åŠ è§£å†³æ–¹æ¡ˆ</h2><h3 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h3><p>æ²¡æœ‰å®‰è£… Java ã€Œæˆ–ã€ ç¯å¢ƒå˜é‡ä¸­æ²¡æœ‰ JAVA_HOME  ã€Œæˆ–ã€ JAVA_HOME æŒ‡å‘è·¯å¾„ä¸å¯¹</p><h4 id="è§£å†³æ–¹æ¡ˆ-ä¸€"><a href="#è§£å†³æ–¹æ¡ˆ-ä¸€" class="headerlink" title="è§£å†³æ–¹æ¡ˆ ä¸€"></a>è§£å†³æ–¹æ¡ˆ ä¸€</h4><p>é…ç½®ç¯å¢ƒå˜é‡</p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">## å» Orcal å®˜ç½‘å®‰è£… Java sudo vim ~&#x2F;.bash_profile## å°†ä»¥ä¸‹å†…å®¹ç²˜è´´åˆ°æ–‡ä»¶ä¸­ï¼ˆè‡ªå·±ä¿®æ”¹ä¸‹ç›¸å…³è·¯å¾„ï¼‰export JAVA_HOME&#x3D;&#x2F;Library&#x2F;Java&#x2F;JavaVirtualMachines&#x2F;jdk1.8.0_311.jdk&#x2F;Contents&#x2F;Homeexport PATH&#x3D;$JAVA_HOME&#x2F;bin:$PATH:.:&#x2F;Users&#x2F;hsk&#x2F;.codeexpander&#x2F;installation&#x2F;node_modules&#x2F;.bin:&#x2F;Applications&#x2F;Codeexpander.app&#x2F;Contents&#x2F;Resources&#x2F;app&#x2F;app&#x2F;nodes:&#x2F;Applications&#x2F;Codeexpander.app&#x2F;Contents&#x2F;Resources&#x2F;app&#x2F;app&#x2F;node_modules&#x2F;.bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><h4 id="è§£å†³æ–¹æ¡ˆ-äºŒ-æš´åŠ›ä¿®æ”¹"><a href="#è§£å†³æ–¹æ¡ˆ-äºŒ-æš´åŠ›ä¿®æ”¹" class="headerlink" title="è§£å†³æ–¹æ¡ˆ äºŒ | æš´åŠ›ä¿®æ”¹"></a>è§£å†³æ–¹æ¡ˆ äºŒ | æš´åŠ›ä¿®æ”¹</h4><p>ä¿®æ”¹<code>nacos/bin/startup.sh</code>æ–‡ä»¶ï¼Œå°† <code>JAVA_HOME</code> ç›´æ¥å†™åœ¨é‡Œé¢</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç›´æ¥åœ¨ <code>JAVA_HOME</code> åé¢æ·»åŠ  Java è·¯å¾„å°±å¯ä»¥</p><div style="text-align:center"><img style="width:85%" src="https://files.catbox.moe/4en87x.png"/></div><h2 id="å¯èƒ½å‡ºç°çš„é—®é¢˜äºŒ"><a href="#å¯èƒ½å‡ºç°çš„é—®é¢˜äºŒ" class="headerlink" title="å¯èƒ½å‡ºç°çš„é—®é¢˜äºŒ"></a>å¯èƒ½å‡ºç°çš„é—®é¢˜äºŒ</h2><h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>æƒé™ä¸è¶³</p><h4 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><p>åœ¨å¯åŠ¨å‘½ä»¤å‰é¢åŠ ä¸Š<code>sudo</code></p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">## å¯åŠ¨ Nacossudo sh startup.sh -m standalone## å…³é—­ Nacossudo .&#x2F;shutdown.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Error</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SpringCloud</tag>
      
      <tag>SpringCloudAlibaba</tag>
      
      <tag>Error</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | Alibaba | Nacos</title>
    <link href="/2022/07/27/SpringCloud%20%7C%20Alibaba%20%7C%20Nacos/"/>
    <url>/2022/07/27/SpringCloud%20%7C%20Alibaba%20%7C%20Nacos/</url>
    
    <content type="html"><![CDATA[<br><div style="text-align:center;padding:10px;border-radius:15px"><a href="https://nacos.io/zh-cn/"><img  style="width:280px;border-radius:5px" src="https://files.catbox.moe/jyxm76.png"/></a></div><p><font size=2 color=darkgray>å‰é¢å››ä¸ªå­—æ¯åˆ†åˆ«ä¸º Naming ä¸ Configuration çš„å‰ä¸¤ä¸ªå­—æ¯ï¼Œæœ€åçš„ s ä¸º Serviceã€‚</font></p><hr><p>[TOC]</p><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><h3 id="æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚</p><p>Nacos = Eureka + Config + Bus</p><div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/7uo4z3.png"/></div><br><h3 id="ç‰¹æ€§ï¼š"><a href="#ç‰¹æ€§ï¼š" class="headerlink" title="ç‰¹æ€§ï¼š"></a>ç‰¹æ€§ï¼š</h3><ul><li><strong>å•æœºæ¨¡å¼ ï¼š</strong>ç”¨äºæµ‹è¯•å’Œå•æœºä½¿ç”¨</li><li><strong>é›†ç¾¤æ¨¡å¼ ï¼š</strong>ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œç¡®ä¿é«˜å¯ç”¨</li><li><strong>å¤šé›†ç¾¤æ¨¡å¼ï¼š</strong>ç”¨äºå¤šæ•°æ®ä¸­å¿ƒåœºæ™¯</li></ul><br><h2 id="å®‰è£…-Nacos"><a href="#å®‰è£…-Nacos" class="headerlink" title="å®‰è£… Nacos"></a>å®‰è£… Nacos</h2><h3 id="Win-Mac-å®‰è£…"><a href="#Win-Mac-å®‰è£…" class="headerlink" title="Win/Mac å®‰è£…"></a>Win/Mac å®‰è£…</h3><ol><li>åœ¨ <a href="https://github.com/alibaba/nacos"><strong>GitHub</strong></a> ä¸‹è½½ Nacos RELEASE ç‰ˆæœ¬</li><li>è§£å‹ç¼©</li><li><code>cd nacos/bin</code></li><li>å¯åŠ¨<ol><li>Mac/Linux/Unix <code>sh startup.sh -m standalone</code></li><li>Windows <code>startup.cmd -m standalone</code></li></ol></li></ol><br><h3 id="Linux-å®‰è£…"><a href="#Linux-å®‰è£…" class="headerlink" title="Linux å®‰è£…"></a>Linux å®‰è£…</h3><br><br><h2 id="ğŸªµ-å°å®æˆ˜-Nacos-æ›¿ä»£-Eureka-ä½œä¸º-æœåŠ¡æ³¨å†Œä¸­å¿ƒ"><a href="#ğŸªµ-å°å®æˆ˜-Nacos-æ›¿ä»£-Eureka-ä½œä¸º-æœåŠ¡æ³¨å†Œä¸­å¿ƒ" class="headerlink" title="ğŸªµ å°å®æˆ˜ | Nacos æ›¿ä»£ Eureka ä½œä¸º-æœåŠ¡æ³¨å†Œä¸­å¿ƒ"></a>ğŸªµ å°å®æˆ˜ | Nacos æ›¿ä»£ Eureka ä½œä¸º-æœåŠ¡æ³¨å†Œä¸­å¿ƒ</h2><h4 id="9001-ç”Ÿäº§è€…"><a href="#9001-ç”Ÿäº§è€…" class="headerlink" title="9001 | ç”Ÿäº§è€…"></a>9001 | ç”Ÿäº§è€…</h4><ol><li>æ–°å»º Module<code>Cloudalibaba-provider-payment-9001</code></li><li>é…ç½® xml ä¸ yml</li></ol><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;latest.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">server:port: 9001spring:application:name: nacos-payment-providercloud:nacos:discovery:server-addr: localhost:8848 # é…ç½® Nacos åœ°å€management:endpoints:web:exposure:include: &quot;*&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NacosProviderDemoApplication</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">NacosProviderDemoApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/payment/nacos/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPayment</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"Nacos registry,serverPort"</span><span class="token operator">+</span>serverPort<span class="token operator">+</span><span class="token string">"\tid:"</span><span class="token operator">+</span>id<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><h4 id="9002-ä¸-9001-ä¸€è‡´-ç”Ÿäº§è€…"><a href="#9002-ä¸-9001-ä¸€è‡´-ç”Ÿäº§è€…" class="headerlink" title="9002 | ä¸ 9001 ä¸€è‡´ | ç”Ÿäº§è€…"></a>9002 | ä¸ 9001 ä¸€è‡´ | ç”Ÿäº§è€…</h4><br><h4 id="83-æ¶ˆè´¹è€…"><a href="#83-æ¶ˆè´¹è€…" class="headerlink" title="83 | æ¶ˆè´¹è€…"></a>83 | æ¶ˆè´¹è€…</h4><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;latest.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">server:port: 83spring:application:name: nacos-order-consumercloud:nacos:discovery:server-addr: localhost:8848 # é…ç½® Nacos åœ°å€service-url:nacos-user-service: http:&#x2F;&#x2F;nacos-payment-provider<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain9002</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain9002</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Bean</span>  <span class="token annotation punctuation">@LoadBalance</span>  <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getRestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderNacosController</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>  <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;service-url.nacos-user-service&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> serverURL<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/consumer/payment/nacos/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>serverURL<span class="token operator">+</span><span class="token string">"/payment/nacos/"</span><span class="token operator">+</span>id<span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><blockquote><h4 id="åˆ‡æ¢æ¨¡å¼"><a href="#åˆ‡æ¢æ¨¡å¼" class="headerlink" title="åˆ‡æ¢æ¨¡å¼"></a>åˆ‡æ¢æ¨¡å¼</h4><p>curl -X PUT â€˜$NACOS_SERVER:8848/nacos/v1/ns/operator/switches?entry=serverMode&amp;value=CPâ€™</p></blockquote><h2 id="ğŸªµ-å°å®æˆ˜-Nacos-æ›¿ä»£-Config-ä½œä¸º-æœåŠ¡é…ç½®ä¸­å¿ƒ"><a href="#ğŸªµ-å°å®æˆ˜-Nacos-æ›¿ä»£-Config-ä½œä¸º-æœåŠ¡é…ç½®ä¸­å¿ƒ" class="headerlink" title="ğŸªµ å°å®æˆ˜ | Nacos æ›¿ä»£ Config ä½œä¸º-æœåŠ¡é…ç½®ä¸­å¿ƒ"></a>ğŸªµ å°å®æˆ˜ | Nacos æ›¿ä»£ Config ä½œä¸º-æœåŠ¡é…ç½®ä¸­å¿ƒ</h2><h3 id="ç›¸å…³é…ç½®"><a href="#ç›¸å…³é…ç½®" class="headerlink" title="ç›¸å…³é…ç½®"></a>ç›¸å…³é…ç½®</h3><h4 id="xml-æ–‡ä»¶"><a href="#xml-æ–‡ä»¶" class="headerlink" title="xml æ–‡ä»¶"></a>xml æ–‡ä»¶</h4><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- Nacos ä½œä¸ºé…ç½®ä¸­å¿ƒ --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- Nacos ä½œä¸ºæœåŠ¡æ³¨å†Œ --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;latest.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="yml-æ–‡ä»¶"><a href="#yml-æ–‡ä»¶" class="headerlink" title="yml æ–‡ä»¶"></a>yml æ–‡ä»¶</h4><p>bootstrap.yml</p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">## å…¨å±€é…ç½®bootstrap.yml &gt; å±€éƒ¨é…ç½® application.ymlserver:port: 3377spring:application:name: nacos-config-clientcloud:nacos:discovery:server-addr: localhost:8848 # Nacos ä½œä¸ºæœåŠ¡æ³¨å†Œåœ°å€config:server-addr: localhost: 8848 # Nacos ä½œä¸ºé…ç½®ä¸­å¿ƒåœ°å€file-extension: yaml # æŒ‡å®šä¸º yaml æ ¼å¼çš„é…ç½®# $&#123;spring.application.name&#125;-$&#123;spring.profile.active&#125;.$&#123;spring.cloud.nacos.config.file-extension&#125;# ä¸Šè¿°å†…å®¹ä¸ºï¼šnacos-config-client-dev.yaml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div style="text-align:center"><img style="width:75%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/0056py.png"/></div><br><div style="text-align:center"><img style="width:75%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/zjkp79.png"/></div><br><p>application.yml</p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">spring:profiles:active: dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h4 id="ä¸»å¯åŠ¨"><a href="#ä¸»å¯åŠ¨" class="headerlink" title="ä¸»å¯åŠ¨"></a>ä¸»å¯åŠ¨</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NacosConfigClientMain3377</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">NacosConfigClientMain3377</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RefreshScope</span> <span class="token comment">// Nacos æ”¯æŒåŠ¨æ€åˆ·æ–°</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientController</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;config.info&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> configInfo<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/config/info"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getConfigInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> configInfo<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="è¿›å…¥-Nacos-html-ã€-localhost-8848-nacos-ã€"><a href="#è¿›å…¥-Nacos-html-ã€-localhost-8848-nacos-ã€" class="headerlink" title="è¿›å…¥ Nacos.html ã€ localhost:8848/nacos ã€"></a>è¿›å…¥ Nacos.html ã€ localhost:8848/nacos ã€</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">$&#123;spring.application.name&#125;-$&#123;spring.profile.active&#125;.$&#123;spring.cloud.nacos.config.file-extension&#125;# ä¸Šè¿°å†…å®¹ä¸ºï¼šnacos-config-client-dev.yml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>æ–°å»ºé…ç½®</p><div style="display:flex"><div style="text-align:center"><img style="width:90%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/3kn5l4.png"/></div><div style="text-align:center"><img style="width:90%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/rhtwe9.png"/></div></div><h3 id="å‘½åç©ºé—´-åˆ†ç±»è®¾è®¡"><a href="#å‘½åç©ºé—´-åˆ†ç±»è®¾è®¡" class="headerlink" title="å‘½åç©ºé—´ | åˆ†ç±»è®¾è®¡"></a>å‘½åç©ºé—´ | åˆ†ç±»è®¾è®¡</h3><h4 id="æ˜¯ä»€ä¹ˆï¼Ÿ-1"><a href="#æ˜¯ä»€ä¹ˆï¼Ÿ-1" class="headerlink" title="æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>ç±»ä¼¼ Java é‡Œé¢çš„ package åŒ…åå’Œç±»å</p><p>æœ€å¤–å±‚çš„ namespace å¯ä»¥ç”¨äºåŒºåˆ†éƒ¨ç½²ç¯å¢ƒï¼ŒGroup å’Œ DataID é€»è¾‘ä¸ŠåŒºåˆ†ä¸¤ä¸ªç›®æ ‡å¯¹è±¡ã€‚</p><div style="text-align:center;background:gray;border-radius:25px;border:1px solid black;height:300px;padding:10px"><span style="margin-top:20px;color:white"><b>NameSpace</b></span><br><div style="text-align:center;background:orange;border-radius:25px;border:1px solid black;height:240px;padding:10px"><span style="margin-top:20px;color:white"><b>Group</b></span><br><div style="text-align:center;background:pink;border-radius:25px;border:1px solid black;height:190px;padding:10px"><span style="margin-top:20px;color:white"><b>Service</b></span><br><div style="display:flex;text-align:center;padding:20px"><div style="width:30%;background:#5fa2dd;border-radius:10px;border:1px solid darkgray;display:center;padding:10px;margin-left:10%;color:white">Cluster1<br><div style="border-radius:5px;background:#aec0e6;margin-top:10px;padding:5px 3px;font-size:13px;font-size:10px">Instance1</div><div style="border-radius:5px;background:#aec0e6;margin-top:15px;padding:5px 3px;font-size:13px;font-size:10px">Instance2</div></div><div style="width:30%;background:#5fa2dd;border-radius:10px;border:1px solid darkgray;display:center;padding:10px;margin-left:20%;color:white">Cluster2<br><div style="border-radius:5px;background:#aec0e6;margin-top:10px;padding:5px 3px;font-size:10px">Instance3</div><div style="border-radius:5px;background:#aec0e6;margin-top:15px;padding:5px 3px;font-size:10px">Instance4</div></div></div></div></div></div><br><p><font color=#2b61a7><strong>é»˜è®¤æƒ…å†µï¼š</strong><br><strong>Namespace=public, Group=DEFAULT_GROUP, é»˜è®¤Clusteræ˜¯EDEFAULTã€‚</strong></font><br>Nacosé»˜è®¤çš„å‘½åç©ºé—´æ˜¯public, Namespaceä¸»è¦ç”¨æ¥å®ç°éš”ç¦»ã€‚<br>æ¯”å¦‚è¯´æˆ‘ä»¬ç°åœ¨æœ‰ä¸‰ä¸ªç¯å¢ƒï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºä¸‰ä¸ªNamespaceï¼Œ ä¸åŒçš„Namespaceä¹‹é—´æ˜¯éš”ç¦»çš„ã€‚</p><p>Group é»˜è®¤æ˜¯ DEFAULT_GROUPï¼ŒGROUP å¯ä»¥æŠŠä¸åŒçš„å¾®æœåŠ¡åˆ’åˆ†åˆ°åŒä¸€ä¸ªåˆ†ç»„é‡Œé¢å»ã€‚</p><br><br><h3 id="DataID"><a href="#DataID" class="headerlink" title="DataID"></a>DataID</h3><p><strong>æ²¡æœ‰é»˜è®¤ï¼Œéœ€è¦å–åå­—ï¼Œå–åè§„åˆ™ï¼š</strong></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">$&#123;spring.application.name&#125;-$&#123;spring.profile.active&#125;.$&#123;spring.cloud.nacos.config.file-extension&#125;# æœ¬é¡¹ç›®ä¸ºï¼šnacos-config-client-dev.yaml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><blockquote><p>æŒ‡å®š <code>spring.profile.active</code>å’Œé…ç½®æ–‡ä»¶çš„ <code>DataID</code>æ¥ä½¿ä¸åŒç¯å¢ƒä¸‹è¯»å–ä¸åŒçš„é…ç½®ã€‚</p><p>é»˜è®¤ç©ºé—´+é»˜è®¤åˆ†ç»„+æ–°å»º <code>dev</code> å’Œ <code>test</code> ä¸¤ä¸ª DataID</p></blockquote><p><strong>NacosConfig:</strong>    <code>nocas-config-client-test.yaml</code></p><div class="code-wrapper"><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">config</span><span class="token punctuation">:</span><span class="token key atrule">info</span><span class="token punctuation">:</span> from nacos config center<span class="token punctuation">,</span>nacos<span class="token punctuation">-</span>config<span class="token punctuation">-</span>client<span class="token punctuation">-</span>test.yaml<span class="token punctuation">,</span>version=2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h3 id="Group"><a href="#Group" class="headerlink" title="Group"></a>Group</h3><p><strong>é»˜è®¤: <font color=#5891ff>DEFAULT_GROUP</font></strong></p><p>é¡¹ç›®ä¸­ä½¿ç”¨ï¼š</p><p>åœ¨<code>config</code>ä¸‹å¢åŠ ä¸€ä¸ª <code>group:</code>å°±å¯ä»¥äº†ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>config<span class="token punctuation">-</span>client<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">nacos</span><span class="token punctuation">:</span><span class="token key atrule">discovery</span><span class="token punctuation">:</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span> <span class="token comment"># Nacos ä½œä¸ºæœåŠ¡æ³¨å†Œåœ°å€</span><span class="token key atrule">config</span><span class="token punctuation">:</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> <span class="token key atrule">localhost</span><span class="token punctuation">:</span> <span class="token number">8848</span> <span class="token comment"># Nacos ä½œä¸ºé…ç½®ä¸­å¿ƒåœ°å€</span><span class="token key atrule">file-extension</span><span class="token punctuation">:</span> yaml <span class="token comment"># æŒ‡å®šä¸º yaml æ ¼å¼çš„é…ç½®</span><span class="token key atrule">group</span><span class="token punctuation">:</span> TEST_GROUP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="NameSpace-å‘½åç©ºé—´"><a href="#NameSpace-å‘½åç©ºé—´" class="headerlink" title="NameSpace å‘½åç©ºé—´"></a>NameSpace å‘½åç©ºé—´</h3><p>åœ¨ NacosWeb ä¸Šåˆ›å»ºå‘½åç©ºé—´ï¼Œåˆ›å»ºå®Œæ¯•ä¹‹åé¦–é¡µæœ€ä¸Šæ–¹ä¼šæ˜¾ç¤ºå‘½åç©ºé—´ï¼š</p><br><div style="text-align:center"><img style="width:75%;border:1px solid #eae6e6;border-radius:25px" src="https://files.catbox.moe/95nerp.png"/></div><br><p>å‘½åç©ºé—´åˆ›å»ºä¹‹åä¼šæœ‰ä¸€ä¸ª<code>å‘½åç©ºé—´åç§°</code>æˆ–<code>å‘½åç©ºé—´ ID</code></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>config<span class="token punctuation">-</span>client<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">nacos</span><span class="token punctuation">:</span><span class="token key atrule">discovery</span><span class="token punctuation">:</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span> <span class="token comment"># Nacos ä½œä¸ºæœåŠ¡æ³¨å†Œåœ°å€</span><span class="token key atrule">config</span><span class="token punctuation">:</span><span class="token key atrule">server-addr</span><span class="token punctuation">:</span> <span class="token key atrule">localhost</span><span class="token punctuation">:</span> <span class="token number">8848</span> <span class="token comment"># Nacos ä½œä¸ºé…ç½®ä¸­å¿ƒåœ°å€</span><span class="token key atrule">file-extension</span><span class="token punctuation">:</span> yaml <span class="token comment"># æŒ‡å®šä¸º yaml æ ¼å¼çš„é…ç½®</span><span class="token key atrule">group</span><span class="token punctuation">:</span> TEST_GROUP<span class="token key atrule">namespace</span><span class="token punctuation">:</span> nameSpaceId<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><br><h2 id="ğŸ€-Nacos-é›†ç¾¤å’ŒæŒä¹…åŒ–é…ç½®ï¼ˆé‡è¦ï¼‰"><a href="#ğŸ€-Nacos-é›†ç¾¤å’ŒæŒä¹…åŒ–é…ç½®ï¼ˆé‡è¦ï¼‰" class="headerlink" title="ğŸ€ Nacos é›†ç¾¤å’ŒæŒä¹…åŒ–é…ç½®ï¼ˆé‡è¦ï¼‰"></a>ğŸ€ Nacos é›†ç¾¤å’ŒæŒä¹…åŒ–é…ç½®ï¼ˆé‡è¦ï¼‰</h2><div style="border-radius:10px;padding:3px 5px;font-size:20px;width:100%;text-align:center;background:red;color:white"><b>é‡è¦</b></div><br><div style="text-align:center"><img style="width:75%;border:1px solid #eae6e6;border-radius:25px" src="https://files.catbox.moe/dl4nzg.png"/></div><br><p><strong>VIP:</strong> è™šæ‹Ÿ IPï¼ˆVirtual IPï¼‰å¯ä»¥è€ƒè™‘ä½¿ç”¨ Nginx</p><div style="text-align:center"><img style="width:45%;border:1px solid #eae6e6;border-radius:25px" src="https://files.catbox.moe/zb67fv.png"/></div><h3 id="Nacos-æ•°æ®å­˜å‚¨-Derby-â†’-MySQL"><a href="#Nacos-æ•°æ®å­˜å‚¨-Derby-â†’-MySQL" class="headerlink" title="Nacos æ•°æ®å­˜å‚¨ Derby â†’ MySQL"></a>Nacos æ•°æ®å­˜å‚¨ Derby â†’ MySQL</h3><h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>è‡ªå¸¦ Derby åµŒå…¥å¼æ•°æ®åº“ï¼Œä½†æ˜¯åœ¨é›†ç¾¤æ¨¡å¼ä¸‹ï¼ŒN ä¸ª Nacos ç»„æˆçš„é›†ç¾¤å°±ä¼šæœ‰ N ä¸ª Derby æ•°æ®åº“ï¼Œä¼šå¯¼è‡´æ¯ä¸ª Nacos çš„æ•°æ®ä¸ä¸€è‡´ï¼Œå› æ­¤éœ€è¦åˆ‡æ¢åˆ° <strong>MySQL</strong></p><h4 id="é…ç½®æ–¹å¼"><a href="#é…ç½®æ–¹å¼" class="headerlink" title="é…ç½®æ–¹å¼"></a>é…ç½®æ–¹å¼</h4><p><strong>æ‰“å¼€å¹¶åœ¨ Navicat ä¸­æ‰§è¡Œæ–‡ä»¶ ï¼š</strong><code>/nacos/conf/nacos-mysql.sql</code></p><p><strong>æ‰“å¼€å¹¶ç¼–è¾‘æ–‡ä»¶ï¼š</strong> <code>/nacos/conf/application.peoperties</code></p><div class="code-wrapper"><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># æŒ‡å®šä¸º MySQL æ•°æ®åº“</span><span class="token attr-name">spring.datasource.platform</span><span class="token punctuation">=</span><span class="token attr-value">mysql</span><span class="token comment"># æ•°æ®åº“æ•°é‡</span><span class="token attr-name">db.num</span><span class="token punctuation">=</span><span class="token attr-value">1 </span><span class="token comment"># æ•°æ®åº“è¿æ¥ä¿¡æ¯</span><span class="token attr-name">db.url.0</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useUnicode=true&amp;useSSL=false&amp;serverTimezone=UTC</span><span class="token attr-name">db.user.0</span><span class="token punctuation">=</span><span class="token attr-value">username</span><span class="token attr-name">db.password.0</span><span class="token punctuation">=</span><span class="token attr-value">password</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="Linux-Nacos-é›†ç¾¤éƒ¨ç½²"><a href="#Linux-Nacos-é›†ç¾¤éƒ¨ç½²" class="headerlink" title="Linux Nacos é›†ç¾¤éƒ¨ç½²"></a>Linux Nacos é›†ç¾¤éƒ¨ç½²</h3><p><strong>è·å–å®‰è£…åŒ…ï¼š</strong> å¯ä»¥ curl æˆ–è€…ä¸‹è½½åˆ°æœ¬åœ°åä¸Šä¼ åˆ° Linux</p><p><strong>ä¾æ¬¡æ‰§è¡Œä¸‹æ–¹å‘½ä»¤ï¼š</strong>(2.1RELEASE ä¹‹åçš„ç‰ˆæœ¬å·²ç»æœ‰äº†-p å‚æ•°)</p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># è§£å‹ç¼©tar -zxvf nacos-server-x.x.x.tar.gz# copy ä¸‰ä»½cp -r nacos &#x2F;myNacos&#x2F; # ä¿®æ”¹ä¸€ä¸‹ application.properties ä¸­çš„ mysql æ•°æ®åº“ä¿¡æ¯# è¿›å…¥ bin æ–‡ä»¶cd .&#x2F;myNacos&#x2F;nacos&#x2F;bin## æŸ¥çœ‹ç½‘å¡iphostname -i## copyå¾—åˆ° cluster.conf.examplecp cluster.conf.example cluster.conf## å†™å…¥ä»¥ä¸‹å†…å®¹ï¼ˆIP ä¸å¯ä»¥æ˜¯ 127.0.0.1ï¼‰## ç›®çš„æ˜¯ä¸ºäº†è®©è¿™ä¸‰ä¸ªç«¯å£ä½œä¸ºä¸€ä¸ªé›†ç¾¤192.168.111.144:3333192.168.111.144:4444192.168.111.144:5555## å¤‡ä»½ä¸€ä¸‹è„šæœ¬cp startup.sh startup.sh.bk## ä¿®æ”¹ä¸€ä¸‹ startup.sh è„šæœ¬ï¼Œæ¥æ”¶ -p ç«¯å£å·sudo vim startup.sh## ä¿®æ”¹å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div style="text-align:center"><img style="width:75%;border:1px solid #eae6e6;border-radius:25px" src="https://files.catbox.moe/0dbton.png"/></div><br><div style="text-align:center"><img style="width:75%;border:1px solid #eae6e6;border-radius:25px" src="https://files.catbox.moe/wkr6u4.png"/></div><br><h3 id="éƒ¨ç½²-Nginx"><a href="#éƒ¨ç½²-Nginx" class="headerlink" title="éƒ¨ç½² Nginx"></a>éƒ¨ç½² Nginx</h3><div style="text-align:center"><img style="width:75%;border:1px solid #eae6e6;border-radius:25px" src="https://files.catbox.moe/hwc0cw.png"/></div><br><br><br><h2 id="ğŸ¥¥-å¤ä¹ -æœåŠ¡ä¸­å¿ƒ"><a href="#ğŸ¥¥-å¤ä¹ -æœåŠ¡ä¸­å¿ƒ" class="headerlink" title="ğŸ¥¥ å¤ä¹  | æœåŠ¡ä¸­å¿ƒ"></a>ğŸ¥¥ å¤ä¹  | æœåŠ¡ä¸­å¿ƒ</h2><p>Nacos <strong><font color=red>æ”¯æŒ AP/CP</font></strong> åˆ‡æ¢</p><div style="text-align:center"><img style="width:75%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/2yqnnm.png"/></div><br><table><thead><tr><th></th><th>Nacos</th><th>Eureka</th><th>Consul</th><th>CoreDNS</th><th>Zookeeper</th></tr></thead><tbody><tr><td>ä¸€è‡´æ€§åè®®</td><td>CP+AP</td><td>AP</td><td>CP</td><td>/</td><td>CP</td></tr><tr><td>å¥åº·æ£€æŸ¥</td><td>TCP/HTTP/MySQL/Client Beat</td><td>Client Beat</td><td>TCP/HTTP/gRPC/md</td><td>/</td><td>Client Beat</td></tr><tr><td>è´Ÿè½½å‡è¡¡</td><td>æƒé‡/DSL/metadata/CMDB</td><td>Ribbon</td><td>Fabio</td><td>RR</td><td>/</td></tr><tr><td>é›ªå´©ä¿æŠ¤</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>è‡ªåŠ¨æ³¨é”€å®ä¾‹</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯ç‰¹</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>è®¿é—®åè®®</td><td>HTTP/DNS/UDP</td><td>HTTP</td><td>HTTP/DNS</td><td>DNS</td><td>TCP</td></tr><tr><td>ç›‘å¬æ”¯ç‰¹</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>å¤šæ•°æ®ä¸­å¿ƒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>è·¨æ³¨å·ä¸­å¿ƒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>Springcloud é›†æˆ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>Dubbo é›†æˆ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr><tr><td>K8s é›†æˆ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr></tbody></table><br><div style="text-align:center"><span style="padding:10px 15px;width:60%;border-radius:15px;text-align:center;background:#4e49be"><span style="color:white"><b>ğŸ‘† Nacos ä¸å…¶ä»–æ³¨å†Œä¸­å¿ƒç‰¹æ€§å¯¹æ¯”</b></span></span></div><br><h4 id="å¤ä¹ ä¸€ä¸‹-CAP"><a href="#å¤ä¹ ä¸€ä¸‹-CAP" class="headerlink" title="å¤ä¹ ä¸€ä¸‹ CAP"></a>å¤ä¹ ä¸€ä¸‹ CAP</h4><p><strong><font color=red>Cæ˜¯æ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼›è€ŒAçš„å®šä¹‰æ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šæ”¶åˆ°å“åº”ã€‚</font></strong></p><h4 id="ä½•æ—¶é€‰æ‹©ä½¿ç”¨ä½•ç§æ¨¡å¼ï¼Ÿ"><a href="#ä½•æ—¶é€‰æ‹©ä½¿ç”¨ä½•ç§æ¨¡å¼ï¼Ÿ" class="headerlink" title="ä½•æ—¶é€‰æ‹©ä½¿ç”¨ä½•ç§æ¨¡å¼ï¼Ÿ"></a>ä½•æ—¶é€‰æ‹©ä½¿ç”¨ä½•ç§æ¨¡å¼ï¼Ÿ</h4><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä¸éœ€è¦å­˜å‚¨æœåŠ¡çº§åˆ«çš„ä¿¡æ¯ä¸”æœåŠ¡å®ä¾‹æ˜¯é€šè¿‡nacos-clientæ³¨å†Œï¼Œå¹¶èƒ½å¤Ÿä¿æŒå¿ƒè·³ä¸ŠæŠ¥ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€‰æ‹©APæ¨¡å¼ã€‚å½“å‰ä¸»æµçš„æœåŠ¡å¦‚ Spring cloud å’ŒDubbo æœåŠ¡ï¼Œéƒ½é€‚ç”¨äºAPæ¨¡å¼ï¼ŒAPæ¨¡å¼ä¸ºäº†æœåŠ¡çš„å¯èƒ½æ€§è€Œå‡å¼±äº†ä¸€è‡´æ€§ï¼Œå› æ­¤APæ¨¡å¼ä¸‹åªæ”¯æŒæ³¨å†Œä¸´æ—¶å®ä¾‹ã€‚</p><p>å¦‚æœéœ€è¦åœ¨æœåŠ¡çº§åˆ«ç¼–è¾‘æˆ–è€…å­˜å‚¨é…ç½®ä¿¡æ¯ï¼Œé‚£ä¹ˆCP æ˜¯å¿…é¡»ï¼ŒK8SæœåŠ¡å’ŒDNSæœåŠ¡åˆ™é€‚ç”¨äºCPæ¨¡å¼ã€‚</p><p>CPæ¨¡å¼ä¸‹åˆ™æ”¯æŒæ³¨å†ŒæŒä¹…åŒ–å®ä¾‹ï¼Œæ­¤æ—¶åˆ™æ˜¯ä»¥ Raft åè®®ä¸ºé›†ç¾¤è¿è¡Œæ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸‹æ³¨å†Œå®ä¾‹ä¹‹å‰å¿…é¡»å…ˆæ³¨å†ŒæœåŠ¡ï¼Œå¦‚æœæœåŠ¡ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¿”å›é”™è¯¯ã€‚</p><br><br>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
      <category>SpringCloudAlibaba</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
      <tag>SpringCloudAlibaba</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | Alibaba | ç›¸å…³æ¦‚å¿µ</title>
    <link href="/2022/07/27/SpringCloud%20%7C%20Alibaba%20%7C%20SpringCloud-Alibaba/"/>
    <url>/2022/07/27/SpringCloud%20%7C%20Alibaba%20%7C%20SpringCloud-Alibaba/</url>
    
    <content type="html"><![CDATA[<div style="text-align:center;padding:10px;border-radius:15px"><a href="https://spring.io/projects/spring-cloud-alibaba"><img  style="width:130px;border-radius:35px" src="https://files.catbox.moe/txwxuh.png"/></a></div><br><div style="width:100%;height:85px;background:#eef7fa;border-radius:10px;text-align:center;padding:22px 0px;"><div><img style="width:25px;border-radius:5px;margin:0 10px  9px 0" src="https://files.catbox.moe/2u957r.png"/><a href="https://github.com/alibaba/spring-cloud-alibaba/blob/2.2.x/Roadmap-zh.md" style="font-size:24px;margin-right:15px"><b>Github</b></a></div></div><hr><h2 id="ğŸ“-æ¦‚å¿µ"><a href="#ğŸ“-æ¦‚å¿µ" class="headerlink" title="ğŸ“ æ¦‚å¿µ"></a>ğŸ“ æ¦‚å¿µ</h2><h3 id="ä¸ºä»€ä¹ˆä¼šå‡ºç°-SpringCloud-Alibaba"><a href="#ä¸ºä»€ä¹ˆä¼šå‡ºç°-SpringCloud-Alibaba" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‡ºç° SpringCloud Alibaba"></a>ä¸ºä»€ä¹ˆä¼šå‡ºç° SpringCloud Alibaba</h3><ol><li>SpringCloud Netfilxé¡¹ç›®è¿›å…¥ç»´æŠ¤æ¨¡å¼</li></ol><h3 id="èƒ½å¹²ä»€ä¹ˆï¼Ÿ"><a href="#èƒ½å¹²ä»€ä¹ˆï¼Ÿ" class="headerlink" title="èƒ½å¹²ä»€ä¹ˆï¼Ÿ"></a>èƒ½å¹²ä»€ä¹ˆï¼Ÿ</h3><p><strong>æœåŠ¡é™æµé™çº§ï¼š</strong>é»˜è®¤æ”¯æŒ Servletã€Feignã€ RestTemplateã€Dubbo å’ŒRocketMQ é™æµé™çº§åŠŸèƒ½çš„æ¥å…¥ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶é€šè¿‡æ§åˆ¶å°å®æ—¶ä¿®æ”¹é™æµé™çº§è§„åˆ™ï¼Œè¿˜æ”¯æŒæŸ¥çœ‹é™æµé™çº§ Metrics ç›‘æ§ã€‚<br><strong>æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼š</strong>é€‚é… Spring Cloud æœåŠ¡æ³¨å†Œä¸å‘ç°æ ‡å‡†ï¼Œé»˜è®¤é›†æˆäº†Ribbon çš„æ”¯æŒã€‚<br><strong>åˆ†å¸ƒå¼é…ç½®ç®¡ç†ï¼š</strong>æ”¯æŒåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¤–éƒ¨åŒ–é…ç½®ï¼Œé…ç½®æ›´æ”¹æ—¶è‡ªåŠ¨åˆ·æ–°ã€‚<br><strong>æ¶ˆæ¯é©±åŠ¨èƒ½åŠ›ï¼š</strong>åŸºäº Spring Cloud Stream ä¸ºå¾®æœåŠ¡åº”ç”¨æ„å»ºæ¶ˆæ¯é©±åŠ¨èƒ½åŠ›ã€‚<br><strong>é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨ï¼š</strong>é˜¿é‡Œäº‘æä¾›çš„æµ·é‡ã€å®‰å…¨ã€ä½æˆæœ¬ã€é«˜å¯é çš„äº‘å­˜å‚¨æœåŠ¡ã€‚æ”¯æŒåœ¨ä»»ä½•åº”ç”¨ã€ä»»ä½•æ—¶é—´ã€ä»»ä½•åœ°ç‚¹å­˜å‚¨å’Œè®¿é—®ä»»æ„ç±»å‹çš„æ•°æ®ã€‚<br><strong>åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ï¼š</strong>æä¾›ç§’çº§ã€ç²¾å‡†ã€é«˜å¯é ã€é«˜å¯ç”¨çš„å®šæ—¶ï¼ˆåŸºäº Cron è¡¨è¾¾å¼ï¼‰ä»»åŠ¡è°ƒåº¦æœåŠ¡ã€‚åŒæ—¶æä¾›åˆ†å¸ƒå¼çš„ä»»åŠ¡æ‰§è¡Œæ¨¡å‹ï¼Œå¦‚ç½‘æ ¼ä»»åŠ¡ã€‚ç½‘æ ¼ä»»åŠ¡æ”¯æŒæµ·é‡å­ä»»åŠ¡å‡åŒ€åˆ†é…åˆ°æ‰€æœ‰ Worker (schedulerx-clientï¼‰ä¸Šæ‰§è¡Œã€‚</p>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
      <category>SpringCloudAlibaba</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
      <tag>SpringCloudAlibaba</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | é“¾è·¯è¿½è¸ª | Sleuth</title>
    <link href="/2022/07/26/SpringCloud%20%7C%20%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA%20%7C%20Sleuth/"/>
    <url>/2022/07/26/SpringCloud%20%7C%20%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA%20%7C%20Sleuth/</url>
    
    <content type="html"><![CDATA[<div style="border:1px solid gray;border-radius:15px;text-align:center;display:flex;padding:0px"><div><a href="https://spring.io/projects/spring-cloud-sleuth"><img style="border-radius:15px;width:30%" src="https://files.catbox.moe/7qho39.png"/></a></div><div style="margin-top:20px;margin-right:200px"><a href="https://zipkin.io/pages/quickstart.html"><img style="border-radius:15px;width:48%;" src="https://files.catbox.moe/j3pgte.png"/></a></div></div><br><br><h2 id="å®šä½"><a href="#å®šä½" class="headerlink" title="å®šä½"></a>å®šä½</h2><div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/onvs1o.png"/></div><br><br><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>åœ¨å¾®æœåŠ¡æ¡†æ¶ä¸­ï¼Œä¸€ä¸ªç”±å®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚åœ¨åç«¯ç³»ç»Ÿä¸­ä¼šç»è¿‡å¤šä¸ªä¸åŒçš„çš„æœåŠ¡èŠ‚ç‚¹è°ƒç”¨æ¥ååŒäº§ç”Ÿæœ€åçš„è¯·æ±‚ç»“æœï¼Œæ¯ä¸€ä¸ªå‰ç«¯è¯·æ±‚éƒ½ä¼šå½¢æˆä¸€æ¡å¤æ‚çš„åˆ†å¸ƒå¼æœåŠ¡è°ƒç”¨é“¾è·¯ï¼Œé“¾è·¯ä¸­çš„ä»»ä½•-ç¯å‡ºç°é«˜å»¶æ—¶æˆ–é”™è¯¯éƒ½ä¼šå¼•èµ·æ•´ä¸ªè¯·æ±‚æœ€åçš„å¤±è´¥ã€‚</p><p>å½“è¦ç®¡ç†ä¸‹å›¾ä¸­çš„å¤§å‹é¡¹ç›®æ—¶ï¼Œå°±éœ€è¦å¯¹ç›¸å…³è”è·¯è¿›è¡Œè·Ÿè¸ªï¼š</p><div style="text-align:center"><img style="border-radius:15px;width:50%" src="https://files.catbox.moe/1keeb7.png"/></div><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><blockquote><p>æä¾›äº†ä¸€å¥—å®Œæ•´çš„æœåŠ¡è·Ÿè¸ªæ–¹æ¡ˆï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æä¾›è¿½è¸ªè§£å†³æ–¹æ¡ˆå¹¶å…¼å®¹æ”¯æŒ zipkinã€‚</p></blockquote><br><br><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>è‡ªä» SPC ã€ F ã€ ç‰ˆå¼€å§‹å°±ä¸å†éœ€è¦å®‰è£… zipkin äº†ï¼Œåªéœ€è¦å®‰è£… jar åŒ…ã€‚</p><p>å¿«é€Ÿå¼€å§‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">curl -sSL https:&#x2F;&#x2F;zipkin.io&#x2F;quickstart.sh | bash -sjava -jar zipkin.jar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><div style="text-align:center"><img style="border-radius:15px;width:80%" src="https://files.catbox.moe/575fla.png"/></div><p>è¡¨ç¤ºä¸€è¯·æ±‚é“¾è·¯ï¼Œä¸€æ¡é“¾è·¯é€šè¿‡Trace ldå”¯ä¸€æ ‡è¯†ï¼ŒSpanæ ‡è¯†å‘èµ·çš„è¯·æ±‚ä¿¡æ¯ï¼Œå„spané€šè¿‡parent id å…³è”èµ·æ¥ã€‚</p><br><br><h2 id="æ¶æ„å›¾"><a href="#æ¶æ„å›¾" class="headerlink" title="æ¶æ„å›¾"></a>æ¶æ„å›¾</h2><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/8ck4er.png"  /><br><br><span style="color:darkgray">ğŸ‘†å®˜æ–¹æ¶æ„å›¾</span></div><br><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/5q9g2l.png"  /><br><br><span style="color:darkgray">ğŸ‘†ç®€åŒ–å›¾</span></div><br><br><br><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- Sleuth --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zipkin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>paymrnt<span class="token punctuation">-</span>service<span class="token key atrule">zipkin</span><span class="token punctuation">:</span><span class="token key atrule">base-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">9411</span><span class="token key atrule">sleuth</span><span class="token punctuation">:</span><span class="token key atrule">sampler</span><span class="token punctuation">:</span><span class="token comment"># é‡‡æ ·ç‡ä»‹äº [0,1] ä¹‹é—´ï¼Œ1 ä»£è¡¨å…¨éƒ¨é‡‡é›†ï¼Œä¸€èˆ¬ä½¿ç”¨ 0.5 å°±å¤Ÿäº†</span><span class="token key atrule">probability</span><span class="token punctuation">:</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æ¶ˆæ¯é©±åŠ¨ | Stream</title>
    <link href="/2022/07/25/SpringCloud%20%7C%20%E6%B6%88%E6%81%AF%E9%A9%B1%E5%8A%A8%20%7C%20Stream/"/>
    <url>/2022/07/25/SpringCloud%20%7C%20%E6%B6%88%E6%81%AF%E9%A9%B1%E5%8A%A8%20%7C%20Stream/</url>
    
    <content type="html"><![CDATA[<div style="text-align:center"><a href="https://spring.io/projects/spring-cloud-stream"><img style="border-radius:15px;width:55%" src="https://files.catbox.moe/33p0oa.png"/></a></div><p>[toc]</p><h2 id="å®šä½"><a href="#å®šä½" class="headerlink" title="å®šä½"></a>å®šä½</h2><div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/ecsq3v.png"/></div><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>å±è”½åº•å±‚æ¶ˆæ¯ä¸­é—´ä»¶çš„å·®å¼‚ï¼Œé™ä½åˆ‡æ¢æˆæœ¬ï¼Œç»Ÿä¸€æ¶ˆæ¯çš„ç¼–ç¨‹æ¨¡å‹ã€‚</p><p>æ ¸å¿ƒæ€æƒ³ï¼šBinder Implementations ç»‘å®šå™¨å¯¹è±¡</p><h3 id="ä»€ä¹ˆæ˜¯Spring-CloudStream"><a href="#ä»€ä¹ˆæ˜¯Spring-CloudStream" class="headerlink" title="ä»€ä¹ˆæ˜¯Spring CloudStream"></a>ä»€ä¹ˆæ˜¯Spring CloudStream</h3><p>å®˜æ–¹å®šä¹‰ Spring Cloud Stream æ˜¯ä¸€ä¸ªæ„å»ºæ¶ˆæ¯é©±åŠ¨å¾®æœåŠ¡çš„æ¡†æ¶ã€‚<br>åº”ç”¨ç¨‹åºé€šè¿‡ inputs æˆ–è€… outputs æ¥ä¸ Spring Cloud Streamä¸­binderå¯¹è±¡äº¤äº’ã€‚<br>é€šè¿‡æˆ‘ä»¬é…ç½®æ¥bindingï¼ˆç»‘å®šï¼‰ï¼Œè€ŒSpring Cloud Stream çš„binderå¯¹è±¡è´Ÿè´£ä¸æ¶ˆæ¯ä¸­é—´ä»¶äº¤äº’ã€‚<br>æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦ææ¸…æ¥šå¦‚ä½•ä¸ Spring Cloud Stream äº¤äº’å°±å¯ä»¥æ–¹ä¾¿ä½¿ç”¨æ¶ˆæ¯é©±åŠ¨çš„æ–¹å¼ã€‚</p><p>é€šè¿‡ä½¿ç”¨Spring Integrationæ¥è¿æ¥æ¶ˆæ¯ä»£ç†ä¸­é—´ä»¶ä»¥å®ç°æ¶ˆæ¯äº‹ä»¶é©±åŠ¨ã€‚<br>Spring Cloud Stream ä¸ºä¸€äº›ä¾›åº”å•†çš„æ¶ˆæ¯ä¸­é—´ä»¶äº§å“æä¾›äº†ä¸ªæ€§åŒ–çš„è‡ªåŠ¨åŒ–é…ç½®å®ç°ï¼Œå¼•ç”¨äº†å‘å¸ƒ-è®¢é˜…ã€æ¶ˆè´¹ç»„ã€åˆ†åŒºçš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚<br><font color=red><strong>ç›®å‰ä»…æ”¯æŒRabbitMQã€ Kafkaã€‚</strong></font></p><div style="display:flex">  <div style="height:500px;width:100%;background:#CCCCFF;border-radius:30px 30px 30px 30px;padding:0px 5px">    <div style="font-size:32px;width:100%;text-align:center;margin-top:20px;border:2px solid white;border-top:0;border-left:0;border-right:0;padding:10px 0px">å¼•å…¥ä¹‹å‰    </div>    <div style="margin-top:25px;padding:0 15px">      <div style="color:white;font-size:16px;border:1px solid darkgray;border-top:0;border-left:0;border-right:0;padding:10px 0"><b>        ç”Ÿäº§è€…/æ¶ˆè´¹è€…ä¹‹é—´é <span style="color:red;margin-top:5px">æ¶ˆæ¯åª’ä»‹</span>ä¼ é€’ä¿¡æ¯å†…å®¹ Message      </b></div><br>      <div style="color:white;font-size:16px;border:1px solid darkgray;border-top:0;border-left:0;border-right:0;padding:10px 0"><b>        æ¶ˆæ¯å¿…é¡»èµ°ç‰¹å®šçš„<span style="color:red;margin-top:5px">é€šé“</span>      </b></div><br>            <div style="color:white;font-size:16px;border:1px solid darkgray;border-top:0;border-left:0;border-right:0;padding:10px 0"><b>        æ¶ˆæ¯é€šé“é‡Œçš„æ¶ˆæ¯å¦‚ä½•è¢«æ¶ˆè´¹ï¼Ÿè°è´Ÿè´£æ”¶å‘<span style="color:red;margin-top:5px">å¤„ç†</span>      </b></div><br>    </div>  </div>  <div style="height:500px;width:100%;background:#FFCCCC;border-radius:30px 30px 30px 30px;padding:0 5px">    <div style="color:white;font-size:32px;width:100%;text-align:center;margin-top:20px;border:2px solid white;border-top:0;border-left:0;border-right:0;padding:10px 0px">    å¼•å…¥ä¹‹å    </div>    <div style="margin-top:25px;padding:0 15px">      <div style="color:white;font-size:16px;border:1px solid darkgray;border-top:0;border-left:0;border-right:0;padding:10px 0"><b>        é€šè¿‡å®šä¹‰ç»‘å®šå™¨ Binder ä½œä¸ºä¸­é—´å±‚ï¼Œå®ç°äº†åº”ç”¨ç¨‹åºä¸<span style="color:red;margin-top:5px">æ¶ˆæ¯ä¸­é—´ä»¶ç»†èŠ‚ä¹‹é—´çš„éš”ç¦»ã€‚</span>      </b></div><br>    </div>  </div></div><h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><h3 id="SpringCloud-Stream-å®˜æ–¹æ¶æ„å›¾"><a href="#SpringCloud-Stream-å®˜æ–¹æ¶æ„å›¾" class="headerlink" title="SpringCloud Stream å®˜æ–¹æ¶æ„å›¾"></a>SpringCloud Stream å®˜æ–¹æ¶æ„å›¾</h3><div style="text-align:center"><img style="width:80%" src="https://files.catbox.moe/cbr386.jpeg"/></div><br><table><thead><tr><th>ç»„æˆ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Binder</strong></td><td>å¾ˆæ–¹ä¾¿çš„è¿æ¥ä¸­é—´ä»¶ï¼Œå±è”½å·®å¼‚ã€‚</td></tr><tr><td><strong>Channel</strong></td><td>é€šé“ï¼Œæ˜¯é˜Ÿåˆ— Queue çš„ä¸€ç§æŠ½è±¡ï¼Œåœ¨æ¶ˆæ¯é€šè®¯ç³»ç»Ÿä¸­å°±æ˜¯å®ç°å­˜å‚¨å’Œè½¬å‘çš„åª’ä»‹ï¼Œé€šè¿‡ Channel å¯¹é˜Ÿåˆ—è¿›è¡Œé…ç½®ã€‚</td></tr><tr><td><strong>Source å’Œ Sink</strong></td><td>å¯ä»¥ç®€å•ç†è§£ä¸ºå‚ç…§å¯¹è±¡æ—¶ SpringCloud Sream è‡ªèº«ï¼Œä» Stream å‘å¸ƒæ¶ˆæ¯å°±æ˜¯è¾“å‡ºï¼Œæ¥æ”¶æ¶ˆæ¯å°±æ˜¯è¾“å…¥ã€‚</td></tr><tr><td><strong>MiddleWare</strong></td><td>ä¸­é—´ä»¶ï¼Œç›®å‰åªæ”¯æŒ RabbitMQ ä¸ Kafka</td></tr><tr><td><strong>@Input</strong></td><td>æ³¨è§£æ ‡è¯†è¾“å…¥é€šé“ï¼Œé€šè¿‡è¯¥è¾“å…¥é€šé“æ¥å—åˆ°çš„æ¶ˆæ¯è¿›å…¥åº”ç”¨ç¨‹åº</td></tr><tr><td><strong>@Output</strong></td><td>æ³¨è§£æ ‡è¯†è¾“å‡ºé€šé“ï¼Œå‘å¸ƒçš„æ¶ˆæ¯å°†é€šè¿‡è¯¥é€šé“ç¦»å¼€åº”ç”¨ç¨‹åº</td></tr><tr><td><strong>@StreamListener</strong></td><td>ç›‘å¬é˜Ÿåˆ—ï¼Œç”¨äºæ¶ˆè´¹è€…çš„é˜Ÿåˆ—çš„æ¶ˆæ¯æ¥æ”¶</td></tr><tr><td><strong>@EnableBinding</strong></td><td>æŒ‡ä¿¡é“ channel å’Œ exchange ç»‘å®šåœ¨ä¸€èµ·</td></tr></tbody></table><br><br><h3 id="SpringCloud-Stream-æ ‡å‡†æµç¨‹å¥—è·¯"><a href="#SpringCloud-Stream-æ ‡å‡†æµç¨‹å¥—è·¯" class="headerlink" title="SpringCloud Stream æ ‡å‡†æµç¨‹å¥—è·¯"></a>SpringCloud Stream æ ‡å‡†æµç¨‹å¥—è·¯</h3><div style="text-align:center"><img style="width:80%" src="https://files.catbox.moe/heh9sh.jpg"/></div><br><br><br><h2 id="ğŸ˜ª-åˆçº§-å®ç°-ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…"><a href="#ğŸ˜ª-åˆçº§-å®ç°-ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…" class="headerlink" title="ğŸ˜ª åˆçº§ | å®ç° | ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…"></a>ğŸ˜ª åˆçº§ | å®ç° | ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…</h2><h3 id="æ–°å»ºæ¨¡å—"><a href="#æ–°å»ºæ¨¡å—" class="headerlink" title="æ–°å»ºæ¨¡å—"></a>æ–°å»ºæ¨¡å—</h3><ol><li>cloud-stream-rabbitmq-provider8801 ä½œä¸ºç”Ÿäº§è€…è¿›è¡Œå‘æ¶ˆæ¯æ¨¡å—</li><li>cloud-stream-rabbitmq-consumer8802 ä½œä¸ºæ¶ˆæ¯æ¥æ”¶æ¨¡å—</li><li>cloud-stream-rabbitmq-consumer8803 ä½œä¸ºæ¶ˆæ¯æ¥æ”¶æ¨¡å—</li></ol><h3 id="ç”Ÿäº§è€…æ¨¡å—-cloud-stream-rabbitmq-provider8801"><a href="#ç”Ÿäº§è€…æ¨¡å—-cloud-stream-rabbitmq-provider8801" class="headerlink" title="ç”Ÿäº§è€…æ¨¡å— | cloud-stream-rabbitmq-provider8801"></a>ç”Ÿäº§è€…æ¨¡å— | cloud-stream-rabbitmq-provider8801</h3><h4 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h4><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-stream-rabbit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="application-yml"><a href="#application-yml" class="headerlink" title="application.yml"></a>application.yml</h4><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8801</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>stream<span class="token punctuation">-</span>provider<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">stream</span><span class="token punctuation">:</span><span class="token key atrule">binders</span><span class="token punctuation">:</span> <span class="token comment"># åœ¨æ­¤é…ç½®è¦ç»‘å®šçš„ rabbitmq æœåŠ¡ä¿¡æ¯</span><span class="token key atrule">defaultRabbit</span><span class="token punctuation">:</span><span class="token comment"># è¡¨ç¤ºå®šä¹‰çš„åç§°ï¼Œç”¨äº binding æ•´åˆ</span><span class="token key atrule">type</span><span class="token punctuation">:</span> rabbit<span class="token comment"># æ¶ˆæ¯ç»„ä»¶ç±»å‹</span><span class="token key atrule">environment</span><span class="token punctuation">:</span><span class="token comment"># è®¾ç½® rabbitmq çš„ç›¸å…³ç¯å¢ƒé…ç½®</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span><span class="token key atrule">host</span><span class="token punctuation">:</span> localhost<span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span><span class="token key atrule">username</span><span class="token punctuation">:</span> guest<span class="token key atrule">password</span><span class="token punctuation">:</span> guest<span class="token key atrule">bindings</span><span class="token punctuation">:</span><span class="token comment"># æœåŠ¡å™¨æ•´åˆå¤„ç†</span><span class="token key atrule">output</span><span class="token punctuation">:</span><span class="token comment"># è¿™ä¸ªåå­—æ˜¯ä¸€ä¸ªé€šé“çš„åç§°</span><span class="token key atrule">destination</span><span class="token punctuation">:</span> studyExchange <span class="token comment"># è¡¨ç¤ºè¦ä½¿ç”¨çš„ Exchange åç§°å®šä¹‰</span><span class="token key atrule">content-type</span><span class="token punctuation">:</span> application/json <span class="token comment"># è®¾ç½®æ¶ˆæ¯ç±»å‹ï¼Œæœ¬æ¬¡ä¸º JSONï¼Œæ–‡æœ¬åˆ™è®¾ç½® text/plain</span><span class="token key atrule">binder</span><span class="token punctuation">:</span> defaultRabbit <span class="token comment"># è®¾ç½®è¦ç»‘å®šçš„æ¶ˆæ¯æœåŠ¡çš„å…·ä½“è®¾ç½®</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="Main-ä¸»å¯åŠ¨"><a href="#Main-ä¸»å¯åŠ¨" class="headerlink" title="Main ä¸»å¯åŠ¨"></a>Main ä¸»å¯åŠ¨</h4><p><code>com.atguigu.springcloud.StreamMQMain8801.java</code></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StreamMQMain8801</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SptingApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">StreamMQMain8801</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="Service-ä¸šåŠ¡ç±»"><a href="#Service-ä¸šåŠ¡ç±»" class="headerlink" title="Service ä¸šåŠ¡ç±»"></a>Service ä¸šåŠ¡ç±»</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IMessageProvider</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>source</span><span class="token punctuation">;</span><span class="token comment">// @Service ä¸ç”¨å†™ï¼ˆä¸ RabbitMQ æ‰“äº¤é“ï¼‰</span><span class="token annotation punctuation">@EnableBinding</span><span class="token punctuation">(</span><span class="token class-name">Source</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">// å®šä¹‰æ¶ˆæ¯çš„æ¨é€ç®¡é“</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageProviderImpl</span> <span class="token keyword">implements</span> <span class="token class-name">IMessageProvider</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>  <span class="token keyword">private</span> <span class="token class-name">MessageChannel</span> output<span class="token punctuation">;</span> <span class="token comment">// æ¶ˆæ¯å‘é€ç®¡é“</span>  <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> serial <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å…³é”® å‘é€ Message</span>    output<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">MessageBuilder</span><span class="token punctuation">.</span><span class="token function">withPayload</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"*****serial:"</span><span class="token operator">+</span>serial<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="Controller-å±‚"><a href="#Controller-å±‚" class="headerlink" title="Controller å±‚"></a>Controller å±‚</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendMessageController</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>  <span class="token keyword">private</span> <span class="token class-name">IMessageProvider</span> messageProvider<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/sendMessage"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> messageProvider<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><h3 id="æ¥æ”¶è€…æ¨¡å—-cloud-stream-rabbitmq-consumer8802"><a href="#æ¥æ”¶è€…æ¨¡å—-cloud-stream-rabbitmq-consumer8802" class="headerlink" title="æ¥æ”¶è€…æ¨¡å— | cloud-stream-rabbitmq-consumer8802"></a>æ¥æ”¶è€…æ¨¡å— | cloud-stream-rabbitmq-consumer8802</h3><h4 id="Application-yml"><a href="#Application-yml" class="headerlink" title="Application.yml"></a>Application.yml</h4><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8801</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>stream<span class="token punctuation">-</span>provider<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">stream</span><span class="token punctuation">:</span><span class="token key atrule">binders</span><span class="token punctuation">:</span> <span class="token comment"># åœ¨æ­¤é…ç½®è¦ç»‘å®šçš„ rabbitmq æœåŠ¡ä¿¡æ¯</span><span class="token key atrule">defaultRabbit</span><span class="token punctuation">:</span><span class="token comment"># è¡¨ç¤ºå®šä¹‰çš„åç§°ï¼Œç”¨äº binding æ•´åˆ</span><span class="token key atrule">type</span><span class="token punctuation">:</span> rabbit<span class="token comment"># æ¶ˆæ¯ç»„ä»¶ç±»å‹</span><span class="token key atrule">environment</span><span class="token punctuation">:</span><span class="token comment"># è®¾ç½® rabbitmq çš„ç›¸å…³ç¯å¢ƒé…ç½®</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span><span class="token key atrule">host</span><span class="token punctuation">:</span> localhost<span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span><span class="token key atrule">username</span><span class="token punctuation">:</span> guest<span class="token key atrule">password</span><span class="token punctuation">:</span> guest<span class="token key atrule">bindings</span><span class="token punctuation">:</span><span class="token comment"># æœåŠ¡å™¨æ•´åˆå¤„ç†</span><span class="token key atrule">input</span><span class="token punctuation">:</span><span class="token comment"># è¿™ä¸ªåå­—æ˜¯ä¸€ä¸ªé€šé“çš„åç§°</span><span class="token key atrule">destination</span><span class="token punctuation">:</span> studyExchange <span class="token comment"># è¡¨ç¤ºè¦ä½¿ç”¨çš„ Exchange åç§°å®šä¹‰</span><span class="token key atrule">content-type</span><span class="token punctuation">:</span> application/json <span class="token comment"># è®¾ç½®æ¶ˆæ¯ç±»å‹ï¼Œæœ¬æ¬¡ä¸º JSONï¼Œæ–‡æœ¬åˆ™è®¾ç½® text/plain</span><span class="token key atrule">binder</span><span class="token punctuation">:</span> defaultRabbit <span class="token comment"># è®¾ç½®è¦ç»‘å®šçš„æ¶ˆæ¯æœåŠ¡çš„å…·ä½“è®¾ç½®</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">client</span><span class="token punctuation">:</span> <span class="token comment"># Eureka å®¢æˆ·ç«¯æ³¨å†Œ</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span class="token key atrule">instance</span><span class="token punctuation">:</span><span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment"># è®¾ç½®å¿ƒè·³çš„æ—¶é—´é—´éš”ï¼ˆé»˜è®¤ 30 ç§’ï¼‰ </span><span class="token key atrule">lease-expirationduration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token comment"># å¦‚æœç°åœ¨è¶…è¿‡äº† 5 ç§’çš„é—´éš”ï¼ˆé»˜è®¤ 90 ç§’ï¼‰</span><span class="token key atrule">instance-id</span><span class="token punctuation">:</span> receive<span class="token punctuation">-</span>8802.com <span class="token comment"># åœ¨ä¿¡æ¯åˆ—è¡¨æ—¶æ˜¾ç¤ºä¸»æœºåç§°</span><span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># è®¿é—®è·¯å¾„å˜ä¸º IP åœ°å€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="Main-ä¸»å¯åŠ¨-1"><a href="#Main-ä¸»å¯åŠ¨-1" class="headerlink" title="Main ä¸»å¯åŠ¨"></a>Main ä¸»å¯åŠ¨</h4><p><code>com.atguigu.springcloud.contr0ller.ReceiveMessageListenerController.java</code></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Comment</span><span class="token annotation punctuation">@EnableBinding</span><span class="token punctuation">(</span><span class="token class-name">Sink</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReceiveMessageListenerController</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>    <span class="token annotation punctuation">@StreamListener</span><span class="token punctuation">(</span><span class="token class-name">Sink</span><span class="token punctuation">.</span>INPUT<span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">input</span><span class="token punctuation">(</span><span class="token class-name">Message</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> message<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆè´¹è€… 1 å·ï¼š"</span><span class="token operator">+</span>message<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t port:"</span><span class="token operator">+</span>serverPort<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="ğŸ˜«-é«˜çº§-åˆ†ç»„-é‡å¤æ¶ˆè´¹-ä¸-æŒä¹…åŒ–"><a href="#ğŸ˜«-é«˜çº§-åˆ†ç»„-é‡å¤æ¶ˆè´¹-ä¸-æŒä¹…åŒ–" class="headerlink" title="ğŸ˜« é«˜çº§ | åˆ†ç»„ | é‡å¤æ¶ˆè´¹ ä¸ æŒä¹…åŒ–"></a>ğŸ˜« é«˜çº§ | åˆ†ç»„ | é‡å¤æ¶ˆè´¹ ä¸ æŒä¹…åŒ–</h2><h3 id="åˆ†ç»„-åŒä¸€ä¸ªç»„åªå¯ä»¥è¿›è¡Œä¸€æ¬¡æ¶ˆè´¹ï¼Œç«äº‰æ¶ˆè´¹"><a href="#åˆ†ç»„-åŒä¸€ä¸ªç»„åªå¯ä»¥è¿›è¡Œä¸€æ¬¡æ¶ˆè´¹ï¼Œç«äº‰æ¶ˆè´¹" class="headerlink" title="åˆ†ç»„ | åŒä¸€ä¸ªç»„åªå¯ä»¥è¿›è¡Œä¸€æ¬¡æ¶ˆè´¹ï¼Œç«äº‰æ¶ˆè´¹"></a>åˆ†ç»„ | <font color=red>åŒä¸€ä¸ªç»„åªå¯ä»¥è¿›è¡Œä¸€æ¬¡æ¶ˆè´¹ï¼Œç«äº‰æ¶ˆè´¹</font></h3><h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>8802 ä¸ 8803 éƒ½ä¼šæ”¶åˆ°ï¼Œå­˜åœ¨é‡å¤æ¶ˆè´¹é—®é¢˜ï¼›</p><hr><p>æ¯”å¦‚åœ¨å¦‚ä¸‹åœºæ™¯ä¸­ï¼Œè®¢å•ç³»ç»Ÿæˆ‘ä»¬åšé›†ç¾¤éƒ¨ç½²ï¼Œéƒ½ä¼šä»RabbitMQä¸­è·å–è®¢å•ä¿¡æ¯ï¼Œé‚£<font color=red>å¦‚æœä¸€ä¸ªè®¢å•åŒæ—¶è¢«ä¸¤ä¸ªæœåŠ¡è·å–åˆ°</font>ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆæ•°æ®é”™è¯¯ï¼Œæˆ‘ä»¬å¾—é¿å…è¿™ç§æƒ…å†µã€‚<br><font color=red>è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Streamä¸­çš„æ¶ˆæ¯åˆ†ç»„æ¥è§£å†³ã€‚</font><br></p><div style="text-align:center"><img style="width:50%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/rz7uu6.png"/></div><br><p>æ³¨æ„åœ¨Streamä¸­å¤„äº<b><font color=orange>åŒä¸€ä¸ªgroupä¸­çš„å¤šä¸ªæ¶ˆè´¹è€…æ˜¯ç«äº‰å…³ç³»ï¼Œå°±èƒ½å¤Ÿä¿è¯æ¶ˆæ¯åªä¼šè¢«å…¶ä¸­ä¸€ä¸ªåº”ç”¨æ¶ˆè´¹ä¸€æ¬¡ã€‚</font><font color=red>ä¸åŒç»„æ˜¯å¯ä»¥å…¨é¢æ¶ˆè´¹çš„(é‡å¤æ¶ˆè´¹ï¼‰</font></b></p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>è‡ªå®šä¹‰é…ç½®åˆ†ç»„ï¼Œå°†ä¸¤ä¸ªæ¶ˆè´¹è€…æ”¾åœ¨åŒä¸€ä¸ªåˆ†ç»„å†…ï¼Œè§£å†³é‡å¤æ¶ˆè´¹é—®é¢˜ã€‚</p><p><strong>åŠ ï¼š</strong><code>spring.cloud.stream.bindings.input.group:ç»„å</code></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8801</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>stream<span class="token punctuation">-</span>provider<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">stream</span><span class="token punctuation">:</span><span class="token key atrule">binders</span><span class="token punctuation">:</span> <span class="token comment"># åœ¨æ­¤é…ç½®è¦ç»‘å®šçš„ rabbitmq æœåŠ¡ä¿¡æ¯</span><span class="token key atrule">defaultRabbit</span><span class="token punctuation">:</span><span class="token comment"># è¡¨ç¤ºå®šä¹‰çš„åç§°ï¼Œç”¨äº binding æ•´åˆ</span><span class="token key atrule">type</span><span class="token punctuation">:</span> rabbit<span class="token comment"># æ¶ˆæ¯ç»„ä»¶ç±»å‹</span><span class="token key atrule">environment</span><span class="token punctuation">:</span><span class="token comment"># è®¾ç½® rabbitmq çš„ç›¸å…³ç¯å¢ƒé…ç½®</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span><span class="token key atrule">host</span><span class="token punctuation">:</span> localhost<span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span><span class="token key atrule">username</span><span class="token punctuation">:</span> guest<span class="token key atrule">password</span><span class="token punctuation">:</span> guest<span class="token key atrule">bindings</span><span class="token punctuation">:</span><span class="token comment"># æœåŠ¡å™¨æ•´åˆå¤„ç†</span><span class="token key atrule">input</span><span class="token punctuation">:</span><span class="token comment"># è¿™ä¸ªåå­—æ˜¯ä¸€ä¸ªé€šé“çš„åç§°</span><span class="token key atrule">destination</span><span class="token punctuation">:</span> studyExchange <span class="token comment"># è¡¨ç¤ºè¦ä½¿ç”¨çš„ Exchange åç§°å®šä¹‰</span><span class="token key atrule">content-type</span><span class="token punctuation">:</span> application/json <span class="token comment"># è®¾ç½®æ¶ˆæ¯ç±»å‹ï¼Œæœ¬æ¬¡ä¸º JSONï¼Œæ–‡æœ¬åˆ™è®¾ç½® text/plain</span><span class="token key atrule">binder</span><span class="token punctuation">:</span> defaultRabbit <span class="token comment"># è®¾ç½®è¦ç»‘å®šçš„æ¶ˆæ¯æœåŠ¡çš„å…·ä½“è®¾ç½®</span><span class="token comment">## åœ¨ 8802 ä¸ 8803 ä¸­éƒ½åŠ å…¥ä¸‹åˆ—ä»£ç ï¼Œæ”¾å…¥åŒä¸€ä¸ªç»„ä¸­</span><span class="token key atrule">group</span><span class="token punctuation">:</span> groupA<span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">client</span><span class="token punctuation">:</span> <span class="token comment"># Eureka å®¢æˆ·ç«¯æ³¨å†Œ</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span class="token key atrule">instance</span><span class="token punctuation">:</span><span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment"># è®¾ç½®å¿ƒè·³çš„æ—¶é—´é—´éš”ï¼ˆé»˜è®¤ 30 ç§’ï¼‰ </span><span class="token key atrule">lease-expirationduration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token comment"># å¦‚æœç°åœ¨è¶…è¿‡äº† 5 ç§’çš„é—´éš”ï¼ˆé»˜è®¤ 90 ç§’ï¼‰</span><span class="token key atrule">instance-id</span><span class="token punctuation">:</span> receive<span class="token punctuation">-</span>8802.com <span class="token comment"># åœ¨ä¿¡æ¯åˆ—è¡¨æ—¶æ˜¾ç¤ºä¸»æœºåç§°</span><span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># è®¿é—®è·¯å¾„å˜ä¸º IP åœ°å€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æŒä¹…åŒ–"><a href="#æŒä¹…åŒ–" class="headerlink" title="æŒä¹…åŒ–"></a>æŒä¹…åŒ–</h3><p>åŠ äº† <code>Group</code> ä¹‹åä¼šæœ‰æŒä¹…æ€§ã€‚</p><p>è‹¥æ˜¯ç”Ÿäº§è€…åœ¨æ¶ˆè´¹è€…å…³é—­çš„æƒ…å†µä¸‹ï¼Œå‘é€äº†å†…å®¹ï¼Œé‚£ä¹ˆæ¶ˆè´¹è€…å¯åŠ¨åä¹Ÿèƒ½æ¥æ”¶åˆ°æ¶ˆæ¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æ¶ˆæ¯æ€»çº¿ | Bus</title>
    <link href="/2022/07/25/SpringCloud%20%7C%20%E6%B6%88%E6%81%AF%E6%80%BB%E7%BA%BF%20%7C%20Bus/"/>
    <url>/2022/07/25/SpringCloud%20%7C%20%E6%B6%88%E6%81%AF%E6%80%BB%E7%BA%BF%20%7C%20Bus/</url>
    
    <content type="html"><![CDATA[<div style="text-align:center"><a href="https://spring.io/projects/spring-cloud-bus"><img style="border-radius:15px;width:55%" src="https://files.catbox.moe/tx6kxj.jpeg"/></a></div><br><br><h2 id="å®šä½"><a href="#å®šä½" class="headerlink" title="å®šä½"></a>å®šä½</h2><div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/yl9duc.png"/></div><h2 id="ç›¸å…³æ¦‚å¿µ"><a href="#ç›¸å…³æ¦‚å¿µ" class="headerlink" title="ç›¸å…³æ¦‚å¿µ"></a>ç›¸å…³æ¦‚å¿µ</h2><p>Spring Cloud Bus é…åˆ Spring Cloud Config ä½¿ç”¨å¯ä»¥å®ç°é…ç½®çš„åŠ¨æ€åˆ·æ–°ã€‚</p><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>Spring Cloud Busæ˜¯ç”¨æ¥å°†åˆ†å¸ƒå¼ç³»ç»Ÿçš„èŠ‚ç‚¹ä¸è½»é‡çº§æ¶ˆæ¯ç³»ç»Ÿé“¾æ¥èµ·æ¥çš„æ¡†æ¶ï¼Œå®ƒæ•´å°äº†Javaçš„äº‹ä»¶å¤„ç†æœºåˆ¶å’Œæ¶ˆæ¯ä¸­é—´ä½“çš„åŠŸèƒ½ã€‚</p><h3 id="æ”¯æŒçš„ä¸­é—´ä»¶"><a href="#æ”¯æŒçš„ä¸­é—´ä»¶" class="headerlink" title="æ”¯æŒçš„ä¸­é—´ä»¶"></a>æ”¯æŒçš„ä¸­é—´ä»¶</h3><p><strong><font color=orange>RabbitMQ</font> ä¸ <font color=orange>Kafka</font></strong></p><h3 id="èƒ½å¹²ä»€ä¹ˆ"><a href="#èƒ½å¹²ä»€ä¹ˆ" class="headerlink" title="èƒ½å¹²ä»€ä¹ˆ"></a>èƒ½å¹²ä»€ä¹ˆ</h3><p>Spring Cloud Busèƒ½ç®¡ç†å’Œä¼ æ’­åˆ†å¸ƒå¼ç³»ç»Ÿé—´çš„æ¶ˆæ¯ï¼Œå°±åƒä¸€ä¸ªåˆ†å¸ƒå¼æ‰§è¡Œå™¨ï¼Œå¯ç”¨äºå¹¿æ’­çŠ¶æ€æ›´æ”¹ã€äº‹ä»¶æ¨é€ç­‰ï¼Œä¹Ÿå¯ä»¥å½“ä½œå¾®æœåŠ¡é—´çš„é€šä¿¡é€šé“ã€‚</p><h3 id="ä¸¤ç§æ–¹å¼"><a href="#ä¸¤ç§æ–¹å¼" class="headerlink" title="ä¸¤ç§æ–¹å¼"></a>ä¸¤ç§æ–¹å¼</h3><p>1ï¼‰ åˆ©ç”¨æ¶ˆæ¯æ€»çº¿è§¦å‘ä¸€ä¸ªå®¢æˆ·ç«¯/bus/refreshï¼Œè¿›è€Œåˆ·æ–°æ‰€æœ‰å®¢æˆ·ç«¯çš„é…ç½®</p><p>2ï¼‰ åˆ©ç”¨æ¶ˆæ¯æ€»çº¿è§¦å‘ä¸€ä¸ªæœåŠ¡ç«¯ï¼ˆæ€»æ§ï¼‰ ConfigServer çš„/bus/refreshç«¯ç‚¹ï¼Œè¿›è€Œåˆ·æ–°æ‰€æœ‰å®¢æˆ·ç«¯çš„é…ç½®</p><div style="text-align:center"><img src="https://files.catbox.moe/gw6yds.png" style="width:80%;border-radius:25px;border:1px solid darkgray;padding:10px"><br><span>ğŸ‘† æ€»æ§æ–¹å¼</span></div><div style="text-align:center"><img src="https://files.catbox.moe/gic4xb.jpeg" style="width:80%;border-radius:25px;border:1px solid darkgray;padding:10px"><br><span>ğŸ‘† å®¢æˆ·ç«¯æ–¹å¼</span></div><p><font color=darkgray>ç ´åäº†å¾®æœåŠ¡æ¨¡å—å•ä¸€æ€§ï¼Œä¸‡ä¸€ä»–æŒ‚äº†ï¼Œä¸ä»…ä¸èƒ½é€šçŸ¥ï¼Œè¿˜ä¸èƒ½å‚ä¸åŸå…ˆçš„æœåŠ¡ï¼›ç ´åäº†å¾®æœåŠ¡å„ä¸ªèŠ‚ç‚¹çš„å¯¹ç­‰æ€§ï¼›æœ‰ä¸€å®šçš„å±€é™æ€§ã€‚åŠ£å¾’ï¼Œå¾®æœåŠ¡åœ¨è¿ç§»æ—¶ï¼Œä»–çš„ç½‘ç»œåœ°å€å¸¸å¸¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœæ­¤æ—¶è¦åšåˆ°è‡ªåŠ¨åˆ·æ–°ï¼Œé‚£å°±å›å¢åŠ æ›´å¤šçš„ä¿®æ”¹ã€‚</font></p><h3 id="ä»€ä¹ˆæ˜¯æ€»çº¿ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ€»çº¿ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ€»çº¿ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ€»çº¿ï¼Ÿ</h3><p>ä»€ä¹ˆæ˜¯æ€»çº¿<br>åœ¨å¾®æœåŠ¡æ¶æ„çš„ç³»ç»Ÿä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨<font color=red>è½»é‡çº§çš„æ¶ˆæ¯ä»£ç†</font>æ¥æ„å»ºä¸€ä¸ª<font color=red>å…±ç”¨çš„æ¶ˆæ¯ä¸»é¢˜</font>ï¼Œå¹¶è®©ç³»ç»Ÿä¸­æ‰€æœ‰å¾®æœåŠ¡å®ä¾‹éƒ½è¿æ¥ä¸Šæ¥ã€‚ç”±äº<font color=red>è¯¥ä¸»é¢˜ä¸­äº§ç”Ÿçš„æ¶ˆæ¯ä¼šè¢«æ‰€æœ‰å®ä¾‹ç›‘å¬å’Œæ¶ˆè´¹ï¼Œæ‰€ä»¥ç§°å®ƒä¸ºæ¶ˆæ¯æ€»çº¿ã€‚</font>åœ¨æ€»çº¿ä¸Šçš„å„ä¸ªå®ä¾‹ï¼Œéƒ½å¯ä»¥æ–¹ä¾¿åœ°å¹¿æ’­ä¸€äº›éœ€è¦è®©å…¶ä»–è¿æ¥åœ¨è¯¥ä¸»é¢˜ä¸Šçš„å®ä¾‹éƒ½çŸ¥é“çš„æ¶ˆæ¯ã€‚</p><h3 id="åŸºæœ¬åŸç†"><a href="#åŸºæœ¬åŸç†" class="headerlink" title="åŸºæœ¬åŸç†"></a>åŸºæœ¬åŸç†</h3><p>Config Client å®ä¾‹éƒ½ç›‘å¬ MQ ä¸­åŒä¸ªtopic(é»˜è®¤æ˜¯SpringCloudBus)ã€‚å½“ä¸€ä¸ªæœåŠ¡åˆ·æ–°æ•°æ®çš„æ—¶å€™ï¼Œå®ƒä¼šæŠŠè¿™ä¸ªä¿¡æ¯æ”¾å…¥åˆ°Topicä¸­ï¼Œè¿™æ ·å…¶å®ƒç›‘å¬åŒä¸€Topicçš„æœåŠ¡å°±èƒ½å¾—åˆ°é€šçŸ¥ï¼Œç„¶åå»æ›´æ–°è‡ªèº«çš„é…ç½®ã€‚</p><h2 id="ğŸ§¶-SpringCloud-Bus-åŠ¨æ€åˆ·æ–°å…¨å±€å¹¿æ’­"><a href="#ğŸ§¶-SpringCloud-Bus-åŠ¨æ€åˆ·æ–°å…¨å±€å¹¿æ’­" class="headerlink" title="ğŸ§¶ SpringCloud Bus åŠ¨æ€åˆ·æ–°å…¨å±€å¹¿æ’­"></a>ğŸ§¶ SpringCloud Bus åŠ¨æ€åˆ·æ–°å…¨å±€å¹¿æ’­</h2><ol><li>æ–°å»º Module <code>cloud-config-client-3366</code> </li><li>yml é…ç½®</li></ol><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token comment">## bootstrap.yml</span><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">3366</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>client<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">config</span><span class="token punctuation">:</span><span class="token key atrule">label</span><span class="token punctuation">:</span> master <span class="token comment"># åˆ†æ”¯åç§°</span><span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token comment"># é…ç½®æ–‡ä»¶åç§°</span><span class="token key atrule">profile</span><span class="token punctuation">:</span> dev<span class="token comment"># è¯»å–åç¼€åæˆ # ä¸Šè¿°ç»¼åˆä¸ºï¼šmaster åˆ†æ”¯ä¸Šçš„ config-dev.yml çš„é…ç½®æ–‡ä»¶è¢«è¯»å–ä¸ºï¼šhttp://config-3344.com:3344/master/config-dev</span><span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">3344</span> <span class="token comment"># é…ç½®ä¸­å¿ƒåœ°å€</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">client</span><span class="token punctuation">:</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span class="token key atrule">management</span><span class="token punctuation">:</span><span class="token key atrule">endpoints</span><span class="token punctuation">:</span><span class="token key atrule">web</span><span class="token punctuation">:</span><span class="token key atrule">exposure</span><span class="token punctuation">:</span><span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">"*"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientMain3366</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigClientMain3366</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RefreshScope</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientController</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;config.info&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> configInfo<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/cnofigInfo"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">configInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"ServerPort:"</span><span class="token operator">+</span>serverPort<span class="token operator">+</span><span class="token string">"\t\n\nConfigInfo:"</span><span class="token operator">+</span>configInfo<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="é…ç½®æ­¥éª¤"><a href="#é…ç½®æ­¥éª¤" class="headerlink" title="é…ç½®æ­¥éª¤"></a>é…ç½®æ­¥éª¤</h3><ol><li>ç»™ cloud-config-center-3344 é…ç½®ä¸­å¿ƒæœåŠ¡ç«¯æ·»åŠ æ¶ˆæ¯æ€»çº¿æ”¯æŒ</li><li>ç»™ cloud-config-client-3355  å®¢æˆ·ç«¯æ·»åŠ æ¶ˆæ¯æ€»çº¿æ”¯æŒ</li><li>ç»™ cloud-config-client-3366 å®¢æˆ·ç«¯æ·»åŠ æ¶ˆæ¯æ€»çº¿æ”¯æŒ</li></ol><p><strong>æ¶ˆæ¯æ€»çº¿æ”¯æŒ</strong></p><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- æ·»åŠ  RabbitMQ ä¾èµ–--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-bus-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>3344 æ€»æ§ä¸­ yml è¿½åŠ ä¸‹åˆ—ä»£ç </strong></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token comment">## application.yml</span><span class="token key atrule">management</span><span class="token punctuation">:</span><span class="token key atrule">endpoints</span><span class="token punctuation">:</span><span class="token key atrule">web</span><span class="token punctuation">:</span><span class="token key atrule">exposure</span><span class="token punctuation">:</span><span class="token key atrule">include</span><span class="token punctuation">:</span> `bus<span class="token punctuation">-</span>refresh`<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>3355 è¿½åŠ ä»¥ä¸‹ä»£ç </strong></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token comment">## bootstrap.yml</span><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">3355</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>client<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">config</span><span class="token punctuation">:</span><span class="token key atrule">label</span><span class="token punctuation">:</span> master <span class="token comment"># åˆ†æ”¯åç§°</span><span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token comment"># é…ç½®æ–‡ä»¶åç§°</span><span class="token key atrule">profile</span><span class="token punctuation">:</span> dev<span class="token comment"># è¯»å–åç¼€åæˆ # ä¸Šè¿°ç»¼åˆä¸ºï¼šmaster åˆ†æ”¯ä¸Šçš„ config-dev.yml çš„é…ç½®æ–‡ä»¶è¢«è¯»å–ä¸ºï¼šhttp://config-3344.com:3344/master/config-dev</span><span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">3344</span> <span class="token comment"># é…ç½®ä¸­å¿ƒåœ°å€</span><span class="token comment">## è¿½åŠ ä»£ç </span><span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span><span class="token key atrule">host</span><span class="token punctuation">:</span> localhost<span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span><span class="token key atrule">username</span><span class="token punctuation">:</span> guest<span class="token key atrule">password</span><span class="token punctuation">:</span> guest<span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">client</span><span class="token punctuation">:</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span class="token key atrule">management</span><span class="token punctuation">:</span><span class="token key atrule">endpoints</span><span class="token punctuation">:</span><span class="token key atrule">web</span><span class="token punctuation">:</span><span class="token key atrule">exposure</span><span class="token punctuation">:</span><span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">"*"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>3366 è¿½åŠ ä»¥ä¸‹ä»£ç </strong></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token comment">## bootstrap.yml</span><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">3366</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>client<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">config</span><span class="token punctuation">:</span><span class="token key atrule">label</span><span class="token punctuation">:</span> master <span class="token comment"># åˆ†æ”¯åç§°</span><span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token comment"># é…ç½®æ–‡ä»¶åç§°</span><span class="token key atrule">profile</span><span class="token punctuation">:</span> dev<span class="token comment"># è¯»å–åç¼€åæˆ # ä¸Šè¿°ç»¼åˆä¸ºï¼šmaster åˆ†æ”¯ä¸Šçš„ config-dev.yml çš„é…ç½®æ–‡ä»¶è¢«è¯»å–ä¸ºï¼šhttp://config-3344.com:3344/master/config-dev</span><span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">3344</span> <span class="token comment"># é…ç½®ä¸­å¿ƒåœ°å€</span><span class="token comment">## è¿½åŠ ä»£ç </span><span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span><span class="token key atrule">host</span><span class="token punctuation">:</span> localhost<span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span><span class="token key atrule">username</span><span class="token punctuation">:</span> guest<span class="token key atrule">password</span><span class="token punctuation">:</span> guest<span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">client</span><span class="token punctuation">:</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span class="token key atrule">management</span><span class="token punctuation">:</span><span class="token key atrule">endpoints</span><span class="token punctuation">:</span><span class="token key atrule">web</span><span class="token punctuation">:</span><span class="token key atrule">exposure</span><span class="token punctuation">:</span><span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">"*"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="ğŸ“-SpringCloud-Bus-åŠ¨æ€åˆ·æ–°å®šç‚¹é€šçŸ¥"><a href="#ğŸ“-SpringCloud-Bus-åŠ¨æ€åˆ·æ–°å®šç‚¹é€šçŸ¥" class="headerlink" title="ğŸ“ SpringCloud Bus åŠ¨æ€åˆ·æ–°å®šç‚¹é€šçŸ¥"></a>ğŸ“ SpringCloud Bus åŠ¨æ€åˆ·æ–°å®šç‚¹é€šçŸ¥</h2><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">curl <span class="token punctuation">-</span>X POST http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>é…ç½®ä¸­å¿ƒç«¯å£å·/actuator/bus<span class="token punctuation">-</span>refresh/<span class="token punctuation">&#123;</span>destination<span class="token punctuation">&#125;</span><span class="token comment"># &#123;destination&#125; æ˜¯å¾®æœåŠ¡çš„åç§°+ç«¯å£å·</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æœåŠ¡é…ç½® | Config</title>
    <link href="/2022/07/25/SpringCloud%20%7C%20Config/"/>
    <url>/2022/07/25/SpringCloud%20%7C%20Config/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/l794tk.png"/></div><br><blockquote><p><code>ConfigClientMain</code></p><p>ç«¯å£ï¼š3344</p><p>ä½œç”¨ï¼šä¸­å¿ƒåŒ–çš„å¤–éƒ¨é…ç½®</p></blockquote><br><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p><strong>æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><p>SpringCloud Config ä¸ºå¾®æœåŠ¡æ¶æ„ä¸­çš„å¾®æœåŠ¡æä¾›é›†ä¸­åŒ–çš„å¤–éƒ¨é…ç½®æ”¯æŒï¼Œé…ç½®æœåŠ¡å™¨ä¸º<font color=red>å„ä¸ªä¸åŒçš„å¾®æœåŠ¡åº”ç”¨</font>çš„æ‰€æœ‰ç¯å¢ƒæä¾›äº†ä¸€ä¸ª<font color=red>ä¸­å¿ƒåŒ–çš„å¤–éƒ¨é…ç½®</font>ã€‚</p><div style="text-align:center"><img style="width:80%;" src="https://files.catbox.moe/5ja5us.jpeg"/></div><p><strong>èƒ½å¹²å˜›ï¼Ÿ</strong></p><ol><li>é›†ä¸­ç®¡ç†é…ç½®æ–‡ä»¶</li><li>ä¸åŒç¯å¢ƒä¸åŒé…ç½®ï¼ŒåŠ¨æ€åŒ–çš„è§£ææ›´æ–°ï¼Œåˆ†ç¯å¢ƒéƒ¨ç½²ï¼Œæ¯”å¦‚ï¼šdev/test/prod/beta/release</li><li>è¿è¡ŒæœŸé—´åŠ¨æ€è°ƒæ•´é…ç½®ï¼Œä¸å†éœ€è¦åœ¨æ¯ä¸ªæœåŠ¡éƒ¨ç½²çš„æœºå™¨ä¸Šç¼–å†™é…ç½®æ–‡ä»¶ï¼ŒæœåŠ¡ä¼šå‘é…ç½®ä¸­å¿ƒç»Ÿä¸€æ‹‰å»é…ç½®è‡ªå·±çš„ä¿¡æ¯</li><li>å½“é…ç½®å‘ç”Ÿå˜åŠ¨æ—¶ï¼ŒæœåŠ¡ä¸éœ€è¦é‡å¯è®¡ç§‘æ„ŸçŸ¥åˆ°é…ç½®çš„å˜åŒ–å¹¶åº”ç”¨æ–°çš„é…ç½®</li><li>å°†é…ç½®ä¿¡æ¯ä»¥ REST æ¥å£çš„å½¢å¼æš´éœ²</li></ol><p><strong>æ€ä¹ˆç”¨ï¼Ÿ</strong></p><p>SpringCloud Configåˆ†ä¸º<font color=red>æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¸¤éƒ¨åˆ†</font>ã€‚</p><p>æœåŠ¡ç«¯ä¹Ÿç§°ä¸º<font color=red>åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œå®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡åº”ç”¨</font>ï¼Œç”¨æ¥è¿æ¥é…ç½®æœåŠ¡å™¨å¹¶ä¸ºå®¢æˆ·ç«¯æä¾›è·å–é…ç½®ä¿¡æ¯ï¼ŒåŠ å¯†/è§£å¯†ä¿¡æ¯ç­‰è®¿é—®æ¥å£</p><p>å®¢æˆ·ç«¯åˆ™æ˜¯é€šè¿‡æŒ‡å®šçš„é…è›‹ä¸­å¿ƒæ¥ç®¡ç†åº”ç”¨èµ„æºï¼Œä»¥åŠä¸ä¸šåŠ¡ç›¸å…³çš„é…ç½®å†…å®¹ï¼Œå¹¶åœ¨å¯åŠ¨çš„æ—¶å€™ä»é…ç½®ä¸­å¿ƒè·å–å’ŒåŠ è½½é…ç½®ä¿¡æ¯é…ç½®æœåŠ¡å™¨é»˜è®¤é‡‡ç”¨gitæ¥å­˜å‚¨é…ç½®ä¿¡æ¯ï¼Œè¿™æ ·å°±æœ‰åŠ©äºå¯¹ç¯å¢ƒé…ç½®è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡gitå®¢æˆ·ç«¯å·¥å…·æ¥æ–¹ä¾¿çš„ç®¡ç†å’Œè®¿é—®é…ç½®å†…å®¹ã€‚</p><p><strong>ç”±äº SpringCloud Config é»˜è®¤ä½¿ç”¨ Git æ¥å­˜å‚¨é…ç½®æ–‡ä»¶ï¼ˆä¹Ÿæœ‰å…¶ä»–æ–¹å¼æ¯”å¦‚æ”¯æŒ SVN å’Œæœ¬åœ°æ–‡ä»¶ï¼‰ï¼Œä½†æœ€æ¨èçš„è¿˜æ˜¯ Gitï¼Œè€Œä¸”ä½¿ç”¨çš„æ˜¯ http/https è®¿é—®çš„æ–¹å¼ã€‚</strong></p><h2 id="ğŸ§‘ğŸ»â€ğŸ”§-é…ç½®æ­¥éª¤-Server-ç«¯"><a href="#ğŸ§‘ğŸ»â€ğŸ”§-é…ç½®æ­¥éª¤-Server-ç«¯" class="headerlink" title="ğŸ§‘ğŸ»â€ğŸ”§ é…ç½®æ­¥éª¤ | Server ç«¯"></a>ğŸ§‘ğŸ»â€ğŸ”§ é…ç½®æ­¥éª¤ | Server ç«¯</h2><ol><li>åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ª springcloud-config çš„ Repository</li><li>è·å¾— <a href="mailto:&#x67;&#x69;&#116;&#64;&#x67;&#x69;&#x74;&#104;&#x75;&#x62;&#46;&#x63;&#x6f;&#x6d;">&#x67;&#x69;&#116;&#64;&#x67;&#x69;&#x74;&#104;&#x75;&#x62;&#46;&#x63;&#x6f;&#x6d;</a>:xxxx/xxxx</li><li>æœ¬åœ°ç¡¬ç›˜ç›®å½•ä¸Šæ–°å»º git ä»“åº“å¹¶ clone</li><li>æ­¤æ—¶å†æœ¬åœ°ç£ç›˜ä¸‹æœ‰ä¸€ä¸ª springcloud-config</li><li>æ–°å»º Module æ¨¡å— cloud-ocnfig-center-3344ï¼Œå®ƒå³ä¸º Cloud çš„é…ç½®ä¸­å¿ƒæ¨¡å—</li><li>POM</li><li>YML</li><li>ä¸»å¯åŠ¨ç±»</li></ol><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-config-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">3344</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>config<span class="token punctuation">-</span>center<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">config</span><span class="token punctuation">:</span><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">git</span><span class="token punctuation">:</span><span class="token key atrule">uri</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>zzyybs/springcloud<span class="token punctuation">-</span>config.git<span class="token key atrule">search-paths</span><span class="token punctuation">:</span><span class="token punctuation">-</span> springcloud<span class="token punctuation">-</span>config<span class="token key atrule">label</span><span class="token punctuation">:</span> master<span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">client</span><span class="token punctuation">:</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableConfigServer</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainAppConfigCenter3344</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MainAppConfigCenter3344</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="ğŸ“„-äº”ç§é…ç½®"><a href="#ğŸ“„-äº”ç§é…ç½®" class="headerlink" title="ğŸ“„ äº”ç§é…ç½®"></a>ğŸ“„ äº”ç§é…ç½®</h2><blockquote><p>**label:**åˆ†æ”¯</p><p><strong>nameï¼š</strong>æœåŠ¡å</p><p><strong>profilesï¼š</strong>ç¯å¢ƒï¼ˆdev/test/prodï¼‰</p></blockquote><p>/{application}/{profile}[/{label}]</p><ul><li><a href="http://config-3344.com:3344/config/dev/master">http://config-3344.com:3344/config/dev/master</a></li><li><a href="http://config-3344.com:3344/config/test/master">http://config-3344.com:3344/config/test/master</a></li><li><a href="http://config-3344.com:3344/config/prod/master">http://config-3344.com:3344/config/prod/master</a></li></ul><p>/{application}-{profile}.yml</p><ul><li><a href="http://config-3344.com:3344/config-dev.yml">http://config-3344.com:3344/config-dev.yml</a></li><li><a href="http://config-3344.com:3344/config-test.yml">http://config-3344.com:3344/config-test.yml</a></li><li><a href="http://config-3344.com:3344/config-prod.yml">http://config-3344.com:3344/config-prod.yml</a></li></ul><p>/{label}/{application}-{profile}.yml</p><ul><li><p>Master åˆ†æ”¯</p><ul><li><p><a href="http://config-3344.com:3344/master/config-dev.tml">http://config-3344.com:3344/master/config-dev.tml</a></p></li><li><p><a href="http://config-3344.com:3344/master/config-test.yml">http://config-3344.com:3344/master/config-test.yml</a></p></li><li><p><a href="http://config-3344.com:3344/master/config-prod.yml">http://config-3344.com:3344/master/config-prod.yml</a></p></li></ul></li><li><p>Dev åˆ†æ”¯</p><ul><li><a href="http://config-3344.com:3344/dev/config-dev.tml">http://config-3344.com:3344/dev/config-dev.tml</a></li><li><a href="http://config-3344.com:3344/dev/config-test.tml">http://config-3344.com:3344/dev/config-test.tml</a></li><li><a href="http://config-3344.com:3344/dev/config-prod.tml">http://config-3344.com:3344/dev/config-prod.tml</a></li></ul></li></ul><p>/{application}-{profile}.properties</p><p>/{label}/{application}-{profile}.properties</p><div style="box-shadow:0 0 25px gray;text-align:center;background:#117462;padding:50px 0;width:100%;height:150px;border:1px solid black;border-radius:20px"><a style="color:white;font-size:32px"><b>è‡³æ­¤ï¼Œå·²ç»æ‰“é€š GitHub ä¸ ConfigCenter</b></a></div><h2 id="ğŸ“º-é…ç½®æ­¥éª¤-Config-Client-å®¢æˆ·ç«¯"><a href="#ğŸ“º-é…ç½®æ­¥éª¤-Config-Client-å®¢æˆ·ç«¯" class="headerlink" title="ğŸ“º é…ç½®æ­¥éª¤ | Config Client | å®¢æˆ·ç«¯"></a>ğŸ“º é…ç½®æ­¥éª¤ | Config Client | å®¢æˆ·ç«¯</h2><h3 id="ç›¸å…³é…ç½®"><a href="#ç›¸å…³é…ç½®" class="headerlink" title="ç›¸å…³é…ç½®"></a>ç›¸å…³é…ç½®</h3><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="bootstrap-yml"><a href="#bootstrap-yml" class="headerlink" title="bootstrap.yml"></a>bootstrap.yml</h3><h4 id="æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>application.yml æ˜¯ç”¨æˆ·çº§çš„èµ„æºé…ç½®é¡¹</p><p>bootstrap.yml æ˜¯ç³»ç»Ÿçº§çš„ï¼Œ<font color=red><b>ä¼˜å…ˆçº§æ›´é«˜ã€‚</b></font></p><blockquote><p>Spring Cloudä¼šåˆ›å»ºâ€Bootstrap Contextâ€ï¼Œä½œä¸ºSpringåº”ç”¨çš„ Application Contextâ€™çš„çˆ¶ä¸Šä¸‹æ–‡ã€‚åˆå§‹åŒ–çš„æ—¶å€™ï¼Œ<code>Bootstrap context</code> è´Ÿè´£ä»å¤–éƒ¨æºåŠ è½½é…ç½®å±æ€§å¹¶è§£æé…ç½®ã€‚è¿™ä¸¤ä¸ªä¸Šä¸‹æ–‡å…±äº«ä¸€ä¸ªä»å¤–éƒ¨è·å–çš„Environmentã€‚</p><p><code>Bootstrap</code>å±æ€§æœ‰é«˜ä¼˜å…ˆçº§ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä¸ä¼šè¢«æœ¬åœ°é…ç½®è¦†ç›–ã€‚<code>Bootstrap context</code>å’Œ<code>Application Context</code>æœ‰ç€ä¸åŒçš„çº¦å®šæ‰€ä»¥æ–°å¢äº†ä¸€ä¸ªbootstrap.ymlæ–‡ä»¶ï¼Œä¿<code>&#39;Bootstrap Context</code> å’Œ <code>Application Context</code> é…ç½®çš„åˆ†ç¦»ã€‚</p><p><font color=red><b>è¦å°†Clientæ¨¡å—ä¸‹çš„application.ymlæ–‡ä»¶æ”¹ä¸ºbootstrap.yml,è¿™æ˜¯å¾ˆå…³é”®çš„ï¼Œ</b></font>å› ä¸ºbootstrap.ymlæ˜¯æ¯”application.ymlå…ˆåŠ è½½çš„ã€‚bootstrap.ymlä¼˜å…ˆçº§é«˜äºapplication.ymlã€‚</p></blockquote><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token comment">## bootstrap.yml</span><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">3355</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>client<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">config</span><span class="token punctuation">:</span><span class="token key atrule">label</span><span class="token punctuation">:</span> master <span class="token comment"># åˆ†æ”¯åç§°</span><span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token comment"># é…ç½®æ–‡ä»¶åç§°</span><span class="token key atrule">profile</span><span class="token punctuation">:</span> dev<span class="token comment"># è¯»å–åç¼€åæˆ # ä¸Šè¿°ç»¼åˆä¸ºï¼šmaster åˆ†æ”¯ä¸Šçš„ config-dev.yml çš„é…ç½®æ–‡ä»¶è¢«è¯»å–ä¸ºï¼šhttp://config-3344.com:3344/master/config-dev</span><span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">3344</span> <span class="token comment"># é…ç½®ä¸­å¿ƒåœ°å€</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">client</span><span class="token punctuation">:</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div style="text-align:center"><img style="wisth:80%;border-radius:20px" src="https://files.catbox.moe/hb6la5.png"/></div><h3 id="å¯åŠ¨é¡¹ç›®"><a href="#å¯åŠ¨é¡¹ç›®" class="headerlink" title="å¯åŠ¨é¡¹ç›®"></a>å¯åŠ¨é¡¹ç›®</h3><ol><li><strong>ä¸»å¯åŠ¨</strong></li></ol><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientMain3355</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigClientMain3355</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="2"><li><strong>ä¸šåŠ¡ç±»ï¼ˆä»…ç”¨äºæ¼”ç¤ºï¼‰</strong></li></ol><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientController</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;config.info&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> configInfo<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/configInfo"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCOnfigInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> configInfo<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>å½“ GitHub åˆ·æ–°ä¹‹åï¼Œ3344 ç´§éšç€å°±åˆ·æ–°äº†ï¼Œä½†æ˜¯è‹¥ä¸é‡å¯ 3355 é‚£ä¹ˆ 3355 è¿˜æ˜¯ä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–</p><ol><li>Client ç«¯åŠ å…¥ä»¥ä¸‹ä¾èµ–</li></ol><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="2"><li>ä¿®æ”¹Client - ymlï¼Œæš´éœ²ç›‘æ§ç«¯å£</li></ol><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token comment">## è¿½åŠ ä»¥ä¸‹</span><span class="token key atrule">management</span><span class="token punctuation">:</span><span class="token key atrule">endpoints</span><span class="token punctuation">:</span><span class="token key atrule">web</span><span class="token punctuation">:</span><span class="token key atrule">exposure</span><span class="token punctuation">:</span><span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">"*"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="3"><li>@RefreshScope ä¸šåŠ¡ç±» Controller ä¿®æ”¹</li></ol><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RefreshScope</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientController</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;config.info&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> configInfo<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/configInfo"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCOnfigInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> configInfo<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="4"><li><p>æµ‹è¯•ã€Œ ä¿®æ”¹ github â€“&gt; 3344 â€“&gt; 3355 ã€ <font color=red>å¤±è´¥</font></p></li><li><p><font color=GREEN><b>éœ€è¦è¿ç»´äººå‘˜å‘é€ Post è¯·æ±‚åˆ·æ–° 3355</b></font><code>curl -X POST &quot;http://localhost:3355/actuator/refresh&quot;</code></p></li><li><p>é—®é¢˜å·²è§£å†³ï¼Œä½†æ˜¯è‹¥æ˜¯æœ‰å¤šä¸ªå¾®æœåŠ¡å®¢æˆ·ç«¯ï¼Œåˆ™ä¼šå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥è¦ä½¿ç”¨åˆ°æ¶ˆæ¯æ€»çº¿</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æ—¥è®°ã€‘9å·çº¿åœ°é“çš„å°å¥³å­©</title>
    <link href="/2022/07/23/%E6%97%A5%E8%AE%B0/%E6%97%A5%E8%AE%B0%E3%80%919%E5%8F%B7%E7%BA%BF%E5%9C%B0%E9%93%81%E7%9A%84%E5%B0%8F%E5%A5%B3%E5%AD%A9/"/>
    <url>/2022/07/23/%E6%97%A5%E8%AE%B0/%E6%97%A5%E8%AE%B0%E3%80%919%E5%8F%B7%E7%BA%BF%E5%9C%B0%E9%93%81%E7%9A%84%E5%B0%8F%E5%A5%B3%E5%AD%A9/</url>
    
    <content type="html"><![CDATA[<h4 id="æ—¥è®°-2022-07-23-9-å·çº¿åœ°é“çš„å°å¥³å­©"><a href="#æ—¥è®°-2022-07-23-9-å·çº¿åœ°é“çš„å°å¥³å­©" class="headerlink" title="æ—¥è®° | 2022-07-23 | 9 å·çº¿åœ°é“çš„å°å¥³å­©"></a>æ—¥è®° | 2022-07-23 | 9 å·çº¿åœ°é“çš„å°å¥³å­©</h4><br><hr><p>ä»Šå¤©åœ¨ä¹å·çº¿ä¸Šï¼Œé‡åˆ°äº†ä¸€ä¸ªå¾ˆå¯çˆ±çš„å°å¥³å­©ã€‚</p><p>æˆ‘æ—è¾¹åªæœ‰ä¸€ä¸ªåº§ä½äº†ï¼Œå› æ­¤å°å¥³å­©çš„å¦ˆå¦ˆè®©å°å¥³å­©ååœ¨äº†æˆ‘æ—è¾¹ï¼Œå¥³å­©çš„å¦ˆå¦ˆç«™ç€ï¼Œè‹¥æ˜¯å¹³æ—¶æˆ‘å°±ç«™èµ·æ¥ç»™å¦ˆå¦ˆè®©ä½ç½®äº†ï¼Œä½†æ˜¯è€ƒè™‘åˆ° 9 å·çº¿åº§ä½ä¸€ç›´ç‹ ç¨€æœ‰ä¸”æˆ‘è¦åçš„è·¯ç¨‹å¾ˆè¿œï¼Œæˆ‘ä¾¿ååœ¨è¿™é‡Œã€‚</p><p>ä¸€ä¼šå„¿æœ‰äººä¸Šä¸‹è½¦ï¼Œå¯¹é¢æœ‰ä¸ªç©ºä½ç½®ï¼Œå°å¥³å­©å¦ˆå¦ˆä¾¿åä¸Šå»äº†ï¼Œä½å¤´ç©æ‰‹æœºçš„å°å¥³å­©æŠ¬å¤´çªç„¶å‘ç°å¦ˆå¦ˆä¸è§äº†ï¼Œä¾¿ç«™èµ·æ¥ä¸€ç›´å–Šå¦ˆå¦ˆï¼Œå®åœ¨æ˜¯å¤ªå¯çˆ±äº†ã€‚</p><p>ä¸”ï¼Œæˆ‘å‘ç°ä¸€ä¸ªç¨å¾®æœ‰è¶£çš„ç°è±¡ï¼šè‹¥æ˜¯å¦ˆå¦ˆå¸¦å­©å­ä¸”åªæœ‰ä¸€ä¸ªä½ç½®ï¼Œé‚£ä¹ˆåä¸‹æ¥çš„éƒ½æ˜¯å­©å­ï¼Œä½†æ˜¯è‹¥æ˜¯ä¸€ä¸ªçˆ¶äº²å¸¦ç€å­©å­ï¼Œé‚£ä¹ˆåä¸‹æ¥çš„å¾€å¾€æ˜¯çˆ¶äº²ï¼Œç„¶åå°†å­©å­æŠ±åœ¨æ€€é‡Œã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ—¥è®°</tag>
      
      <tag>ç”Ÿæ´»ä¸­çš„è¶£äº‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æœåŠ¡ç½‘å…³ | SpringCloud GateWay</title>
    <link href="/2022/07/22/SpringCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%20%7C%20Gateway/"/>
    <url>/2022/07/22/SpringCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%20%7C%20Gateway/</url>
    
    <content type="html"><![CDATA[<br><div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/y9jzw3.png"/></div><br><p><font color=red><strong>æ ¸å¿ƒé€»è¾‘</strong></font>ï¼šè·¯ç”±è½¬å‘ + æ‰§è¡Œè¿‡æ»¤å™¨é“¾</p><div style="hight:100px;padding:20px;width:100%;text-align:center;background:#2b61a7;border-radius:15px;border:1px solid gray;"><a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.1.RELEASE/reference/html/#gateway-starter"><span style="color:white">Spring Cloud</span><b><span style="color:white;font-size:64px;">Gateway</span></b></a></div><h2 id="ğŸ¥¥-æ¦‚å¿µ"><a href="#ğŸ¥¥-æ¦‚å¿µ" class="headerlink" title="ğŸ¥¥ æ¦‚å¿µ"></a>ğŸ¥¥ æ¦‚å¿µ</h2><p><strong>Routeï¼ˆè·¯ç”±ï¼‰</strong> è·¯ç”±æ˜¯æ„å»ºç½‘å…³çš„åŸºæœ¬æ¨¡å—ï¼Œå®ƒç”± IDï¼Œç›®æ ‡ URIï¼Œä¸€ç³»åˆ—çš„æ–­è¨€å’Œè¿‡æ»¤å™¨ç»„æˆï¼Œå¦‚æœæ–­è¨€ä¸º true åˆ™åŒ¹é…è¯¥è·¯ç”±ã€‚</p><p><strong>Predicateï¼ˆæ–­è¨€ï¼‰</strong>å‚è€ƒçš„æ˜¯ Java8 çš„ java.util.funcation.Predicateï¼Œå¼€å‘äººå‘˜å¯ä»¥åŒ¹é… HTTP è¯·æ±‚ä¸­çš„æ‰€æœ‰å†…å®¹ï¼ˆä¾‹å¦‚è¯·æ±‚å¤´æˆ–è€…è¯·æ±‚å‚æ•°ï¼‰ï¼Œ<font color=red>å¦‚æœè¯·æ±‚ä¸æ–­è¨€ç›¸åŒ¹é…åˆ™è¿›è¡Œè·¯ç”±ã€‚</font></p><p><strong>Filterï¼ˆè¿‡æ»¤ï¼‰</strong> æŒ‡çš„æ˜¯ Spring æ¡†æ¶ä¸­ GatewayFilter çš„å®ä¾‹ï¼Œä½¿ç”¨è¿‡æ»¤å™¨ï¼Œå¯ä»¥åœ¨è¯·æ±‚è¢«è·¯ç”±å‰æˆ–è€…ä¹‹åå¯¹è¯·æ±‚è¿›è¡Œä¿®æ”¹ã€‚</p><div style="text-align:center"><img style="border:1px solid darkgray;border-radius:15px;padding:10px;width:70%" src="https://files.catbox.moe/z2zbg2.png" /></div><h3 id="æ‰§è¡Œè¿‡ç¨‹ï¼š"><a href="#æ‰§è¡Œè¿‡ç¨‹ï¼š" class="headerlink" title="æ‰§è¡Œè¿‡ç¨‹ï¼š"></a><strong>æ‰§è¡Œè¿‡ç¨‹</strong>ï¼š</h3><div style="text-align:center"><img style="width:60%" src="https://files.catbox.moe/q8xgyo.png"/></div><p>å®¢æˆ·ç«¯å‘ SpringCloudGateway å‘å‡ºè¯·æ±‚ã€‚ç„¶ååœ¨ Gateway Handler Mapping ä¸­æ‰¾åˆ°ä¸è¯·æ±‚ç›¸åŒ¹é…çš„è·¯ç”±ï¼Œå°†å…¶å‘é€åˆ° Gateway Web Handlerã€‚</p><p><strong>Handler</strong>å†é€šè¿‡æŒ‡å®šçš„è¿‡æ»¤å™¨é“¾æ¥å°†è¯·æ±‚å‘é€åˆ°æˆ‘ä»¬å®é™…çš„æœåŠ¡æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œç„¶åè¿”å›ï¼Œè¿‡æ»¤å™¨ä¹‹é—´ç”¨è™šçº¿åˆ†å¼€æ˜¯å› ä¸ºè¿‡æ»¤å™¨å¯èƒ½ä¼šåœ¨å‘é€ä»£ç†è¯·æ±‚ä¹‹å‰ï¼ˆâ€preâ€ï¼‰æˆ–ä¹‹åï¼ˆâ€œpostâ€ï¼‰æ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚</p><p><strong>Filter</strong> åœ¨â€preâ€ ç±»å‹çš„è¿‡æ»¤å™¨å¯ä»¥åšå‚æ•°æ ¡éªŒã€æƒé™æ ¡éªŒã€æµé‡ç›‘æ§ã€æ—¥å¿—è¾“å‡ºã€åè®®è½¬æ¢ç­‰ï¼Œåœ¨â€postâ€ç±»å‹çš„è¿‡æ»¤å™¨ä¸­å¯ä»¥åšç›¸åº”å†…å®¹ã€å“åº”å¤´çš„ä¿®æ”¹ï¼Œæ—¥å¿—çš„ä¿®æ”¹ï¼Œæ—¥å¿—çš„è¾“å‡ºï¼Œæµé‡ç›‘æ§ç­‰æœ‰ç€éå¸¸é‡è¦çš„ä½œç”¨ã€‚</p><br><br><br><h2 id="ğŸ¥¥-è·¯ç”±"><a href="#ğŸ¥¥-è·¯ç”±" class="headerlink" title="ğŸ¥¥ è·¯ç”±"></a>ğŸ¥¥ è·¯ç”±</h2><h4 id="æ–¹å¼ä¸€-ã€Œ-application-yml-ä¸­é…ç½®è·¯ç”±-ã€"><a href="#æ–¹å¼ä¸€-ã€Œ-application-yml-ä¸­é…ç½®è·¯ç”±-ã€" class="headerlink" title="æ–¹å¼ä¸€ ã€Œ application.yml ä¸­é…ç½®è·¯ç”± ã€"></a>æ–¹å¼ä¸€ ã€Œ application.yml ä¸­é…ç½®è·¯ç”± ã€</h4><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9527</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>gateway<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">gateway</span><span class="token punctuation">:</span><span class="token comment"># è·¯ç”±</span><span class="token key atrule">routes</span><span class="token punctuation">:</span><span class="token comment"># è·¯ç”± ID ï¼Œæ²¡æœ‰å›ºå®šè§„åˆ™ä½†æ˜¯è¦æ±‚å”¯ä¸€ï¼Œå»ºè®®é…åˆæœåŠ¡å</span><span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> payment_routh <span class="token comment"># å±å±é¢åæä¾›æœåŠ¡çš„è·¯ç”±åœ°å€</span><span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8001</span><span class="token key atrule">predicates</span><span class="token punctuation">:</span><span class="token comment"># æ–­è¨€ï¼Œè·¯å¾„åŒ¹é…çš„è¿›è¡Œè·¯ç”±</span><span class="token punctuation">-</span> Path=/payment/get/<span class="token important">**</span>        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> payment_routh2<span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8001</span><span class="token key atrule">predicates</span><span class="token punctuation">:</span><span class="token punctuation">-</span> Path=/payment/lb/<span class="token important">**</span><span class="token comment">## æ³¨å†Œè¿› Eureka</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">instance</span><span class="token punctuation">:</span><span class="token key atrule">hostname</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>gateway<span class="token punctuation">-</span>service<span class="token key atrule">client</span><span class="token punctuation">:</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ä¸»å¯åŠ¨ç±»</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GateWayMain9527</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">GateWayMain9527</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="æ–¹å¼äºŒ-ã€Œ-Javaç¼–ç æ–¹å¼-ã€"><a href="#æ–¹å¼äºŒ-ã€Œ-Javaç¼–ç æ–¹å¼-ã€" class="headerlink" title="æ–¹å¼äºŒ ã€Œ Javaç¼–ç æ–¹å¼ ã€"></a>æ–¹å¼äºŒ ã€Œ Javaç¼–ç æ–¹å¼ ã€</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// com.jim.springcloud.config</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GateWayConfig</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Bean</span>  <span class="token keyword">public</span> <span class="token class-name">RouteLocator</span> <span class="token function">customRouteLocator</span><span class="token punctuation">(</span><span class="token class-name">RouteLocatorBuilder</span> routeLocatorBuilder<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">RouteLocatorBuilder<span class="token punctuation">.</span>Builder</span> routes <span class="token operator">=</span> routeLocatorBuilder<span class="token punctuation">.</span><span class="token function">routes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// id ï¼ˆlocalhost:ç«¯å£å·ï¼‰+ç”¨æˆ·è®¿é—®è·¯å¾„ å®é™…ç»™çš„åœ°å€</span>    routes<span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"path_route_atguigu"</span><span class="token punctuation">,</span>r <span class="token operator">-></span> r<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token string">"/guonei"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token string">"http://news.baidu.com/guonei"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> routes<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="æ–¹å¼ä¸‰-ã€Œ-é…åˆ-Ribbon-å®ç°è´Ÿè½½å‡è¡¡-ã€"><a href="#æ–¹å¼ä¸‰-ã€Œ-é…åˆ-Ribbon-å®ç°è´Ÿè½½å‡è¡¡-ã€" class="headerlink" title="æ–¹å¼ä¸‰ ã€Œ é…åˆ Ribbon å®ç°è´Ÿè½½å‡è¡¡ ã€"></a>æ–¹å¼ä¸‰ ã€Œ é…åˆ Ribbon å®ç°è´Ÿè½½å‡è¡¡ ã€</h4><p>é»˜è®¤æƒ…å†µä¸‹ Gateway ä¼šæ ¹æ®æ³¨å†Œä¸­å¿ƒæ³¨å†Œçš„æœåŠ¡åˆ—è¡¨ï¼Œä»¥æ³¨å†Œä¸­å¿ƒä¸Šçš„å¾®æœåŠ¡åä¸ºè·¯å¾„åˆ›å»º<b><font color=orange>åŠ¨æ€è·¯ç”±è¿›è¡Œè½¬å‘ï¼Œä»è€Œå®ç°åŠ¨æ€è·¯ç”±çš„åŠŸèƒ½ã€‚</font></b></p> <div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9527</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>gateway  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>  <span class="token key atrule">gateway</span><span class="token punctuation">:</span>  <span class="token key atrule">discovery</span><span class="token punctuation">:</span>  <span class="token key atrule">locator</span><span class="token punctuation">:</span>  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">gateway</span><span class="token punctuation">:</span><span class="token comment"># è·¯ç”±</span><span class="token key atrule">routes</span><span class="token punctuation">:</span><span class="token comment"># è·¯ç”± ID ï¼Œæ²¡æœ‰å›ºå®šè§„åˆ™ä½†æ˜¯è¦æ±‚å”¯ä¸€ï¼Œå»ºè®®é…åˆæœåŠ¡å</span><span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> payment_routh <span class="token comment">## uri: http://localhost:8001</span><span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service<span class="token key atrule">predicates</span><span class="token punctuation">:</span><span class="token comment"># æ–­è¨€ï¼Œè·¯å¾„åŒ¹é…çš„è¿›è¡Œè·¯ç”±</span><span class="token punctuation">-</span> Path=/payment/get/<span class="token important">**</span>        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> payment_routh2        <span class="token comment">## uri: http://localhost:8001</span>        <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service<span class="token key atrule">predicates</span><span class="token punctuation">:</span><span class="token punctuation">-</span> Path=/payment/lb/<span class="token important">**</span><span class="token comment">## æ³¨å†Œè¿› Eureka</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">instance</span><span class="token punctuation">:</span><span class="token key atrule">hostname</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>gateway<span class="token punctuation">-</span>service<span class="token key atrule">client</span><span class="token punctuation">:</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="ğŸ¥¥-Gateway-å¸¸ç”¨çš„-Predicates"><a href="#ğŸ¥¥-Gateway-å¸¸ç”¨çš„-Predicates" class="headerlink" title="ğŸ¥¥ Gateway å¸¸ç”¨çš„ Predicates"></a>ğŸ¥¥ Gateway å¸¸ç”¨çš„ Predicates</h2><p><a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.1.RELEASE/reference/html/#gateway-request-predicates-factories">Predicates</a></p><h4 id="è·å–å½“å‰æ—¶é—´-åœ°åŒº"><a href="#è·å–å½“å‰æ—¶é—´-åœ°åŒº" class="headerlink" title="è·å–å½“å‰æ—¶é—´ + åœ°åŒº"></a>è·å–å½“å‰æ—¶é—´ + åœ°åŒº</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è·å–æ—¶é—´</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">ZonedDateTime</span> t <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2022-02-02-21T15:51:37.485+08:00[Asia/Shanghai]</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ—¶é—´é™åˆ¶"><a href="#æ—¶é—´é™åˆ¶" class="headerlink" title="æ—¶é—´é™åˆ¶"></a>æ—¶é—´é™åˆ¶</h3><h4 id="After-å¯ä»¥ç”¨æ¥æå‰ä¸Šçº¿æœªå¼€æ”¾çš„åŠŸèƒ½"><a href="#After-å¯ä»¥ç”¨æ¥æå‰ä¸Šçº¿æœªå¼€æ”¾çš„åŠŸèƒ½" class="headerlink" title="After | å¯ä»¥ç”¨æ¥æå‰ä¸Šçº¿æœªå¼€æ”¾çš„åŠŸèƒ½"></a><code>After</code> | å¯ä»¥ç”¨æ¥æå‰ä¸Šçº¿æœªå¼€æ”¾çš„åŠŸèƒ½</h4><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">After=2022<span class="token punctuation">-</span>02<span class="token punctuation">-</span>02<span class="token punctuation">-</span>21T15<span class="token punctuation">:</span>51<span class="token punctuation">:</span>37.485+08<span class="token punctuation">:</span>00<span class="token punctuation">[</span>Asia/Shanghai<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h4 id="Before-å®šæœŸä¸‹çº¿æŸä¸ªåŠŸèƒ½"><a href="#Before-å®šæœŸä¸‹çº¿æŸä¸ªåŠŸèƒ½" class="headerlink" title="Before | å®šæœŸä¸‹çº¿æŸä¸ªåŠŸèƒ½"></a><code>Before</code> | å®šæœŸä¸‹çº¿æŸä¸ªåŠŸèƒ½</h4><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">Before=2022<span class="token punctuation">-</span>02<span class="token punctuation">-</span>02<span class="token punctuation">-</span>21T15<span class="token punctuation">:</span>51<span class="token punctuation">:</span>37.485+08<span class="token punctuation">:</span>00<span class="token punctuation">[</span>Asia/Shanghai<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h4 id="Between-åœ¨æŸä¸ªæ—¶é—´æ®µå†…"><a href="#Between-åœ¨æŸä¸ªæ—¶é—´æ®µå†…" class="headerlink" title="Between | åœ¨æŸä¸ªæ—¶é—´æ®µå†…"></a><code>Between</code> | åœ¨æŸä¸ªæ—¶é—´æ®µå†…</h4><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">Between=2022<span class="token punctuation">-</span>02<span class="token punctuation">-</span>02<span class="token punctuation">-</span>21T15<span class="token punctuation">:</span>51<span class="token punctuation">:</span>37.485+08<span class="token punctuation">:</span>00<span class="token punctuation">[</span>Asia/Shanghai<span class="token punctuation">]</span><span class="token punctuation">,</span>2022<span class="token punctuation">-</span>07<span class="token punctuation">-</span>25<span class="token punctuation">-</span>21T15<span class="token punctuation">:</span>51<span class="token punctuation">:</span>37.485+08<span class="token punctuation">:</span>00<span class="token punctuation">[</span>Asia/Shanghai<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="Cookie-é™åˆ¶"><a href="#Cookie-é™åˆ¶" class="headerlink" title="Cookie é™åˆ¶"></a>Cookie é™åˆ¶</h3><p>Cookie Route Predicateéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ Cookie name ä¸€ä¸ªæ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚<br>è·¯ç”±è§„åˆ™ä¼šé€šè¿‡è·å–å¯¹åº”çš„ Cookie name å€¼å’Œæ­£åˆ™è¡¨è¾¾å¼å»åŒ¹é…ï¼Œå¦‚æœåŒ¹é…ä¸Šå°±ä¼šæ‰§è¡Œè·¯ç”±ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…ä¸Šåˆ™ä¸æ‰§è¡Œ</p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">gateway</span><span class="token punctuation">:</span><span class="token key atrule">routes</span><span class="token punctuation">:</span><span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> cookie_route<span class="token key atrule">uri</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//example.org<span class="token key atrule">predicates</span><span class="token punctuation">:</span><span class="token comment">## éœ€è¦ä¸€ä¸ª key-value é”®å€¼å¯¹ï¼Œkey æ˜¯ usernameï¼›value æ˜¯ zzyy</span><span class="token punctuation">-</span> Cookie=username<span class="token punctuation">,</span>zzyy<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="Header-è¯·æ±‚å¤´"><a href="#Header-è¯·æ±‚å¤´" class="headerlink" title="Header è¯·æ±‚å¤´"></a>Header è¯·æ±‚å¤´</h3><p>ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯å±æ€§åç§°å’Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™ä¸ªå±æ€§å€¼å’Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ‰§è¡Œ</p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">gateway</span><span class="token punctuation">:</span><span class="token key atrule">routes</span><span class="token punctuation">:</span><span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> header_route<span class="token key atrule">uri</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//example.org<span class="token key atrule">predicates</span><span class="token punctuation">:</span><span class="token punctuation">-</span> Header=x<span class="token punctuation">-</span>Request<span class="token punctuation">-</span>Id<span class="token punctuation">,</span>\d+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h3><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">gateway</span><span class="token punctuation">:</span><span class="token key atrule">routes</span><span class="token punctuation">:</span><span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> header_route<span class="token key atrule">uri</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//example.org<span class="token key atrule">predicates</span><span class="token punctuation">:</span><span class="token punctuation">-</span> Method=GET <span class="token comment">## åªå…è®¸ Get è¯·æ±‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><h4 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h4><p>è·¯ç”±è¿‡æ»¤å™¨å¯ç”¨äºä¿®æ”¹è¿›å…¥çš„HTTPè¯·æ±‚å’Œè¿”å›çš„HTTPå“åº”ï¼Œè·¯ç”±è¿‡æ»¤å™¨åªèƒ½æŒ‡å®šè·¯ç”±è¿›è¡Œä½¿ç”¨ã€‚<br>Spring Cloud Gateway å†…ç½®äº†å¤šç§è·¯ç”±è¿‡æ»¤å™¨ï¼Œä»–ä»¬éƒ½ç”±GatewayFilterçš„å·¥å‚ç±»æ¥äº§ç”Ÿã€‚</p><p><strong>ç”Ÿå‘½å‘¨æœŸ | ä¸šåŠ¡é€»è¾‘ä¹‹å‰ + ä¸šåŠ¡é€»è¾‘ä¹‹å</strong></p><p><a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.1.RELEASE/reference/html/#gatewayfilter-factories">Gateway Filter</a></p><p><a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.1.RELEASE/reference/html/#global-filters">Gateway Global Filter</a></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">gateway</span><span class="token punctuation">:</span><span class="token key atrule">routes</span><span class="token punctuation">:</span><span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> header_route<span class="token key atrule">uri</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//example.org<span class="token key atrule">filters</span><span class="token punctuation">:</span><span class="token comment">## è¿‡æ»¤å™¨å·¥å‚ä¼šåœ¨åŒ¹é…çš„è¯·æ±‚å¤´åŠ ä¸€å¯¹è¯·æ±‚å¤´ï¼Œåç§°ä¸º X-Request-Idï¼Œå€¼ä¸º 1024</span><span class="token punctuation">-</span> AddRequestParameter=X<span class="token punctuation">-</span>Request<span class="token punctuation">-</span>Id<span class="token punctuation">,</span><span class="token number">1024</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="è‡ªå®šä¹‰è¿‡æ»¤å™¨"><a href="#è‡ªå®šä¹‰è¿‡æ»¤å™¨" class="headerlink" title="è‡ªå®šä¹‰è¿‡æ»¤å™¨"></a>è‡ªå®šä¹‰è¿‡æ»¤å™¨</h4><p><code>implements GlobalFilter,Ordered</code></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyLogGateWayFilter</span> <span class="token keyword">implements</span> <span class="token class-name">GlobalFilter</span><span class="token punctuation">,</span><span class="token class-name">Ordered</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token class-name">Mono</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">></span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">ServerWebExchange</span> exchange<span class="token punctuation">,</span><span class="token class-name">GatewayFilterChain</span> chain<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"--------com in MyLogGateWayFilter"</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> uname <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getQueryParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token string">"uname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>uname <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"--------ç”¨æˆ·åä¸º nullï¼Œéæ³•ç”¨æˆ·ï¼Œo(â•¥ï¹â•¥)o"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setStatusCode</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus<span class="token punctuation">.</span>NotAcceptABLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æŠ¥é”™ | SpringCloud GateWay å¯åŠ¨æŠ¥é”™</title>
    <link href="/2022/07/22/%E3%80%90Error%E3%80%91%7C%20SpringCloud-GateWay-%E5%90%AF%E5%8A%A8%E6%8A%A5%E9%94%99/"/>
    <url>/2022/07/22/%E3%80%90Error%E3%80%91%7C%20SpringCloud-GateWay-%E5%90%AF%E5%8A%A8%E6%8A%A5%E9%94%99/</url>
    
    <content type="html"><![CDATA[<h2 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">Spring MVC found on classpath,which is incompatible with Spring Cloud Gateway at this time.Please remove spring-boot-starter-web dependency.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>åœ¨ Gateway ç«¯ç§»é™¤è·Ÿ web æœ‰å…³çš„é…ç½®ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Error</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Error</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æœåŠ¡ç½‘å…³ | GateWay ä¸ Zuul</title>
    <link href="/2022/07/22/SpringCloud%20%7C%20%E8%B7%AF%E7%94%B1%E7%BD%91%E5%85%B3%20%7C%20GateWay/"/>
    <url>/2022/07/22/SpringCloud%20%7C%20%E8%B7%AF%E7%94%B1%E7%BD%91%E5%85%B3%20%7C%20GateWay/</url>
    
    <content type="html"><![CDATA[<br><div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/qrn7ti.png"/></div><br><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>Gatewayæ˜¯åœ¨Springç”Ÿæ€ç³»ç»Ÿä¹‹ä¸Šæ„å»ºçš„APIç½‘å…³æœåŠ¡ï¼ŒåŸºäºSpring 5ï¼ŒSpring Boot 2å’Œ Project Reactorç­‰æŠ€æœ¯ã€‚<br>Gatewavæ—¨åœ¨æä¾›ä¸€ ç§ç®€å•è€Œæœ‰æ•ˆçš„æ–¹å¼æ¥å¯¹Aplè¿›è¡Œè·¯ç”±ï¼Œä»¥åŠæä¾›ä¸€äº›å¼ºå¤§çš„è¿‡æ»¤å™¨åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šç†”æ–­ã€é™æµã€é‡è¯•ç­‰ã€‚</p><p>SpringCloud Gateway æ˜¯ Spring cloud çš„ä¸€ä¸ªå…¨æ–°é¡¹ç›®ï¼ŒåŸºäº Spring 5.0+Spring Boot 2.0 å’ŒProject Reactor ç­‰æŠ€æœ¯å¼€å‘çš„ç½‘å…³ï¼Œå®ƒæ—¨åœ¨ä¸ºå¾®æœåŠ¡æ¶æ„æä¾›ä¸€ç§ç®€å•æœ‰æ•ˆçš„ç»Ÿä¸€çš„API è·¯ç”±ç®¡ç†æ–¹å¼ã€‚<br>SpringCloud Gateway ä½œä¸º Spring cloud ç”Ÿæ€ç³»ç»Ÿä¸­çš„ç½‘å…³ï¼Œç›®æ ‡æ˜¯æ›¿ä»£zuulï¼Œåœ¨Spring Cloud 2.0ä»¥ä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œæ²¡æœ‰å¯¹æ–°ç‰ˆæœ¬çš„Zuul 2.0ä»¥ä¸Šæœ€æ–°é«˜æ€§èƒ½ç‰ˆæœ¬è¿›è¡Œé›†æˆï¼Œä»ç„¶è¿˜æ˜¯ä½¿ç”¨çš„Zuul 1.xéReactoræ¨¡å¼çš„è€ç‰ˆæœ¬ã€‚è€Œä¸ºäº†æå‡ç½‘å…³çš„æ€§èƒ½ï¼Œ <b><font color=orange>SpringCloud Gatewayæ˜¯åŸºäºWebFluxæ¡†æ¶å®ç°çš„ï¼Œè€ŒWebFluxæ¡†æ¶åº•å±‚åˆ™ä½¿ç”¨äº†é«˜æ€§èƒ½çš„Reactoræ¨¡å¼é€šä¿¡æ¡†æ¶Nettyã€‚</font></b><br>Spring Cloud Gatewayçš„ç›®æ ‡æä¾›ç»Ÿä¸€çš„è·¯ç”±æ–¹å¼ä¸”åŸºäº Filter é“¾çš„æ–¹å¼æä¾›äº†ç½‘å…³åŸºæœ¬çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šå®‰å…¨ï¼Œç›‘æ§/æŒ‡æ ‡ï¼Œå’Œé™æµã€‚</p><h2 id="ä¸ºä½•-æ”¾å¼ƒ-Zuul"><a href="#ä¸ºä½•-æ”¾å¼ƒ-Zuul" class="headerlink" title="ä¸ºä½• æ”¾å¼ƒ Zuul"></a>ä¸ºä½• <del>æ”¾å¼ƒ Zuul</del></h2><p>ä¸€æ–¹é¢å› ä¸ºZuul1.0å·±ç»è¿›å…¥äº†ç»´æŠ¤é˜¶æ®µï¼Œè€Œä¸”Gatewayæ˜¯SpringCloudå›¢é˜Ÿç ”å‘çš„ï¼Œæ˜¯äº²å„¿å­äº§å“ï¼Œå€¼å¾—ä¿¡èµ–ã€‚<br>è€Œä¸”å¾ˆå¤šåŠŸèƒ½Zuuléƒ½æ²¡æœ‰ç”¨èµ·æ¥ä¹Ÿéå¸¸çš„ç®€å•ä¾¿æ·ã€‚</p><p>Gatewayæ˜¯åŸºäºå¼‚æ­¥éé˜»å¡æ¨¡å‹ä¸Šè¿›è¡Œå¼€å‘çš„ï¼Œæ€§èƒ½æ–¹é¢ä¸éœ€è¦æ‹…å¿ƒã€‚è™½ç„¶ Netflix æ—©å°±å‘å¸ƒäº†æœ€æ–°çš„Zuul 2.xï¼Œä½† SpringCloud è²Œä¼¼æ²¡æœ‰æ•´åˆè®¡åˆ’ã€‚è€Œä¸”Netflixç›¸å…³ç»„ä»¶éƒ½å®£å¸ƒè¿›å…¥ç»´æŠ¤æœŸï¼›ä¸çŸ¥å‰æ™¯å¦‚ä½•ï¼Ÿ</p><p>å¤šæ–¹é¢ç»¼åˆè€ƒè™‘Gatewayæ˜¯å¾ˆç†æƒ³çš„ç½‘å…³é€‰æ‹©ã€‚</p><h2 id="SpringGateway-çš„ç‰¹æ€§"><a href="#SpringGateway-çš„ç‰¹æ€§" class="headerlink" title="SpringGateway çš„ç‰¹æ€§"></a>SpringGateway çš„ç‰¹æ€§</h2><p><font color=Orange><b>åŸºäºSpring Framework 5, Project Reactor å’Œ Spring Boot 2.0 è¿›è¡Œæ„å»ºï¼›</b></font><br>åŠ¨æ€è·¯ç”±ï¼šèƒ½å¤ŸåŒ¹é…ä»»ä½•è¯·æ±‚å±æ€§ï¼›<br>å¯ä»¥å¯¹è·¯ç”±æŒ‡å®š Predicateï¼ˆæ–­è¨€ï¼‰å’ŒFilter(è¿‡æ»¤å™¨ï¼‰ï¼›<br>é›†æˆHystrixçš„æ–­è·¯å™¨åŠŸèƒ½ï¼›<br>é›†æˆ Spring Cloud æœåŠ¡å‘ç°åŠŸèƒ½ï¼›<br>æ˜“äºç¼–å†™çš„ Predicateï¼ˆæ–­è¨€ï¼‰å’ŒFilterï¼ˆè¿‡æ»¤å™¨ï¼‰ï¼›<br>è¯·æ±‚é™æµåŠŸèƒ½ï¼›<br>æ”¯æŒè·¯å¾„é‡å†™ã€‚</p><h2 id="Spring-Cloud-Gateway-ä¸-Zulyg"><a href="#Spring-Cloud-Gateway-ä¸-Zulyg" class="headerlink" title="Spring Cloud Gateway ä¸ Zulyg"></a>Spring Cloud Gateway ä¸ Zulyg</h2><p><strong>SpringCloud H.x ç‰ˆæœ¬åŠä¹‹å‰æ¨èä½¿ç”¨ Zuul ç‰ˆæœ¬ï¼ŒF ç‰ˆåŠä¹‹åçš„ç‰ˆæœ¬æ¨è Gatewayã€‚</strong></p><p>1ã€ Zuul 1.xï¼Œæ˜¯ä¸€ä¸ªåŸºäºé˜»å¡ I/O çš„ API Gateway<br>2ã€ Zuul 1.x åŸºäºServlet 2.5ä½¿ç”¨é˜»å¡æ¶æ„å®ƒä¸æ”¯æŒä»»ä½•é•¿è¿æ¥(å¦‚ WebSocket) zuul çš„è®¾è®¡æ¨¡å¼å’ŒNginxè¾ƒåƒï¼Œæ¯æ¬¡1/ã®æ“ä½œéƒ½æ˜¯ä»å·¥ä½œçº¿ç¨‹ä¸­é€‰æ‹©ä¸ªæ‰§è¡Œï¼Œè¯·æ±‚çº¿ç¨‹è¢«é˜³å¡åˆ°å·¥ä½œçº¿ç¨‹å®Œæˆï¼Œä½†æ˜¯å·®åˆ«æ˜¯Nginx ç”¨C+ï¼‹å®ç°ï¼ŒZuul ç”¨ Java å®ç°ï¼Œè€ŒJVM æœ¬èº«ä¼šæœ‰ç¬¬ä¸€æ¬¡åŠ è½½è¾ƒæ…¢çš„æƒ…å†µï¼Œä½¿å¾—Zuul çš„æ€§èƒ½ç›¸å¯¹è¾ƒå·®ã€‚<br>3ã€zuul 2.x ç†å¿µæ›´å…ˆè¿›ï¼Œæƒ³åŸºäºNettyéé˜»å¡å’Œæ”¯æŒé•¿è¿æ¥ï¼Œä½†SpringCloudç›®å‰è¿˜æ²¡æœ‰æ•´åˆã€‚zuul 2.xçš„æ€§èƒ½è¾ƒzuul 1.x æœ‰è¾ƒå¤§æå‡ï¼Œåœ¨æ€§èƒ½æ–¹é¢ï¼Œæ ¹æ®å®˜æ–¹æä¾›çš„åŸºå‡†æµ‹è¯•ï¼Œ Spring Cloud Gateway çš„RPSï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰æ˜¯Zuul çš„1.6å€ã€‚<br>4ã€ Spring Cloud Gateway å»ºç«‹ åœ¨ Spring Framework 5ã€ Projectã€Reactor å’Œ Spring Boot 2 ä¹‹ä¸Šï¼Œä½¿ç”¨éé˜»å¡ APlã€‚<br>5ã€Spring Cloud Gateway è¿˜æ”¯æŒ Websocketï¼Œå¹¶æ—¥ä¸Springç´§å¯†é›†æˆæ‹¥æœ‰æ›´å¥½çš„å¼€å‘ä½“éªŒã€‚</p>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IDEA | application.yml è¯†åˆ«ä¸åˆ°</title>
    <link href="/2022/07/22/2022-07-22-IDEA--application.yml-%E8%AF%86%E5%88%AB%E4%B8%8D%E5%88%B0/"/>
    <url>/2022/07/22/2022-07-22-IDEA--application.yml-%E8%AF%86%E5%88%AB%E4%B8%8D%E5%88%B0/</url>
    
    <content type="html"><![CDATA[<p>Project Structure â†’ Module â†’ é¡¹ç›®ç›®å½• â†’ å³é”® â†’ Spring â†’ â• â†’ â• â†’ Other files â†’ æ‰¾åˆ°è¯¥ application.yml æ–‡ä»¶</p>]]></content>
    
    
    <categories>
      
      <category>IDEA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>IDEA</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeeCode | 03 | æ— é‡å¤å­—ç¬¦ä¸²</title>
    <link href="/2022/07/20/LeeCode/LeeCode%20%7C%2003%20%7C%20%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <url>/2022/07/20/LeeCode/LeeCode%20%7C%2003%20%7C%20%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    
    <content type="html"><![CDATA[<p><br><br></p><div style="text-align:center"><img style="z-index:2;width:200px;border-radius:20px;border:1px solid black;box-shadow:0 0 20px darkgray;" src="https://files.catbox.moe/srel0u.png"/></div><br><br><br><br><br><br><h2 id="LeeCode-03-æ— é‡å¤å­—ç¬¦ä¸²"><a href="#LeeCode-03-æ— é‡å¤å­—ç¬¦ä¸²" class="headerlink" title="LeeCode | 03 | æ— é‡å¤å­—ç¬¦ä¸²"></a>LeeCode | 03 | æ— é‡å¤å­—ç¬¦ä¸²</h2><table><thead><tr><th>æ–¹æ³•</th><th>éš¾åº¦</th></tr></thead><tbody><tr><td>éš¾åº¦</td><td><font color=orange><b>ä¸­ç­‰</b></font></td></tr><tr><td>æ—¶é—´å¤æ‚åº¦</td><td><em>O</em>(<em>n</em>)</td></tr><tr><td>æ–¹æ³•</td><td>æ»‘åŠ¨çª—å£</td></tr></tbody></table><br><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ <strong>æœ€é•¿å­ä¸²</strong> çš„é•¿åº¦ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">è¾“å…¥: s &#x3D; &quot;abcabcbb&quot;è¾“å‡º: 3 è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p><strong>ç¤ºä¾‹ 2:</strong></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">è¾“å…¥: s &#x3D; &quot;bbbbb&quot;è¾“å‡º: 1è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;b&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p><strong>ç¤ºä¾‹ 3:</strong></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">è¾“å…¥: s &#x3D; &quot;pwwkew&quot;è¾“å‡º: 3è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;wke&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ&quot;pwke&quot; æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">lengthOfLongestSubstring</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                left <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            max <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>max<span class="token punctuation">,</span>i<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> max<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><br><h4 id="ç›¸å…³å‡½æ•°"><a href="#ç›¸å…³å‡½æ•°" class="headerlink" title="ç›¸å…³å‡½æ•°"></a>ç›¸å…³å‡½æ•°</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// å¾—åˆ°å­—ç¬¦ä¸²åœ¨ä½ç½® x çš„ char</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// HashMap ä¸­æ˜¯å¦å«æœ‰ Key</span><span class="token class-name">HashMap</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token class-name">Key</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><h4 id="ä»£ç é˜…è¯»"><a href="#ä»£ç é˜…è¯»" class="headerlink" title="ä»£ç é˜…è¯»"></a>ä»£ç é˜…è¯»</h4><p><strong>æ ¸å¿ƒ</strong>ï¼šåªç»å†äº†ä¸€æ¬¡å¾ªç¯</p><blockquote><p>å…¶å®å°±æ˜¯ä¸€ä¸ªé˜Ÿåˆ—,æ¯”å¦‚ä¾‹é¢˜ä¸­çš„ abcabcbbï¼Œè¿›å…¥è¿™ä¸ªé˜Ÿåˆ—ï¼ˆçª—å£ï¼‰ä¸º abc æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œå½“å†è¿›å…¥ aï¼Œé˜Ÿåˆ—å˜æˆäº† abcaï¼Œè¿™æ—¶å€™ä¸æ»¡è¶³è¦æ±‚ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ç§»åŠ¨è¿™ä¸ªé˜Ÿåˆ—ï¼</p><p>å¦‚ä½•ç§»åŠ¨ï¼Ÿ</p><p>æˆ‘ä»¬åªè¦æŠŠé˜Ÿåˆ—çš„å·¦è¾¹çš„å…ƒç´ ç§»å‡ºå°±è¡Œäº†ï¼Œç›´åˆ°æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼</p><p>ä¸€ç›´ç»´æŒè¿™æ ·çš„é˜Ÿåˆ—ï¼Œæ‰¾å‡ºé˜Ÿåˆ—å‡ºç°æœ€é•¿çš„é•¿åº¦æ—¶å€™ï¼Œæ±‚å‡ºè§£ï¼</p></blockquote><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><blockquote><p> <strong>å­—ç¬¦ä¸²</strong>ï¼š<code>asdibdga</code>ï¼›</p><p>è¿›å…¥å¾ªç¯ï¼Œç›®å‰ left æ˜¯ 0ï¼Œmax æ˜¯ 0ï¼›</p><p>å¾ªç¯åˆ°<code>asdib</code>æ²¡æœ‰å‡ºç°é‡å¤ï¼Œä»¥ä¸Šå­—ç¬¦éƒ½è¢«æ”¾åˆ° HashMap ä¸­ï¼Œç›®å‰ <code>max</code>=5ï¼Œ<code>i </code>= 4ï¼Œ<code>i-left+1</code>=5ï¼Œå› æ­¤<code>max</code> = Math.max(5,5)ï¼›</p><p>éå†åˆ° <code>d</code> çš„æ—¶å€™ï¼Œå‡ºç°äº†ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œè¿™é‡Œä¼šå–ä¸€ä¸ªæœ€å¤§å€¼ï¼Œæ˜¯åœ¨ <code>left</code> å’Œç¬¬ä¸€æ¬¡å‡ºç° <code>d</code> çš„ä½ç½®å–æœ€å¤§å€¼ï¼Œå¾ˆæ˜æ˜¾ï¼Œå‡ºç° <code>d</code> çš„ä½ç½®æ›´å¤§ï¼Œå› æ­¤ <code>left</code> å˜æˆäº†3ï¼›è€Œåœ¨ HashMap ä¸­çš„<code>d</code>çš„ä½ç½®å˜æˆäº† 5</p><p>ç›®å‰æœ€å¤§å€¼æ˜¯ 5ï¼Œ<code>left</code> æ˜¯ 3ï¼›</p><p>ç»§ç»­éå†ï¼Œ<code>g</code> ä¸å­˜åœ¨ï¼Œè·³è¿‡ <code>if</code>ï¼Œå°† <code>g</code> æ”¾åˆ°ï¼›</p><p>é‡åˆ° <code>a</code>ï¼Œå‘ç° <code>a</code> å­˜åœ¨ï¼Œå› æ­¤æ‰§è¡Œ<code>if</code>ä¸‹çš„ä»£ç ï¼š</p><ul><li>å–å½“å‰çš„ <code>left</code> ä¸ <code>a</code> çš„ä½ç½®ä½œå¯¹æ¯”ï¼Œå‘ç° <code>left</code> æ›´å¤§ï¼Œå› æ­¤å» <code>left</code>=3ï¼Œè€Œ <code>a</code> çš„ä½ç½®æ˜¯ 1ï¼Œå› æ­¤ <code>left</code>=3</li></ul><p><code>a</code> çš„ä½ç½®æ›´æ–°ä¸º 7</p><p>å¯¹ <code>max</code>=5 å’Œ 7-3+1=5 å–æœ€å¤§å€¼ï¼Œ<code>max</code> ä¾æ—§æ˜¯ 5</p><p>âˆ´ return 5</p></blockquote><blockquote><p><strong>å­—ç¬¦ä¸²</strong>ï¼š <code>bcdaghjalk</code></p><p>è¿›å…¥å¾ªç¯ï¼Œå¾ªç¯åˆ° <code>j</code>ï¼Œé•¿åº¦ä¸º 7ï¼Œleft=0</p><p>é‡åˆ° <code>a</code>ï¼Œleft=Math.max(0,4)=4</p><p>è¿™æ—¶å€™<code>a</code>çš„ä½ç½®æ›´æ–°åˆ° 7ï¼Œä¹Ÿå°±æ˜¯èˆå¼ƒäº†å·¦ä¾§ <code>bcd</code>ï¼Œçª—å£å˜æˆäº†<code>ghja</code>ï¼Œæ­¤æ—¶ max æ˜¯ 8ï¼Œ[a,a) ä¹‹é—´çš„è·ç¦»æ˜¯4&lt;8ï¼Œä¸å–ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>LeeCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>åˆ·é¢˜</tag>
      
      <tag>LeeCode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµ‹è¯• | JMeter | é«˜å¹¶å‘æµ‹è¯•å·¥å…·</title>
    <link href="/2022/07/20/%E6%B5%8B%E8%AF%95%20%7C%20JMeter%20%7C%20%E9%AB%98%E5%B9%B6%E5%8F%91%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/"/>
    <url>/2022/07/20/%E6%B5%8B%E8%AF%95%20%7C%20JMeter%20%7C%20%E9%AB%98%E5%B9%B6%E5%8F%91%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/</url>
    
    <content type="html"><![CDATA[<h1 id="JMeter-é«˜å¹¶å‘æµ‹è¯•"><a href="#JMeter-é«˜å¹¶å‘æµ‹è¯•" class="headerlink" title="JMeter é«˜å¹¶å‘æµ‹è¯•"></a>JMeter é«˜å¹¶å‘æµ‹è¯•</h1><div style="text-align:center;border:1px solid darkgray;padding:10px;border-radius:15px">  <img  style="width:230px;border-radius:15px" src="https://files.catbox.moe/74qnts.png"/></div><br><div style="border:1px solid darkgray;width:100%;height:85px;background:#eef7fa;border-radius:15px;text-align:center;padding:22px 0px;"><div><a href="https://jmeter.apache.org/" style="font-size:24px;margin-right:15px"><b>å®˜ç½‘</b></a></div></div><br><div style="text-align:center;border:1px solid darkgray;padding:10px;border-radius:15px">  <img  style="width:85%x;border-radius:15px" src="https://files.catbox.moe/jw2wqy.png"/></div>]]></content>
    
    
    <categories>
      
      <category>æµ‹è¯•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é«˜å¹¶å‘</tag>
      
      <tag>æµ‹è¯•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æœåŠ¡é™çº§ | Hystrix</title>
    <link href="/2022/07/20/SpringCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%20%7C%20Hystrix/"/>
    <url>/2022/07/20/SpringCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%20%7C%20Hystrix/</url>
    
    <content type="html"><![CDATA[<div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/5pf4tu.png"/></div><p>[TOC]</p><div style="text-align:center;border:1px solid darkgray;padding:10px;border-radius:15px">  <img  style="width:230px;border-radius:15px" src="https://files.catbox.moe/0hcf7z.png"/></div><br><div style="width:100%;height:85px;background:#ffb0d2;border-radius:15px;text-align:center;padding:22px 0px;"><div><img style="width:25px;border-radius:5px;margin:0 10px  9px 30px" src="https://files.catbox.moe/2u957r.png"/><a href="https://github.com/Netflix/Hystrix" style="font-size:24px;margin-right:15px"><b>GitHub ï¼ˆå·²åœæ­¢è¿ç»´ï¼‰</b></a></div></div><blockquote><ul><li>è¿è¡Œ</li><li>è¶…æ—¶</li><li>å®•æœº</li></ul></blockquote><br><br><h2 id="How-Does-it-workï¼Ÿ"><a href="#How-Does-it-workï¼Ÿ" class="headerlink" title="How Does it workï¼Ÿ"></a>How Does it workï¼Ÿ</h2><br><div style="text-align:center"><img style="width:90%;border:1px solid darkgray;padding:15px;border-radius:15px" src="https://files.catbox.moe/woi3j5.png"></div><br><ol><li>é€‰æ‹©<code>construct a HystrixCommand</code>æˆ–è€…<code>HystrixObservableCommand</code></li><li>é€‰æ‹©æ–¹æ³•</li><li>åˆ¤æ–­ç¼“å­˜ä¸­æ˜¯å¦æœ‰<ol><li><font color=red><strong>æ˜¯</strong></font>ï¼šè¿”å›ç¼“å­˜ç»“æœ</li><li><font color=green><strong>å¦</strong></font>ï¼šå‘ä¸‹æ‰§è¡Œ</li></ol></li><li>æ–­è·¯å™¨æ˜¯å¦æ‰“å¼€<ol><li><font color=red><strong>æ˜¯</strong></font>ï¼šæœåŠ¡é™çº§ FallBack</li><li><font color=green><strong>å¦</strong></font>ï¼šå‘ä¸‹æ‰§è¡Œ</li></ol></li><li>åˆ¤æ–­çº¿ç¨‹æ± æ˜¯å¦æ»¡äº†ï¼Ÿ<ol><li><font color=red><strong>æ˜¯</strong></font>ï¼šæœåŠ¡é™çº§ FallBack</li><li><font color=green><strong>å¦</strong></font>ï¼šå‘ä¸‹æ‰§è¡Œ</li></ol></li><li><code>construct()</code> <strong>OR</strong> <code>run()</code></li><li>æ˜¯å¦<strong>å¤±è´¥</strong>æˆ–è€…<strong>è¶…æ—¶</strong>ï¼Ÿ<ol><li><font color=red><strong>æ˜¯</strong></font>ï¼šæœåŠ¡é™çº§ FallBackï¼Œå¹¶æŠ¥å‘Šç»™æ–­è·¯å™¨</li><li><font color=green><strong>å¦</strong></font>ï¼š<font color=Green>æ­£å¸¸æ‰§è¡Œ</font>ï¼Œå¹¶æŠ¥å‘Šç»™æ–­è·¯å™¨</li></ol></li></ol><br><h2 id="é‡ç‚¹"><a href="#é‡ç‚¹" class="headerlink" title="é‡ç‚¹"></a>é‡ç‚¹</h2><blockquote><p><strong>1-1 æ–¹æ³•</strong></p><p>@HystrixCommand(fallbackMethod=â€paymentInfo_TImeOutHandlerâ€,commandProperties={@HystrixProperty(name=â€execution.isolation.thread.timeoutInMillisecondsâ€,value=â€3000â€)})</p><p><strong>1-N æ–¹æ³•</strong></p><p>@DefaultProperties(defaultFallback=â€payment_Global_FallbackMethodâ€)</p><p><strong>N-N</strong></p><p>æ–°å»ºä¸€ä¸ªç±»ï¼Œå®ç° @FeignClient ä¸‹çš„ PaymentHystrixService æ¥å£</p><p>@FeignClient(value = â€œCLOUD-PROVIDER-HYSTRIX-PAYMENTâ€,fallback=â€PaymentFallbackService.classâ€)</p><p>public class PaymentFallbackService implements PaymentHystrixService</p></blockquote><blockquote><p>@EnableCircuitBreaker</p></blockquote><h2 id="ç›¸å…³æ¦‚å¿µ"><a href="#ç›¸å…³æ¦‚å¿µ" class="headerlink" title="ç›¸å…³æ¦‚å¿µ"></a>ç›¸å…³æ¦‚å¿µ</h2><br><hr><p><b><font color=#2b61a7 size=4>æœåŠ¡é™çº§</font></b></p><p>æœåŠ¡é™çº§ä¸€èˆ¬æ˜¯æŒ‡åœ¨æœåŠ¡å™¨å‹åŠ›å‰§å¢çš„æ—¶å€™ï¼Œæ ¹æ®å®é™…ä¸šåŠ¡ä½¿ç”¨æƒ…å†µä»¥åŠæµé‡ï¼Œå¯¹ä¸€äº›æœåŠ¡å’Œé¡µé¢æœ‰ç­–ç•¥çš„ä¸å¤„ç†æˆ–è€…ç”¨ä¸€ç§ç®€å•çš„æ–¹å¼è¿›è¡Œå¤„ç†ï¼Œä»è€Œé‡Šæ”¾æœåŠ¡å™¨èµ„æºçš„èµ„æºä»¥ä¿è¯æ ¸å¿ƒä¸šåŠ¡çš„æ­£å¸¸é«˜æ•ˆè¿è¡Œã€‚</p><br><hr><p><b><font color=#2b61a7 size=4>æœåŠ¡ç†”æ–­</font></b></p><p>ç†”æ–­æœºåˆ¶æ˜¯åº”å¯¹é›ªå´©æ•ˆåº”çš„ä¸€ç§å¾®æœåŠ¡é“¾è·¯ä¿æŠ¤æœºåˆ¶ã€‚å½“æ‰‡å‡ºé“¾è·¯çš„æŸä¸ªå¾®æœåŠ¡å‡ºé”™ä¸å¯ç”¨æˆ–è€…å“åº”æ—¶é—´å¤ªé•¿æ—¶ï¼Œä¼šè¿›è¡ŒæœåŠ¡çš„é™çº§ï¼Œè¿›è€Œç†”æ–­è¯¥èŠ‚ç‚¹å¾®æœåŠ¡çš„è°ƒç”¨ï¼Œå¿«é€Ÿè¿”å›é”™è¯¯çš„å“åº”ä¿¡æ¯ã€‚<br><font color=darkgr><b>å½“æ£€æµ‹åˆ°è¯¥èŠ‚ç‚¹å¾®æœåŠ¡è°ƒç”¨å“åº”æ­£å¸¸åï¼Œæ¢å¤è°ƒç”¨é“¾è·¯ã€‚</b></font></p><p>åœ¨Spring Cloudæ¡†æ¶é‡Œï¼Œç†”æ–­æœºåˆ¶é€šè¿‡Hystrixå®ç°ã€‚</p><p>Hystrixä¼šç›‘æ§å¾®æœåŠ¡é—´è°ƒç”¨çš„çŠ¶å†µï¼Œå½“å¤±è´¥çš„è°ƒç”¨åˆ°ä¸€å®šé˜ˆå€¼ï¼Œç¼ºçœæ˜¯5ç§’å†…20æ¬¡è°ƒç”¨å¤±è´¥ï¼Œå°±ä¼šå¯åŠ¨ç†”æ–­æœºåˆ¶ã€‚ç†”æ–­æœºåˆ¶çš„æ³¨è§£æ˜¯@HystrixCommand</p><p>æœåŠ¡é™çº§ â‡¨ è¿›è¡Œç†”æ–­ â‡¨ å›å¤è°ƒç”¨é“¾è·¯</p><br><hr><p><b><font color=#2b61a7 size=4>æœåŠ¡é›ªå´©</font></b><br>å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´è°ƒç”¨çš„æ—¶å€™ï¼Œå‡è®¾å¾®æœåŠ¡Aè°ƒç”¨å¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cï¼Œå¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cåˆè°ƒç”¨å…¶å®ƒçš„å¾®æœåŠ¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ <font color=red>â€œæ‰‡å‡ºâ€</font>ã€‚å¦‚æœæ‰‡å‡ºçš„é“¾è·¯ä¸ŠæŸä¸ªå¾®æœåŠ¡çš„è°ƒç”¨å“åº”æ—¶é—´è¿‡é•¿æˆ–è€…ä¸å¯ç”¨ï¼Œå¯¹å¾®æœåŠ¡Açš„è°ƒç”¨å°±ä¼šå ç”¨è¶Šæ¥è¶Šå¤šçš„ç³»ç»Ÿèµ„æºï¼Œè¿›è€Œå¼•èµ·ç³»ç»Ÿå´©æºƒï¼Œæ‰€è°“çš„ â€œé›ªå´©æ•ˆåº”â€ã€‚</p><p>å¯¹äºé«˜æµé‡çš„åº”ç”¨æ¥è¯´ï¼Œå•ä¸€çš„åç«¯ä¾èµ–å¯èƒ½ä¼šå¯¼è‡´æ‰€æœ‰æœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰èµ„æºéƒ½åœ¨å‡ ç§’é’Ÿå†…é¥±å’Œã€‚æ¯”å¤±è´¥æ›´ç³Ÿç³•çš„æ˜¯ï¼Œè¿™äº›åº”ç”¨ç¨‹åºè¿˜å¯èƒ½å¯¼è‡´æœåŠ¡ä¹‹é—®çš„å»¶è¿Ÿå¢åŠ ï¼Œå¤‡ä»½é˜Ÿåˆ—ï¼Œçº¿ç¨‹å’Œå…¶ä»–ç³»ç»Ÿèµ„æºç´§å¼ ï¼Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå‘ç”Ÿæ›´å¤šçš„çº§è”æ•…éšœã€‚è¿™äº›éƒ½è¡¨ç¤ºéœ€è¦å¯¹æ•…éšœå’Œå»¶è¿Ÿè¿›è¡Œéš”ç¦»å’Œç®¡ç†ï¼Œä»¥ä¾¿å•ä¸ªä¾èµ–å…³ç³»çš„å¤±è´¥ï¼Œä¸èƒ½å–æ¶ˆæ•´ä¸ªåº”ç”¨ç¨‹åºæˆ–ç³»ç»Ÿã€‚</p><p>æ‰€ä»¥ï¼Œé€šå¸¸å½“ä½ å‘ç°ä¸€ä¸ªæ¨¡å—ä¸‹çš„æŸä¸ªå®ä¾‹å¤±è´¥åï¼Œè¿™æ—¶å€™è¿™ä¸ªæ¨¡å—ä¾ç„¶è¿˜ä¼šæ¥æ”¶æµé‡ï¼Œç„¶åè¿™ä¸ªæœ‰é—®é¢˜çš„æ¨¡å—è¿˜è°ƒç”¨äº†å…¶ä»–çš„æ¨¡å—ï¼Œè¿™æ ·å°±ä¼šå‘ç”Ÿçº§è”æ•…éšœï¼Œæˆ–è€…å«é›ªå´©ã€‚</p><br><hr><p><b><font color=#2b61a7 size=4>ä»€ä¹ˆæ˜¯ Hystrix</font></b></p><p>Hystrixæ˜¯ä¸€ä¸ªç”¨äºå¤„ç†åˆ†å¸ƒå¼ç³»ç»Ÿçš„<font color=red>å»¶è¿Ÿ</font>å’Œ<font color=red>å®¹é”™</font>çš„å¼€æºåº“ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œï¼Œè®¸å¤šä¾èµ–ä¸å¯é¿å…çš„ä¼šè°ƒç”¨å¤±è´¥ï¼Œæ¯”å¦‚è¶…æ—¶ã€å¼‚å¸¸ç­‰ï¼ŒHystrixèƒ½å¤Ÿä¿è¯åœ¨-ä¸ªä¾èµ–å‡ºé—®é¢˜çš„æƒ…å†µä¸‹ï¼Œ<font color=red>ä¸ä¼šå¯¼è‡´æ•´ä½“æœåŠ¡å¤±è´¥ï¼Œé¿å…çº§è”æ•…éšœï¼Œä»¥æé«˜åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼¹æ€§ã€‚</font></p><p><strong>â€œæ–­è·¯å™¨â€</strong> æœ¬èº«æ˜¯ä¸€ç§å¼€å…³è£…ç½®ï¼Œå½“æŸä¸ªæœåŠ¡å•å…ƒå‘ç”Ÿæ•…éšœä¹‹åï¼Œé€šè¿‡æ–­è·¯å™¨çš„æ•…éšœç›‘æ§(ç±»ä¼¼ç†”æ–­ä¿é™©ä¸ï¼‰ï¼Œ<font color=red>å‘è°ƒç”¨æ–¹è¿”å›ä¸€ä¸ªç¬¦åˆé¢„æœŸçš„ã€å¯å¤„ç†çš„å¤‡é€‰å“åº” <font color=green><strong>ï¼ˆFallBackï¼‰</strong></font>ï¼Œè€Œä¸æ˜¯é•¿æ—¶é—´çš„ç­‰å¾…æˆ–è€…æŠ›å‡ºè°ƒç”¨æ–¹æ— æ³•å¤„ç†çš„å¼‚å¸¸ï¼Œ</font>è¿™æ ·å°±ä¿è¯äº†æœåŠ¡è°ƒç”¨æ–¹çš„çº¿ç¨‹ä¸ä¼šè¢«é•¿æ—¶é—´ã€ä¸å¿…è¦åœ°å ç”¨ï¼Œä»è€Œé¿å…äº†æ•…éšœåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è”“å»¶ï¼Œä¹ƒè‡³é›ªå´©ã€‚</p><br><br><br><h2 id="èƒ½å¹²å˜›ï¼Ÿ"><a href="#èƒ½å¹²å˜›ï¼Ÿ" class="headerlink" title="èƒ½å¹²å˜›ï¼Ÿ"></a>èƒ½å¹²å˜›ï¼Ÿ</h2><ol><li>æœåŠ¡é™çº§</li><li>æœåŠ¡ç†”æ–­</li><li>æ¥è¿‘å®æ—¶çš„ç›‘æ§</li></ol><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CommandHelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">HystrixCommand</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">CommandHelloWorld</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token class-name">HystrixCommandGroupKey<span class="token punctuation">.</span>Factory</span><span class="token punctuation">.</span><span class="token function">asKey</span><span class="token punctuation">(</span><span class="token string">"ExampleGroup"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token class-name">String</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Hello "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"!"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><br><h2 id="å°è¯•-ç›¸å…³é…ç½®åŠä»£ç "><a href="#å°è¯•-ç›¸å…³é…ç½®åŠä»£ç " class="headerlink" title="å°è¯• | ç›¸å…³é…ç½®åŠä»£ç "></a>å°è¯• | ç›¸å…³é…ç½®åŠä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>x.y.z<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token comment"># application.yml</span><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">1234</span><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> xxx<span class="token key atrule">eureka</span><span class="token punctuation">:</span><span class="token key atrule">client</span><span class="token punctuation">:</span><span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token key atrule">service-url</span><span class="token punctuation">:</span><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ä¸»å¯åŠ¨ com.xxx.springcloud.PaymentHystrixMain</span><span class="token annotation punctuation">@ApringBootApplicatioin</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentHystrixMain</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentHystrixMain</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentService</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"çº¿ç¨‹æ± ï¼š\t "</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"paymentIngo_OK,id\t"</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">"\tO(âˆ©_âˆ©)Oå“ˆå“ˆ~"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_Timeout</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">try</span><span class="token punctuation">&#123;</span>      <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token function">cathc</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token string">"çº¿ç¨‹æ± ï¼š\t "</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"paymentIngo_OK,id\t"</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">"\tO(âˆ©_âˆ©)Oå“ˆå“ˆ~\tè€—æ—¶ä¸‰ç§’é’Ÿ"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Resource</span>  <span class="token keyword">private</span> <span class="token class-name">PaymentService</span> paymentService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payment_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"result:"</span><span class="token operator">+</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payment_Tiemout</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">paymentInfo_Timeout</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"result:"</span><span class="token operator">+</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=red><b>ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªç‚¹å‡»åå°±ä¼šå“åº”ï¼Œä¸€ä¸ªéœ€è¦ç­‰å¾…ä¸‰ç§’åæ‰ä¼šå“åº”ã€‚</b></font>å½“timeout çš„è¯·æ±‚è¿‡å¤šæ—¶ï¼Œå®¹æ˜“é€ æˆ tomcat é˜»å¡ï¼Œä»è€Œå¯¼è‡´æ— æ³•è¯·æ±‚ã€‚</p><br><br><br><h2 id="ğŸ€-æœåŠ¡é™çº§-è¶…æ—¶-ğŸ¢-å®•æœº-â˜ ï¸-å"><a href="#ğŸ€-æœåŠ¡é™çº§-è¶…æ—¶-ğŸ¢-å®•æœº-â˜ ï¸-å" class="headerlink" title="ğŸ€ æœåŠ¡é™çº§ | è¶…æ—¶ ğŸ¢ å®•æœº â˜ ï¸ å"></a>ğŸ€ æœåŠ¡é™çº§ | è¶…æ—¶ ğŸ¢ <del>å®•æœº</del> â˜ ï¸ å</h2><p><strong>é…ç½®æ›¿ä»£ç¼–ç </strong><font color=orange><strong>ï¼ˆæœ‰ 1-1 åˆ™ä¼˜å…ˆ 1-1 å¦åˆ™ 1-Nï¼‰</strong></font></p><h3 id="1-1-ä¸“å±æ›¿æ¢"><a href="#1-1-ä¸“å±æ›¿æ¢" class="headerlink" title="1-1 | ä¸“å±æ›¿æ¢"></a>1-1 | ä¸“å±æ›¿æ¢</h3><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentService</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod<span class="token operator">=</span><span class="token string">"paymentInfo_TImeOutHandler"</span><span class="token punctuation">,</span>commandProperties<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"execution.isolation.thread.timeoutInMilliseconds"</span><span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token string">"3000"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_Timeout</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">try</span><span class="token punctuation">&#123;</span>      <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token function">cathc</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> <span class="token string">"çº¿ç¨‹æ± ï¼š\t "</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"paymentIngo_OK,id\t"</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">"\tO(âˆ©_âˆ©)Oå“ˆå“ˆ~\tè€—æ—¶ä¸‰ç§’é’Ÿ"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOutHandler</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"çº¿ç¨‹æ± ï¼š\t "</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"paymentIngo_OK,id\t"</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">"\to(â•¥ï¹â•¥)o å‘œå‘œ~"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>è®¾ç½®è‡ªèº«è°ƒç”¨è¶…æ—¶æ—¶é—´çš„å³°å€¼ï¼Œå³°å€¼å†…å¯ä»¥æ­£å¸¸è¿è¡Œã€‚<br>è¶…è¿‡äº†éœ€è¦æœ‰å…œåº•çš„æ–¹æ³•å¤„ç†ï¼Œä½œæœåŠ¡é™çº§ï¼ˆFallbackï¼‰ã€‚</p><h3 id="1-N-å…¨å±€æ›¿æ¢"><a href="#1-N-å…¨å±€æ›¿æ¢" class="headerlink" title="1-N | å…¨å±€æ›¿æ¢"></a>1-N | å…¨å±€æ›¿æ¢</h3><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@DefaultProperties</span><span class="token punctuation">(</span>defaultFallback<span class="token operator">=</span><span class="token string">"payment_Global_FallbackMethod"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> ABC<span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token annotation punctuation">@HystrixCommand</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Pathvariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> a<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">"Success"</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payment_Global_FallbackMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token string">"Globalå¼‚å¸¸!"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="N-Nï¼ˆå„è‡ªå¯¹åº”ï¼‰"><a href="#N-Nï¼ˆå„è‡ªå¯¹åº”ï¼‰" class="headerlink" title="N-Nï¼ˆå„è‡ªå¯¹åº”ï¼‰"></a>N-Nï¼ˆå„è‡ªå¯¹åº”ï¼‰</h3><blockquote><p>æ–°å»ºä¸€ä¸ªç±»ï¼Œå®ç° @FeignClient ä¸‹çš„ PaymentHystrixService æ¥å£</p><p>@FeignClient(value = â€œCLOUD-PROVIDER-HYSTRIX-PAYMENTâ€,fallback=â€PaymentFallbackService.classâ€)</p><p>public class PaymentFallbackService implements PaymentHystrixService</p></blockquote><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"CLOUD-PROVIDER-HYSTRIX-PAYMENT"</span><span class="token punctuation">,</span>fallback<span class="token operator">=</span><span class="token string">"PaymentFallbackService.class"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentHystrixService</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_Timeout</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentFallbackService</span> <span class="token keyword">implements</span> <span class="token class-name">PaymentHystrixService</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_Timeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><blockquote><p>è¿™æ ·å†™çš„è¯ï¼Œå½“å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ç±»æ–¹æ³•ä¸­çš„æ–¹æ³•</p></blockquote><br><br><br><h2 id="ğŸ€-æœåŠ¡ç†”æ–­-æ¢å¤è°ƒç”¨é“¾è·¯"><a href="#ğŸ€-æœåŠ¡ç†”æ–­-æ¢å¤è°ƒç”¨é“¾è·¯" class="headerlink" title="ğŸ€ æœåŠ¡ç†”æ–­ | æ¢å¤è°ƒç”¨é“¾è·¯"></a>ğŸ€ æœåŠ¡ç†”æ–­ | æ¢å¤è°ƒç”¨é“¾è·¯</h2><h4 id="æ–­è·¯å™¨è§¦å‘æ¡ä»¶"><a href="#æ–­è·¯å™¨è§¦å‘æ¡ä»¶" class="headerlink" title="æ–­è·¯å™¨è§¦å‘æ¡ä»¶"></a><b><font color=#2b61a7 size=4>æ–­è·¯å™¨è§¦å‘æ¡ä»¶</font></b></h4><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>@HystrixProperty(name = â€œcircuitBreaker.enabledâ€, value = â€œtrueâ€),</td><td>æ˜¯å¦å¼€å¯æ–­è·¯å™¨</td></tr><tr><td>@HystrixProperty(name = â€œcircuitBreaker.requestVolumeThresholdâ€, value = â€œ10â€),</td><td>è¯·æ±‚æ¬¡æ•°</td></tr><tr><td>@HystrixProperty(name = â€œcircuitBreaker.sleepWindowInMillisecondsâ€, value = â€œ10000â€),</td><td>æ—¶é—´çª—å£æœŸ</td></tr><tr><td>@HystrixProperty(name = â€œcircuitBreaker.errorThresholdPercentageâ€, value = â€œ60â€),</td><td>å¤±è´¥ç‡è¾¾åˆ°å¤šå°‘åè·³é—¸</td></tr><tr><td>@HystrixProperty(name = â€œexecution.isolation.thread.timeoutInMillisecondsâ€, value = â€œ5000â€)</td><td>è¶…æ—¶å¤„ç†</td></tr></tbody></table><p><font size=4><b>ä¸‰ä¸ªé‡è¦å‚æ•°ï¼š<font color=#2c61a8>å¿«ç…§æ—¶é—´çª—ã€è¯·æ±‚æ€»æ•°é—²å€¼ã€é”™è¯¯ç™¾åˆ†æ¯”é˜€å€¼ã€‚</font></b></font></p><p><font color=orange size=2>é»˜è®¤ 10 ç§’ 20 ä¸ªè¯·æ±‚è¶…è¿‡ 50%</font></p><ol><li>å¿«ç…§æ—¶é—´çª—ï¼šæ–­è·¯å™¨ç¡®å®šæ˜¯å¦æ‰“å¼€éœ€è¦ç»Ÿè®¡ä¸€äº›è¯·æ±‚å’Œé”™è¯¯æ•°æ®ï¼Œè€Œç»Ÿè®¡çš„æ—¶é—´èŒƒå›½å°±æ˜¯å¿«ç…§æ—¶é—´çª—ï¼Œé»˜è®¤ä¸ºæœ€è¿‘çš„10ç§’ã€‚</li><li>è¯·æ±‚æ€»æ•°é˜€å€¼ï¼šåœ¨å¿«ç…§æ—¶é—´çª—å†…ï¼Œå¿…é¡»æ»¡è¶³è¯·æ±‚æ€»æ•°è°ƒå€¼æ‰æœ‰èµ„æ ¼ç†”æ–­ã€‚é»˜è®¤ä¸º20ï¼Œæ„å‘³ç€åœ¨10ç§’å†…ï¼Œå¦‚æœè¯¥hystrixå‘½ä»¤çš„è°ƒç”¨æ¬¡æ•°ä¸è¶³20æ¬¡ï¼Œå³ä½¿æ‰€æœ‰çš„è¯·æ±‚éƒ½è¶…æ—¶æˆ–å…¶ä»–åŸå› å¤±è´¥ï¼Œæ–­è·¯å™¨éƒ½ä¸ä¼šæ‰“å¼€ã€‚</li><li>é”™è¯¯ç™¾åˆ†æ¯”é—²å€¼ï¼šå½“è¯·æ±‚æ€»æ•°åœ¨å¿«ç…§æ—¶é—´çª—å†…è¶…è¿‡äº†é˜€å€¼ï¼Œæ¯”å¦‚å‘ç”Ÿäº†30æ¬¡è°ƒç”¨ï¼Œå¦‚æœåœ¨è¿™30æ¬¡è°ƒç”¨ä¸­ï¼Œæœ‰15æ¬¡å‘ç”Ÿäº†è¶…æ—¶å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯è¶…è¿‡50%çš„é”™è¯¯ç™¾åˆ†æ¯”ï¼Œåœ¨é»˜è®¤è®¾å®š50%è°ƒå€¼æƒ…å†µä¸‹ï¼Œè¿™æ—¶å€™å°±ä¼šå°†æ–­è·¯å™¨æ‰“å¼€ã€‚</li><li><font color=#2c61a8><b>å¼€å¯çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¸ä¼šè½¬å‘ï¼›ä¸€æ®µæ—¶é—´åï¼ˆé»˜è®¤äº”ç§’ï¼‰è¿›å…¥åŠå¼€çŠ¶æ€ï¼ŒåŠå¼€çŠ¶æ€æ—¶ï¼Œä¼šå…ˆè®©ä¸€ä¸ªè¯·æ±‚è¿›è¡Œè½¬å‘ï¼Œå¦‚æœæˆåŠŸï¼Œæ–­è·¯å™¨å…³é—­ï¼Œè‹¥å¤±è´¥åˆ™ç»§ç»­å¼€å¯ã€‚</b></font></li></ol><br><br><div style="text-align:center;border:1px solid lightgray;padding:15px;border-radius:15px">  <img  style="width:50%;border-radius:15px;border:1px solid #f5f7f9" src="https://files.catbox.moe/rpp4e9.png"/></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentCircuitBreakerFallback"</span><span class="token punctuation">,</span> commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">/*æ˜¯å¦å¼€å¯æ–­è·¯å™¨*/</span><span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.requestVolumeThreshold"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// è¯·æ±‚æ¬¡æ•°</span><span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.sleepWindowInMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// æ—¶é—´çª—å£æœŸ</span><span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.errorThresholdPercentage"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"60"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// å¤±è´¥ç‡è¾¾åˆ°å¤šå°‘åè·³é—¸</span><span class="token comment">//@HystrixProperty(name = "execution.isolation.thread.timeoutInMilliseconds", value = "5000")// è¶…æ—¶å¤„ç†</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>id <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"***id ä¸èƒ½è´Ÿæ•°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">// UUID.randomUUID.toString();</span>  <span class="token class-name">String</span> serialNumber <span class="token operator">=</span> <span class="token class-name">IdUtil</span><span class="token punctuation">.</span><span class="token function">simpleUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span><span class="token string">"è°ƒç”¨æˆåŠŸï¼Œæµæ°´å·ï¼š"</span><span class="token operator">+</span>serialNumber<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker_fallback</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token string">"id ä¸èƒ½æ˜¯è´Ÿæ•°ï¼Œè¯·ç¨åå†è¯•(ç¬êˆ êˆç¬)~~ ID:"</span><span class="token operator">+</span>id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><ol><li>å†æœ‰è¯·æ±‚è°ƒç”¨çš„æ—¶å€™ï¼Œå°†ä¸ä¼šè°ƒç”¨ä¸»é€»è¾‘ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨é™çº§fallbacké€šè¿‡æ–­è·¯å™¨ï¼Œå®ç°äº†è‡ªåŠ¨åœ°å‘ç°é”™è¯¯å¹¶å°†é™çº§é€»è¾‘åˆ‡æ¢ä¸ºä¸»é€»è¾‘ï¼Œå‡å°‘å“åº”å»¶è¿Ÿçš„æ•ˆæœã€‚</li><li>åŸæ¥çš„ä¸»é€»è¾‘è¦å¦‚ä½•æ¢å¤å‘¢ï¼Ÿ<br>å¯¹äºè¿™ä¸€é—®é¢˜ï¼Œhystrixä¹Ÿä¸ºæˆ‘ä»¬å®ç°äº†è‡ªåŠ¨æ¢å¤åŠŸèƒ½ã€‚å½“æ–­è·¯å™¨æ‰“å¼€ï¼Œå¯¹ä¸»é€»è¾‘è¿›è¡Œç†”æ–­ä¹‹åï¼Œhystrixä¼šå¯åŠ¨ä¸€ä¸ªä¼‘çœ æ—¶é—´çª—ï¼Œåœ¨è¿™ä¸ªæ—¶é—´çª—å†…ï¼Œé™çº§é€»è¾‘æ˜¯ä¸´æ—¶çš„æˆä¸ºä¸»é€»è¾‘ï¼Œå½“ä¼‘çœ æ—¶é—´çª—åˆ°æœŸï¼Œæ–­è·¯å™¨å°†è¿›å…¥åŠå¼€çŠ¶æ€ï¼Œé‡Šæ”¾ä¸€æ¬¡è¯·æ±‚åˆ°åŸæ¥çš„ä¸»é€»è¾‘ä¸Šï¼Œå¦‚æœæ­¤æ¬¡è¯·æ±‚æ­£å¸¸è¿”å›ï¼Œé‚£ä¹ˆæ–­è·¯å™¨å°†ç»§ç»­é—­åˆï¼Œä¸»é€»è¾‘æ¢å¤ï¼Œå¦‚æœè¿™æ¬¡è¯·æ±‚ä¾ç„¶æœ‰é—®é¢˜ï¼Œæ–­è·¯å™¨ç»§ç»­è¿›å…¥æ‰“å¼€çŠ¶æ€ï¼Œä¼‘çœ æ—¶é—´çª—é‡æ–°è®¡æ—¶ã€‚</li></ol><h2 id="ğŸ“º-Dashboard-ä»ªè¡¨ç›˜æ“ä½œç•Œé¢-ğŸ˜¦"><a href="#ğŸ“º-Dashboard-ä»ªè¡¨ç›˜æ“ä½œç•Œé¢-ğŸ˜¦" class="headerlink" title="ğŸ“º Dashboard | ä»ªè¡¨ç›˜æ“ä½œç•Œé¢ | ğŸ˜¦"></a>ğŸ“º Dashboard | ä»ªè¡¨ç›˜æ“ä½œç•Œé¢ | ğŸ˜¦</h2><p>é™¤äº†éš”ç¦»ä¾èµ–æœåŠ¡çš„è°ƒç”¨ä»¥å¤–ï¼ŒHystrixè¿˜æä¾›äº†<font color=red><b>å‡†å®æ—¶çš„è°ƒç”¨ç›‘æ§ (Hystrix Dashboard)<br></b></font>ï¼ŒHystrixä¼šæŒç»­åœ°è®°å½•æ‰€æœ‰é€šè¿‡Hystrixå‘èµ·çš„è¯·æ±‚çš„æ‰§è¡Œä¿¡æ¯ï¼Œå¹¶ä»¥ç»Ÿè®¡æŠ¥è¡¨å’Œå›¾å½¢çš„å½¢å¼å±•ç¤ºç»™ç”¨æˆ·ï¼ŒåŒ…æ‹¬æ¯ç§’æ‰§è¡Œå¤šå°‘è¯·æ±‚å¤šå°‘æˆåŠŸï¼Œå¤šå°‘å¤±è´¥ç­‰ã€‚Netflixé€šè¿‡hystrix-metrics-event-streamé¡¹ç›®å®ç°äº†å¯¹ä»¥ä¸ŠæŒ‡æ ‡çš„ç›‘æ§ã€‚Spring Cloudä¹Ÿæä¾›äº†Hystrix Dashboardçš„æ•´åˆï¼Œå¯¹ç›‘æ§å†…å®¹è½¬åŒ–æˆå¯è§†åŒ–ç•Œé¢ã€‚</p><h3 id="å¼€å¯-Dashboard"><a href="#å¼€å¯-Dashboard" class="headerlink" title="å¼€å¯ Dashboard"></a>å¼€å¯ Dashboard</h3><h4 id="1-æ–°å»º-Module"><a href="#1-æ–°å»º-Module" class="headerlink" title="1. æ–°å»º Module"></a>1. æ–°å»º Module</h4><h4 id="2-æ·»åŠ -Dependency"><a href="#2-æ·»åŠ -Dependency" class="headerlink" title="2. æ·»åŠ  Dependency"></a>2. æ·»åŠ  Dependency</h4><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- Hystrix Dashboardï¼ˆæ”¾åœ¨ç›‘æ§ç«¯ï¼‰ --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-stater-netflix-hystrix-dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- ç›‘æ§ä¿¡æ¯(æ”¾åœ¨è¢«ç›‘æ§ç«¯) --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="3-application-yml"><a href="#3-application-yml" class="headerlink" title="3. application.yml"></a>3. application.yml</h4><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span><span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h4 id="4-ä¸»å¯åŠ¨ç±»"><a href="#4-ä¸»å¯åŠ¨ç±»" class="headerlink" title="4. ä¸»å¯åŠ¨ç±»"></a>4. ä¸»å¯åŠ¨ç±»</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableHystrixDashboard</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HystrixDashboardMain</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HystrixDashboardMain</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="5-è®¿é—®"><a href="#5-è®¿é—®" class="headerlink" title="5. è®¿é—®"></a>5. è®¿é—®</h4><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">http://localhost:xxx/hystrix<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h4 id="6-æŠ¥é”™"><a href="#6-æŠ¥é”™" class="headerlink" title="6. æŠ¥é”™"></a>6. æŠ¥é”™</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootAppliaction</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token annotation punctuation">@EnableCircuitBreaker</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentHystrixMain8001</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentHystrixMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>      <span class="token comment">/** æ­¤é…ç½®æ˜¯ä¸ºäº†æœåŠ¡ç›‘æ§æœªé…ç½®ï¼Œä¸æœåŠ¡å®¹é”™æœ¬èº«æ— å…³ï¼Œspringcloud å‡çº§åçš„å‘  *Sè€ŒvletRegistrationBean å› ä¸º Springboot çš„é»˜è®¤è·¯å¾„ä¸æ˜¯"/hystrix.stream"  *åªè¦åœ¨è‡ªå·±çš„é¡¹ç›®é‡Œé…ç½®ä¸Š servlet å°±å¯ä»¥äº†  */</span>  <span class="token annotation punctuation">@Bean</span>  <span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">getServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">HystrixMetricsStreamServlet</span> streamServlet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HystrixMetricsStreamServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">ServletRegistrationBean</span> registrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token punctuation">(</span>streamServlet<span class="token punctuation">)</span><span class="token punctuation">;</span>    registrationBean<span class="token punctuation">.</span><span class="token function">setLoadOnStartup</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    registrationBean<span class="token punctuation">.</span><span class="token function">addUrlMappings</span><span class="token punctuation">(</span><span class="token string">"/hystrix.stream"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    registrationBean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"HystriaMetricsStreamServlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> registrationBean<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><h3 id="ğŸ§-å¦‚ä½•çœ‹ï¼Ÿ-7-è‰²-1-åœˆ-1-çº¿"><a href="#ğŸ§-å¦‚ä½•çœ‹ï¼Ÿ-7-è‰²-1-åœˆ-1-çº¿" class="headerlink" title="ğŸ§ å¦‚ä½•çœ‹ï¼Ÿ | 7 è‰² | 1 åœˆ | 1 çº¿"></a>ğŸ§ å¦‚ä½•çœ‹ï¼Ÿ | 7 è‰² | 1 åœˆ | 1 çº¿</h3><div style="text-align:center"><img style="width:70%;border:1px solid gray;border-radius:10px;padding:5px" src="https://files.catbox.moe/2ecbho.png"/></div><div style="text-align:center;background:#061D75;border-radius:10px"><span style="color:#E2E4E7"><h3>7 è‰²</h3></span></div><p><font color=#5a7762><b>æˆåŠŸ |Â Success</b></font></p><p><font color=#3247c5><b>æ–­è·¯ | Short-Circuited</b></font></p><p><font color=#5ebeb5><b>é”™è¯¯è¯·æ±‚ | Bad Request</b></font></p><p><font color=orange><b>è¶…æ—¶ | Timeout</b></font></p><p><font color=purple><b>æ‹’ç» | Rejected</b></font></p><p><font color=red><b>å¤±è´¥ | Failure</b></font></p><p><font color=black><b>é”™è¯¯ | Error</b></font></p><div style="text-align:center;background:#061D75;border-radius:10px"><span style="color:#E2E4E7"><h3>1 åœˆ</h3></span></div><p>å®å¿ƒå›­ï¼šå…±æœ‰ä¸¤ç§å«ä¹‰ã€‚å®ƒé€šè¿‡é¢œè‰²çš„å˜åŒ–ä»£è¡¨äº†å®ä¾‹çš„å¥åº·ç¨‹åº¦ï¼Œå®ƒçš„å¥åº·ç¨‹åº¦åº¦ä» <font color=green><strong>ç»¿è‰²</strong></font> &lt; <font color=#FFD301><strong>é»„è‰²</strong></font> &lt; <font color=orange><strong>æ©™è‰²</strong></font> &lt; <font color=red><strong>çº¢è‰²</strong></font> é€’å‡ã€‚<br>è¯¥å®å¿ƒå›­é™¤äº†é¢œè‰²çš„å˜åŒ–ä¹‹å¤–ï¼Œå®ƒçš„å¤§å°ä¹Ÿä¼šæ ¹æ®å®ä¾‹çš„è¯·æ±‚æµé‡å‘ç”Ÿå˜åŒ–ï¼Œæµé‡è¶Šå¤§è¯¥å®å¿ƒåœ†å°±è¶Šå¤§ã€‚æ‰€ä»¥é€šè¿‡è¯¥å®å¿ƒå›­çš„å±•ç¤ºï¼Œå°±å¯ä»¥åœ¨å¤§é‡çš„å®ä¾‹ä¸­å¿«é€Ÿçš„å‘ç°<font color=red><b>æ•…éšœå®ä¾‹å’Œé«˜å‹åŠ›å®ä¾‹</b></font>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Markdown å¸¸ç”¨è¯­æ³•</title>
    <link href="/2022/07/19/Markdown/"/>
    <url>/2022/07/19/Markdown/</url>
    
    <content type="html"><![CDATA[<p>[TOC]</p><br><div style="width:100%;height:85px;background:#eef7fa;border-radius:10px;text-align:center;padding:22px 0px;"><div><img style="width:25px;border-radius:5px;margin:0 10px  9px 0" src="https://files.catbox.moe/2u957r.png"/><a href="https://github.com/Sakiyary/Markdown-Typora-VSCode-Doc" style="font-size:24px;margin-right:15px"><b>è½¬è½½è‡ª Github</b></a></div></div><br><h1 id="Markdown-Typora-VSCode-è¶…å…¨æ•™ç¨‹-ç»™å¤§ä¸€æ–°ç”Ÿå®‰åˆ©çš„æ–‡æœ¬ç¥å™¨"><a href="#Markdown-Typora-VSCode-è¶…å…¨æ•™ç¨‹-ç»™å¤§ä¸€æ–°ç”Ÿå®‰åˆ©çš„æ–‡æœ¬ç¥å™¨" class="headerlink" title="[Markdown+Typora/VSCode è¶…å…¨æ•™ç¨‹] ç»™å¤§ä¸€æ–°ç”Ÿå®‰åˆ©çš„æ–‡æœ¬ç¥å™¨"></a>[Markdown+Typora/VSCode è¶…å…¨æ•™ç¨‹] ç»™å¤§ä¸€æ–°ç”Ÿå®‰åˆ©çš„æ–‡æœ¬ç¥å™¨</h1><p>Sakiyary 2022/7/16</p><h2 id="ğŸ˜‚-ç®€è¦ä»‹ç»"><a href="#ğŸ˜‚-ç®€è¦ä»‹ç»" class="headerlink" title="ğŸ˜‚ ç®€è¦ä»‹ç»"></a>ğŸ˜‚ ç®€è¦ä»‹ç»</h2><p><strong>Markdown</strong> æ˜¯ä¸€ç§è½»é‡å‹æ ‡è®°è¯­è¨€, æ˜¯ä¸€ç§è¯­æ³•. ä»¥ <code>.md</code> ç»“å°¾çš„æ–‡æœ¬æ–‡ä»¶å°±æ˜¯ Markdown æ–‡ä»¶. ç›¸è¾ƒäº <strong>Word</strong>, å®ƒæ›´åŠ åƒæ˜¯ <strong>HTML</strong> è¯­è¨€æˆ–æ˜¯ $\LaTeX$, å¹¶ä¸æ˜¯æœ€æ·³æœ´çš„é‚£ç§â€æ‰€è§å³æ‰€å¾—â€. å®ƒå¤„å¤„é€éœ²ç€ä¸€ç§æç®€ä¸»ä¹‰. é«˜æ•ˆç®€æ´æ¸…æ™°çš„åŒæ—¶, åˆå¾ˆç®€å•. çœ‹èµ·æ¥èˆ’æœ, è¯­æ³•ç®€å•, å°¤å…¶åœ¨å¤„ç†çº¯æ–‡æœ¬ä¸Šæœ‰å¾ˆå¤§çš„ä¼˜åŠ¿. </p><p>å®ƒç›¸è¾ƒäº <strong>Word</strong>, å…¼å®¹æ€§éå¸¸é«˜, å¯ä»¥è·¨å¹³å°ä½¿ç”¨, ä¸ç”¨æ‹…å¿ƒå¥‡å¥‡æ€ªæ€ªçš„ç‰ˆæœ¬å…¼å®¹é—®é¢˜. åŒæ—¶, æœ‰è®¸å¤šç½‘ç«™éƒ½æ”¯æŒæˆ–æ­£åœ¨ä½¿ç”¨ <strong>Markdown</strong> è¯­æ³•. å¦‚ <strong>Github</strong> (ç­‰ä¸€ç³»åˆ—ä»£ç æ‰˜ç®¡å¹³å°), StackOverflow(ç­‰ç­”ç–‘å¹³å°), ç®€ä¹¦, è¯­é›€ (ç­‰ä¸€ç³»åˆ—ç¬”è®°å¹³å°).</p><h2 id="ğŸ“-å®é™…åº”ç”¨"><a href="#ğŸ“-å®é™…åº”ç”¨" class="headerlink" title="ğŸ“ å®é™…åº”ç”¨"></a>ğŸ“ å®é™…åº”ç”¨</h2><p>æ‰€æœ‰è¦å†™æ–‡æœ¬çš„æ—¶å€™éƒ½å¯ä»¥ç”¨ä¸Š <strong>Markdown</strong>!</p><p>å®ƒå¯ä»¥è®©ä½ ä¸å†çº ç»“ä»€ä¹ˆå­—ä½“, ä»€ä¹ˆæ ·å¼, ä»€ä¹ˆæ’ç‰ˆ. è€Œä¸”é€»è¾‘æ¸…æ™°, å±‚æ¬¡åˆ†æ˜.</p><p>åƒæˆ‘å¤§ä¸€çš„æ—¶å€™å°±ç”¨ Markdown æ¥å†™å„ç§ç¬”è®°, æ¼”è®²ç¨¿, è¯¾ç¨‹è®ºæ–‡, å®éªŒæŠ¥å‘Š, ä»£ç çš„ <code>README.md</code> â€¦ åŒ…æ‹¬æœ¬æ•™ç¨‹æ–‡æ¡£.</p><h2 id="ğŸ´-å·¥å…·"><a href="#ğŸ´-å·¥å…·" class="headerlink" title="ğŸ´ å·¥å…·"></a>ğŸ´ å·¥å…·</h2><p>Markdown åªæ˜¯ä¸€ç§è¯­æ³•. é‚£ä¹ˆç”¨æ¥å†™ Markdown çš„æ–‡æœ¬ç¼–è¾‘å™¨å‘¢? æˆ‘æ¨èçš„æ˜¯ <strong>Typora</strong> æˆ–è€… <strong>VS Code</strong></p><h3 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a>Typora</h3><p>Typora åº”è¯¥æ˜¯è¢«å¹¿æ³›ç”¨äºå†™ Markdown çš„æ–‡æœ¬è½¯ä»¶, å°±å’Œ Markdown è¯­æ³•ä¸€æ ·é«˜æ•ˆ. è€Œä¸”å®ƒè¿˜æœ‰å¾ˆå®ç”¨çš„æ‰©å±•è¯­æ³•ä¸è‡ªå®šä¹‰æ ·å¼çš„åŠŸèƒ½. å…¶èƒ½å°† <code>.md</code> å¯¼å‡ºæˆå¤šç§æ–‡ä»¶, å¦‚ <code>.pdf</code>, <code>.html</code>, <code>.docx</code> (æ²¡æƒ³åˆ°å§, èƒ½å¯¼å‡ºåˆ° Word)</p><p>ä½†æ˜¯ç°åœ¨ Typora å·²ç»å‘å¸ƒæ­£å¼ç‰ˆå¹¶ä¸”å˜ä¸ºæ”¶è´¹è½¯ä»¶. ä¸­æ–‡å®˜ç½‘åœ¨æ­¤ <a href="https://typoraio.cn/">Typora å®˜æ–¹ä¸­æ–‡ç«™ </a>. </p><p>æˆ‘å½“ç„¶æ˜¯æ¨èå¤§å®¶éƒ½ç”¨æ­£ç‰ˆå•¦. ä¸è¿‡ä»·æ ¼æ˜¯æ°¸ä¹…ç‰ˆï¿¥89, å¥½åœ¨å¯ä»¥ç”¨åœ¨3å°è®¾å¤‡ä¸Š. å¦‚æœå’Œä½ çš„ä¸¤ä½åŒå­¦/èˆå‹å‡æ‘Šä¸€ä¸‹, æ¯äººå°±åªè¦ï¿¥30, å’Œä¸€å¼ æ¸¸æˆæœˆå¡å·®ä¸å¤š. </p><p>è‡³äºç›—ç‰ˆä»¥åŠç ´è§£æ–¹æ³•<a href="https://www.only4.work/blog/?id=379">åœ¨æ­¤éšä¾¿æ‰¾ä¸€ç§æ”¹æ³¨å†Œè¡¨æ—¶é—´æ–¹æ³•çš„</a><del>ä¸ä»‹ç»(è¿˜æŒºå¤šçš„å…¶å®)</del>.</p><p><del>è¿˜æœ‰ä¸€ç§å…è´¹ç™½å«–çš„æ–¹æ³•å°±æ˜¯å®‰è£…æµ‹è¯•ç‰ˆ/Betaç‰ˆ. å®˜ç½‘æœ‰å†å²ç‰ˆæœ¬çš„ä¸‹è½½é“¾æ¥ <a href="https://typoraio.cn/windows/dev_release.html">Typora å†å²ç‰ˆæœ¬ä¸‹è½½é¡µ</a></del></p><p>ç™½å«–Betaç‰ˆå·²ç»å¯„äº†, è¦ä¹ˆæ”¯æŒæ­£ç‰ˆè¦ä¹ˆå»å­¦ä¹ ä¸€ä¸‹ç ´è§£æ–¹æ³•å§ (è¿˜æ˜¯å¿ä¸ä½å•¦, çœ‹ä¸Šé¢çš„é“¾æ¥ğŸ‘†)</p><h3 id="VS-Code"><a href="#VS-Code" class="headerlink" title="VS Code"></a>VS Code</h3><p>è¿™æ˜¯å¾®è½¯å®¶çš„å¼€æºæ–‡æœ¬ç¼–è¾‘å™¨, ç†è®ºä¸Šæ¥è¯´æ‰€æœ‰ä»£ç , è¯­è¨€, éƒ½å¯ä»¥ç”¨ VS Code æ¥å†™, åŒæ ·æ˜¯éå¸¸çš„ç®€æ´å¥½ç”¨. åœ¨ä¸‹è½½æ’ä»¶ <strong>Markdown All in One</strong> åå¯¹ Markdown çš„åŸºç¡€æ”¯æŒä¹Ÿæ˜¯éå¸¸çš„å¥½. è‹¥åœ¨ VS Code ä¸‹è½½ Markdown å„ç§é™„åŠ æ‰©å±•, å°±èƒ½è·å¾—æ¯” Typora æ›´åŠ ä¸°å¯Œçš„æ‰©å±•è¯­æ³•ä¸æ“ä½œ.</p><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>å¤§éƒ¨åˆ†IDE, åƒ Jetbrain çš„å…¨å®¶æ¡¶é‡Œåº”è¯¥æ¯ä¸€æ¬¾, éƒ½æ”¯æŒ Markdown è¯­æ³•, åœ¨æ­¤ä¸å¤šèµ˜è¿°.</p><p>æœ¬æ–‡æ¡£ä¸»è¦ä½¿ç”¨ Typora è¿›è¡Œæ¼”ç¤º, åŒæ—¶ä¼šä»‹ç»è®¸å¤š Typora æ‰€åŒ…å«çš„æ‰©å±•è¯­æ³•.</p><h2 id="ğŸ­-åŸºç¡€æ•™ç¨‹"><a href="#ğŸ­-åŸºç¡€æ•™ç¨‹" class="headerlink" title="ğŸ­ åŸºç¡€æ•™ç¨‹"></a>ğŸ­ åŸºç¡€æ•™ç¨‹</h2><p>å½“æœ‰å¤šç§æ ‡è®°æ–¹æ³•æ—¶æˆ‘ä¼šå€¾å‘å…¶ä¸­ä¸€ç§. </p><p>æ ‡é¢˜æœ‰ <code>*</code> è¡¨ç¤ºè¯¥ä¸ºæ‰©å±•è¯­æ³•, ä»…åœ¨ Typora æˆ– æ·»åŠ äº†æ‰©å±•çš„ VS Code <strong>æœ¬åœ°ç”Ÿæ•ˆ</strong>, åœ¨å¤§å¤šæ•°å¹³å°ä¸Š<strong>å¹¶ä¸è®¤å¯</strong>.</p><h3 id="0-å†™-Markdown-çš„ç¬¬é›¶æ­¥"><a href="#0-å†™-Markdown-çš„ç¬¬é›¶æ­¥" class="headerlink" title="0. å†™ Markdown çš„ç¬¬é›¶æ­¥"></a>0. å†™ Markdown çš„ç¬¬é›¶æ­¥</h3><p>æˆ‘ä»¬å†™æ–‡æœ¬çš„æ—¶å€™å¤§å¤šå†™çš„æ˜¯ä¸­æ–‡, å¯æ˜¯è¾“å…¥æ³•åœ¨è¾“ä¸­æ–‡æ—¶ä½¿ç”¨çš„æ ‡ç‚¹ä¸ºå…¨è§’æ ‡ç‚¹, å¦‚ <code>ï¼Œã€‚ï¼Ÿï¼ï¼ˆï¼‰ã€ã€‘ï¼šï¼›â€œâ€</code>. è¿™äº›æ ‡ç‚¹æ˜¯ä¸è¢« Markdown æ‰€è®¤å¯çš„, ä¹Ÿæ˜¯æ— æ³•è½¬ä¹‰çš„. </p><p>æˆ‘å»ºè®®å¤§å®¶å†™ Markdown çš„æ—¶å€™éƒ½ç”¨åŠè§’æ ‡ç‚¹, å³è‹±æ–‡æ ‡ç‚¹, å¦‚ <code>,.?!()[]:;&quot;&quot;</code>. ä¸”æ¯ä¸ªåŠè§’æ ‡ç‚¹åœ¨æ–‡æœ¬ä½¿ç”¨æ—¶åŠ ä¸Šåç½®ç©ºæ ¼, ç¬¦åˆè‹±æ–‡æ ‡ç‚¹çš„ä¹¦å†™è§„èŒƒ, ä¹Ÿæ›´åŠ ç¾è§‚.</p><p>ä»¥å¾®è½¯è‡ªå¸¦è¾“å…¥æ³•ä¸¾ä¾‹, åœ¨ä½¿ç”¨ä¸­æ–‡è¾“å…¥æ³•æ—¶æŒ‰ä¸‹ <code>Ctrl</code> + <code>.(è¿™æ˜¯ä¸ªå¥å·)</code>, åˆ‡æ¢æ ‡ç‚¹çš„å…¨è§’ä¸åŠè§’. è¿™æ ·å³å¯ä¸­æ–‡è¾“å…¥+åŠè§’æ ‡ç‚¹.</p><h3 id="1-æ ‡é¢˜-æ•°ä¸ª-â€œ-â€-ç©ºæ ¼-å‰ç½®"><a href="#1-æ ‡é¢˜-æ•°ä¸ª-â€œ-â€-ç©ºæ ¼-å‰ç½®" class="headerlink" title="1. æ ‡é¢˜ [æ•°ä¸ª â€œ#â€ + ç©ºæ ¼ å‰ç½®]"></a>1. æ ‡é¢˜ [æ•°ä¸ª â€œ#â€ + ç©ºæ ¼ å‰ç½®]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none"># ä¸€çº§æ ‡é¢˜## äºŒçº§æ ‡é¢˜### ä¸‰çº§æ ‡é¢˜#### å››çº§æ ‡é¢˜##### äº”çº§æ ‡é¢˜###### å…­çº§æ ‡é¢˜<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æ ‡é¢˜ä¼šåœ¨ç›®å½•ä¸å¤§çº²åˆ†çº§æ˜¾ç¤º, å¯ä»¥è·³è½¬. </p><p>åœ¨ Typora ä¸­å»ºè®®å¼€å¯ <code>ä¸¥æ ¼æ¨¡å¼</code>, å³ä¸åº”ä¸º <code>#æ ‡é¢˜</code>, åº”ä¸º <code># æ ‡é¢˜</code>. </p><p>åº”è¯¥è¦æ‰‹åŠ¨è¡¥ä¸Šç©ºæ ¼, ä½¿å¾— Markdown è¯­æ³•åœ¨å…¶ä»–æ–‡æœ¬ç¼–è¾‘å™¨ä¸Šå…¼å®¹. </p><h3 id="2-å¼ºè°ƒ-ç”¨-â€œ-â€-æˆ–-â€œ-â€-åŒ…å›´"><a href="#2-å¼ºè°ƒ-ç”¨-â€œ-â€-æˆ–-â€œ-â€-åŒ…å›´" class="headerlink" title="2. å¼ºè°ƒ [ç”¨ â€œ**â€ æˆ– â€œ__â€ åŒ…å›´]"></a>2. å¼ºè°ƒ [ç”¨ â€œ**â€ æˆ– â€œ__â€ åŒ…å›´]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">**æ¬¢è¿æŠ¥è€ƒå—äº¬å¤§å­¦!** (æˆ‘å–œæ¬¢ç”¨è¿™ç§)__æ¬¢è¿æŠ¥è€ƒå—äº¬å¤§å­¦!__<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>æˆ–è€…é€‰ä¸­æƒ³è¦å¼ºè°ƒçš„æ–‡å­—æŒ‰ä¸‹ <code>Ctrl</code> + <code>B</code>. </p><p>E.G. </p><p><strong>æ¬¢è¿æŠ¥è€ƒå—äº¬å¤§å­¦!</strong></p><h3 id="3-æ–œä½“-ç”¨-â€œ-â€-æˆ–-â€œ-â€-åŒ…å›´"><a href="#3-æ–œä½“-ç”¨-â€œ-â€-æˆ–-â€œ-â€-åŒ…å›´" class="headerlink" title="3. æ–œä½“ [ç”¨ â€œ*â€ æˆ– â€œ_â€ åŒ…å›´]"></a>3. æ–œä½“ [ç”¨ â€œ*â€ æˆ– â€œ_â€ åŒ…å›´]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">*æ¬¢è¿å¤§ä½¬æ¥æµ‡æµ‡æˆ‘å„ç§çŸ¥è¯†* (æˆ‘å–œæ¬¢ç”¨è¿™ç§)_æ¬¢è¿å¤§ä½¬æ¥æµ‡æµ‡æˆ‘å„ç§çŸ¥è¯†_<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>æˆ–è€…é€‰ä¸­æƒ³è¦å¼ºè°ƒçš„æ–‡å­—æŒ‰ä¸‹ <code>Ctrl</code> + <code>I</code>. </p><p>E.G. </p><p><em>æ¬¢è¿å¤§ä½¬æ¥æµ‡æµ‡æˆ‘å„ç§çŸ¥è¯†</em></p><p>(P.S. <em><strong>æ–œä½“å¹¶å¼ºè°ƒ</strong></em> [ç”¨ â€œ***â€ æˆ– â€œ___â€ åŒ…å›´])</p><h3 id="4-åˆ é™¤çº¿-ç”¨-â€œ-â€-åŒ…å›´"><a href="#4-åˆ é™¤çº¿-ç”¨-â€œ-â€-åŒ…å›´" class="headerlink" title="4. åˆ é™¤çº¿ [ç”¨ â€œ~~â€ åŒ…å›´]"></a>4. åˆ é™¤çº¿ [ç”¨ â€œ~~â€ åŒ…å›´]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">~~æˆ‘å®£å¸ƒä¸ªäº‹å„¿, æˆ‘æ˜¯Sabiyary!~~<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>E.G. </p><p><del>æˆ‘å®£å¸ƒä¸ªäº‹å„¿, æˆ‘æ˜¯Sabiyary!</del></p><h3 id="5-é«˜äº®-ç”¨-â€œ-â€-åŒ…å›´"><a href="#5-é«˜äº®-ç”¨-â€œ-â€-åŒ…å›´" class="headerlink" title="5. *é«˜äº® [ç”¨ â€œ==â€ åŒ…å›´]"></a>5. *é«˜äº® [ç”¨ â€œ==â€ åŒ…å›´]</h3><p><strong>(æ³¨æ„: æ­¤ä¸ºæ‰©å±•è¯­æ³•)</strong></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x3D;&#x3D;æˆ‘å–œæ¬¢é»„è‰², ä¹Ÿå–œæ¬¢ç»¿è‰²&#x3D;&#x3D;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>E.G. </p><p>==æˆ‘å–œæ¬¢é»„è‰², ä¹Ÿå–œæ¬¢ç»¿è‰²==</p><h3 id="6-ä»£ç -ç”¨-â€œ-â€-åŒ…å›´"><a href="#6-ä»£ç -ç”¨-â€œ-â€-åŒ…å›´" class="headerlink" title="6. ä»£ç  [ç”¨ â€œ`â€ åŒ…å›´]"></a>6. ä»£ç  [ç”¨ â€œ`â€ åŒ…å›´]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#96;sudo rm -rf &#x2F;*&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>E.G. </p><p><code>sudo rm -rf /*</code> (æ²¡äº‹åˆ«ä¹±æ•²è¿™ä¸ª! )</p><p><del>â€œè¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç : (é—ªçƒçš„å…‰æ ‡)â€</del></p><h3 id="7-ä»£ç å—-æŒ‰ä¸‰ä¸ª-â€œ-â€-å¹¶æ•²å›è½¦"><a href="#7-ä»£ç å—-æŒ‰ä¸‰ä¸ª-â€œ-â€-å¹¶æ•²å›è½¦" class="headerlink" title="7. ä»£ç å— [æŒ‰ä¸‰ä¸ª â€œ`â€ å¹¶æ•²å›è½¦]"></a>7. ä»£ç å— [æŒ‰ä¸‰ä¸ª â€œ`â€ å¹¶æ•²å›è½¦]</h3><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">```<span class="token comment">// è¿™é‡Œå°±å¯ä»¥å¼€å§‹è¾“å…¥ä½ è¦çš„ä»£ç äº†</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">mian</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    printï¼ˆâ€œHello<span class="token punctuation">,</span> world<span class="token operator">!</span>\n"ï¼‰<span class="token punctuation">;</span>    retrun O<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>``` <span class="token comment">// (è¿™ä¸‰ä¸ª"`"æ–‡æœ¬ç¼–è¾‘å™¨ä¼šå¸®ä½ è‡ªåŠ¨è¡¥å…¨ ä¸€èˆ¬ä¸ç”¨æ‰‹åŠ¨è¾“)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>(æˆ‘ä¹‹å‰éƒ½æ˜¯ç”¨è¿™ä¸ªæ¥å±•ç¤ºå„ç§è¯­æ³•çš„, åº”è¯¥ä¸ç”¨ä¸¾ä¾‹äº†å§)</p><p>è¦æƒ³æ˜¾ç¤ºè¡Œæ•°çš„è¯, ä¸€èˆ¬è¦åœ¨ Typora çš„è®¾ç½®é‡Œå‹¾ä¸Šè¿™ä¸ªæ˜¾ç¤ºè¡Œæ•°çš„é€‰é¡¹. </p><p>ä»£ç å—é‡Œå¯ä»¥é€‰æ‹©è¯­è¨€, å…¶ä¼šæ ¹æ®è¯­è¨€æ¥è‡ªåŠ¨é«˜äº®å„ä¸ªè¯­å¥. åœ¨é€‰æ‹©è¯­è¨€å, <code>```</code> ä¼šå˜ä¸º <code>````</code> + <code>å¯¹åº”è¯­è¨€</code>.</p><h3 id="8-å¼•ç”¨-â€œ-gt-â€-ç©ºæ ¼-å‰ç½®"><a href="#8-å¼•ç”¨-â€œ-gt-â€-ç©ºæ ¼-å‰ç½®" class="headerlink" title="8. å¼•ç”¨ [â€œ&gt;â€ + ç©ºæ ¼ å‰ç½®]"></a>8. å¼•ç”¨ [â€œ&gt;â€ + ç©ºæ ¼ å‰ç½®]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&gt; 24å², æ˜¯å­¦ç”Ÿ.&gt; &gt; å­¦ç”Ÿç‰¹æœ‰çš„æ— å¤„ä¸åœ¨(æ¼)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>å¼•ç”¨æ˜¯å¯ä»¥åµŒå¥—çš„!</p><p>E.G. </p><blockquote><p>24å², æ˜¯å­¦ç”Ÿ.</p><blockquote><p>å­¦ç”Ÿç‰¹æœ‰çš„æ— å¤„ä¸åœ¨(æ¼)</p></blockquote></blockquote><h3 id="9-æ— åºåˆ—è¡¨-â€œ-â€œ-æˆ–-â€œ-â€-ç©ºæ ¼-å‰ç½®"><a href="#9-æ— åºåˆ—è¡¨-â€œ-â€œ-æˆ–-â€œ-â€-ç©ºæ ¼-å‰ç½®" class="headerlink" title="9. æ— åºåˆ—è¡¨ [â€œ-â€œ æˆ–  â€œ+â€ + ç©ºæ ¼ å‰ç½®]"></a>9. æ— åºåˆ—è¡¨ [â€œ-â€œ æˆ–  â€œ+â€ + ç©ºæ ¼ å‰ç½®]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">- ä¸€é¢—æ˜¯æ£æ ‘ (æˆ‘å–œæ¬¢ç”¨è¿™ç§)+ å¦ä¸€é¢—è¿˜æ˜¯æ£æ ‘* (å…¶å®è¿™ç§ä¹Ÿå¯ä»¥, ä¸è¿‡ç”±äºåœ¨ Typora ä¸­å¾ˆéš¾å•ä¸ªè¾“å…¥, æ•…ä¸å¸¸ç”¨)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>ä¸‰ç§å‰ç½®ç¬¦éƒ½å¯ä»¥, æ•²å›è½¦ä¼šè‡ªåŠ¨è¡¥å…¨, å¯åœ¨ Typora è®¾ç½®ä¸­è°ƒæ•´è¡¥å…¨çš„ç¬¦å·, æ•²å›è½¦åæŒ‰ä¸‹ <code>Tab</code> ä¼šç¼©è¿›ä¸€çº§. </p><p>E.G. </p><ul><li>ä¸€é¢—æ˜¯æ£æ ‘</li><li>å¦ä¸€é¢—è¿˜æ˜¯æ£æ ‘</li></ul><h3 id="10-æœ‰åºåˆ—è¡¨-æ•°å­—-â€œ-â€-ç©ºæ ¼-å‰ç½®"><a href="#10-æœ‰åºåˆ—è¡¨-æ•°å­—-â€œ-â€-ç©ºæ ¼-å‰ç½®" class="headerlink" title="10. æœ‰åºåˆ—è¡¨ [æ•°å­— + â€œ.â€ + ç©ºæ ¼ å‰ç½®]"></a>10. æœ‰åºåˆ—è¡¨ [æ•°å­— + â€œ.â€ + ç©ºæ ¼ å‰ç½®]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">æˆ‘æ¥è¿™é‡Œå°±ä¸ºäº†ä¸‰ä»¶äº‹:1. å…¬å¹³2. å…¬å¹³3. è¿˜æ˜¯tmçš„å…¬å¹³!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>æ•²å›è½¦ä¼šè‡ªåŠ¨è¡¥å…¨, æ•²å›è½¦åæŒ‰ä¸‹ <code>Tab</code> ä¼šç¼©è¿›ä¸€çº§. </p><p>E.G. </p><p>æˆ‘æ¥è¿™é‡Œå°±ä¸ºäº†ä¸‰ä»¶äº‹:</p><ol><li><p>å…¬å¹³</p></li><li><p>å…¬å¹³</p></li><li><p>è¿˜æ˜¯tmçš„å…¬å¹³!</p></li></ol><h3 id="11-ä¸Šæ ‡-ç”¨-â€œ-â€-åŒ…å›´"><a href="#11-ä¸Šæ ‡-ç”¨-â€œ-â€-åŒ…å›´" class="headerlink" title="11. *ä¸Šæ ‡ [ç”¨ â€œ^â€ åŒ…å›´]"></a>11. *ä¸Šæ ‡ [ç”¨ â€œ^â€ åŒ…å›´]</h3><p><strong>(æ³¨æ„: æ­¤ä¸ºæ‰©å±•è¯­æ³•)</strong></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">Cè¯­è¨€ä¸­intçš„ä¸Šé™æ˜¯ 2^31^ - 1 &#x3D; 2147483647<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>E.G. </p><p>Cè¯­è¨€ä¸­ <code>int</code> çš„ä¸Šé™æ˜¯ 2^31^ - 1 = 2147483647</p><h3 id="12-ä¸‹æ ‡-ç”¨-â€œ-â€-åŒ…å›´"><a href="#12-ä¸‹æ ‡-ç”¨-â€œ-â€-åŒ…å›´" class="headerlink" title="12. *ä¸‹æ ‡ [ç”¨ â€œ~â€ åŒ…å›´]"></a>12. *ä¸‹æ ‡ [ç”¨ â€œ~â€ åŒ…å›´]</h3><p><strong>(æ³¨æ„: æ­¤ä¸ºæ‰©å±•è¯­æ³•)</strong></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">H~2~O æ˜¯å‰§æ¯’çš„!<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>E.G. </p><p>H<del>2</del>O æ˜¯å‰§æ¯’çš„!</p><h3 id="13-æ³¨é‡Š-â€œ-â€-åç½®"><a href="#13-æ³¨é‡Š-â€œ-â€-åç½®" class="headerlink" title="13. *æ³¨é‡Š [â€œ[^]â€ åç½®]"></a>13. *æ³¨é‡Š [â€œ[^]â€ åç½®]</h3><p><strong>(æ³¨æ„: æ­¤ä¸ºæ‰©å±•è¯­æ³•)</strong></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&gt; ä»Šæ—¥æˆ‘ä»¬ç›¸èšäºæ­¤, æ˜¯ä¸ºäº†å­¦ä¹  Markdown çš„ä½¿ç”¨, å®ƒçš„æ•™ç¨‹å¯¹äºå…¨ä½“ã€Œè§‚ä¼—ã€è€Œè¨€, å€¼å¾—è¶³è¶³ä¸¤ä¸ªç¡¬å¸çš„æ”¯æŒé¼“åŠ±!<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="æ²ƒå…¹Â·åŸºÂ·ç¡•å¾· æ”¹ç¼–è‡ªã€Œå…¬é¸¡ã€æ™®å¥‘æ¶…æ‹‰.">[1]</span></a></sup>éœ€è¦åœ¨æ–‡æœ«å†™ä¸Šæ³¨é‡Šå¯¹åº”çš„å†…å®¹E.G. > ä»Šæ—¥æˆ‘ä»¬ç›¸èšäºæ­¤, æ˜¯ä¸ºäº†å­¦ä¹  Markdown çš„ä½¿ç”¨, å®ƒçš„æ•™ç¨‹å¯¹äºå…¨ä½“ã€Œè§‚ä¼—ã€è€Œè¨€, å€¼å¾—è¶³è¶³ä¸¤ä¸ªç¡¬å¸çš„æ”¯æŒé¼“åŠ±!<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="æ²ƒå…¹Â·åŸºÂ·ç¡•å¾· æ”¹ç¼–è‡ªã€Œå…¬é¸¡ã€æ™®å¥‘æ¶…æ‹‰.">[1]</span></a></sup>### 14. é“¾æ¥ [å¸¸ç”¨ "[ ]" + "( )" åˆ†åˆ«åŒ…å›´æ–‡æœ¬ä¸é“¾æ¥]**(æ³¨æ„: æ–‡å†…è·³è½¬ä¸ºæ‰©å±•ç”¨æ³•)**<hexoPostRenderCodeBlock><pre class="line-numbers language-none"><code class="language-none">[æ¥çœ‹çœ‹æˆ‘è´«ç˜ çš„ä»“åº“ç½¢](https:&#x2F;&#x2F;github.com&#x2F;Sakiyary)[åŸºç¡€æ•™ç¨‹: 12. ä¸‹æ ‡](#12. ä¸‹æ ‡ [ç”¨ &quot;~&quot; åŒ…å›´])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>æ”¯æŒç½‘é¡µé“¾æ¥ä¸æ–‡å†…è·³è½¬, æŒ‰ä½ <code>Ctrl</code> å¹¶ <code>å•å‡»é¼ æ ‡å·¦é”®</code> å³å¯è·³è½¬.</p><p>E.G. </p><p><a href="https://github.com/Sakiyary">æ¥çœ‹çœ‹æˆ‘è´«ç˜ çš„ä»“åº“ç½¢</a></p><p>[åŸºç¡€æ•™ç¨‹: 12. ä¸‹æ ‡](#12. ä¸‹æ ‡ [ç”¨ â€œ~â€ åŒ…å›´])</p><h3 id="15-ä»»åŠ¡åˆ—è¡¨-â€œ-â€-ç©ºæ ¼-å‰ç½®"><a href="#15-ä»»åŠ¡åˆ—è¡¨-â€œ-â€-ç©ºæ ¼-å‰ç½®" class="headerlink" title="15. ä»»åŠ¡åˆ—è¡¨ [â€œ- [ ]â€ + ç©ºæ ¼ å‰ç½®]"></a>15. ä»»åŠ¡åˆ—è¡¨ [â€œ- [ ]â€ + ç©ºæ ¼ å‰ç½®]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">TodoList:- [ ] åˆ·Bç«™- [ ] å†™ä»£ç - [x] èµ·åºŠ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>ç”¨ <code>x</code> ä»£æ›¿ <code>[ ]</code> ä¸­çš„ç©ºæ ¼æ¥å‹¾é€‰ä»»åŠ¡åˆ—è¡¨. åœ¨ Typora ä¸­å¯ä»¥ç›´æ¥ç”¨é¼ æ ‡å·¦é”®å•å‡»å‹¾é€‰æ¡†.</p><p>E.G. TodoList:</p><ul><li><input disabled="" type="checkbox"> åˆ·Bç«™</li><li><input disabled="" type="checkbox"> å†™ä»£ç </li><li><input checked="" disabled="" type="checkbox"> èµ·åºŠ</li></ul><h3 id="16-è¡¨æ ¼-ç”¨-â€œ-â€-ç»˜åˆ¶è¡¨æ ¼è¾¹æ¡†"><a href="#16-è¡¨æ ¼-ç”¨-â€œ-â€-ç»˜åˆ¶è¡¨æ ¼è¾¹æ¡†" class="headerlink" title="16. è¡¨æ ¼ [ç”¨ â€œ|â€ ç»˜åˆ¶è¡¨æ ¼è¾¹æ¡†]"></a>16. è¡¨æ ¼ [ç”¨ â€œ|â€ ç»˜åˆ¶è¡¨æ ¼è¾¹æ¡†]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">| å­¦å· | å§“å  | å¹´é¾„ || :--- | :---: | ---: | (å¼•å·çš„ä½ç½®ä»£è¡¨ç€ å·¦å¯¹é½, å±…ä¸­, å³å¯¹é½)|114514|ç”°æ‰€|24||1919810|æµ©ä¸‰|25|<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>ç¬¬ä¸€è¡Œä¸ºè¡¨å¤´, å¹¶ç”±ç¬¬äºŒè¡Œåˆ†å‰²çº¿å†³å®šå¯¹é½æ–¹å¼ä¸é•¿åº¦, ç¬¬ä¸‰è¡ŒåŠä¹‹åå³è¡¨æ ¼æ•°æ®</p><p>E.G. </p><table><thead><tr><th align="left">å­¦å·</th><th align="center">å§“å</th><th align="right">å¹´é¾„</th></tr></thead><tbody><tr><td align="left">114514</td><td align="center">ç”°æ‰€</td><td align="right">24</td></tr><tr><td align="left">1919810</td><td align="center">æµ©ä¸‰</td><td align="right">25</td></tr></tbody></table><h3 id="17-å›¾ç‰‡-ç›´æ¥æ‹–è¿›æ¥æˆ–è€…å¤åˆ¶ç²˜è´´"><a href="#17-å›¾ç‰‡-ç›´æ¥æ‹–è¿›æ¥æˆ–è€…å¤åˆ¶ç²˜è´´" class="headerlink" title="17. å›¾ç‰‡ [ç›´æ¥æ‹–è¿›æ¥æˆ–è€…å¤åˆ¶ç²˜è´´]"></a>17. å›¾ç‰‡ [ç›´æ¥æ‹–è¿›æ¥æˆ–è€…å¤åˆ¶ç²˜è´´]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">![å›¾ç‰‡](å›¾ç‰‡çš„ä½ç½®)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æˆ‘è¿˜æ˜¯ä¼šé€‰æ‹©æ‹–è¿›æ¥æˆ–è€…å¤åˆ¶ç²˜è´´å•¦~ åœ¨ Typora çš„è®¾ç½®é‡Œä¹Ÿå¯ä»¥æ”¹å›¾ç‰‡çš„å‚¨å­˜æ–¹å¼. </p><h3 id="18-åˆ†å‰²çº¿-æŒ‰ä¸‰ä¸ª-â€œ-â€-æˆ–-â€œ-â€œ-æˆ–-â€œ-â€-å¹¶æ•²å›è½¦"><a href="#18-åˆ†å‰²çº¿-æŒ‰ä¸‰ä¸ª-â€œ-â€-æˆ–-â€œ-â€œ-æˆ–-â€œ-â€-å¹¶æ•²å›è½¦" class="headerlink" title="18. åˆ†å‰²çº¿ [æŒ‰ä¸‰ä¸ª â€œ*â€ æˆ– â€œ-â€œ æˆ– â€œ_â€ å¹¶æ•²å›è½¦]"></a>18. åˆ†å‰²çº¿ [æŒ‰ä¸‰ä¸ª â€œ*â€ æˆ– â€œ-â€œ æˆ– â€œ_â€ å¹¶æ•²å›è½¦]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">***--- (æˆ‘å–œæ¬¢ç”¨è¿™ç§)___&#x2F;&#x2F; (å…¶å®æŒ‰ä¸‰ä¸ªåŠä»¥ä¸Šéƒ½å¯ä»¥)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>ç”±äº <code>*</code> ä¸ <code>_</code> å‡ä¼šè‡ªåŠ¨è¡¥å…¨, æ‰€ä»¥æˆ‘è§‰å¾— <code>-</code> æœ€ä¸ºæ–¹ä¾¿.</p><p>E.G. </p><hr><hr><hr><h3 id="19-Emojiè¡¨æƒ…-â€œ-â€-å‰ç½®"><a href="#19-Emojiè¡¨æƒ…-â€œ-â€-å‰ç½®" class="headerlink" title="19. Emojiè¡¨æƒ… [â€œ:â€ å‰ç½®]"></a>19. Emojiè¡¨æƒ… [â€œ:â€ å‰ç½®]</h3><p><strong>(æ³¨æ„: è‹±æ–‡è¾“å…¥ä¸ºæ‰©å±•è¯­æ³•)</strong></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">:sweat_smile: :drooling_face::clown_face:&#x2F;&#x2F; (æ•²å›è½¦æˆ–è€…é¼ æ ‡ç‚¹å‡», åç½®çš„&quot;:&quot;ä¸€èˆ¬ä¸éœ€è¦æ‰‹åŠ¨è¾“)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>è¿™ä¸ªåŠŸèƒ½å”¯ä¸€çš„è¦æ±‚å°±æ˜¯è‹±è¯­æ°´å¹³è¦é«˜, æˆ–è€…å¤§æ¦‚è®°å¾—å„ä¸ª Emoji çš„è‹±æ–‡å. </p><p>E.G. </p><p>:sweat_smile:<br>:drooling_face:<br>:clown_face:</p><p>å¯¹äºå…¶ä½™æ™®é€šçš„ Markdown æ–‡æœ¬ç¼–è¾‘å™¨, å¯ä»¥ç›´æ¥å°† Emoji è¡¨æƒ…å¤åˆ¶è¿›æ¥, è¿™æ˜¯ç›´æ¥<strong>ç¡¬ç¼–ç </strong>çš„ (<del>åˆ»è¿›DNAé‡Œ</del>)</p><p>E.G. </p><p>ğŸ˜…ğŸ¤¤ğŸ¤¡</p><p>ç”¨å¥½è¿™ä¸ªåŠŸèƒ½å¯ä»¥è®©ä½ çš„æ–‡æœ¬éå¸¸çš„å¯çˆ±! <del>å¤ªæŠ½è±¡äº†</del></p><p>è¿™é‡Œåˆ†äº«ä¸€ä¸ªå¯ä»¥å¤åˆ¶<a href="https://emojipedia.org/apple/">å…¨Emojiçš„ç½‘ç«™</a>, éå¸¸å¥½ç”¨! æˆ‘ä¹‹å‰çš„Cè¯­è¨€å¤§ä½œä¸šä¹Ÿæ˜¯ä»è¿™é‡Œä¸‹è½½çš„èµ„æº! </p><h2 id="ğŸ”¥-è¿›é˜¶æ•™ç¨‹"><a href="#ğŸ”¥-è¿›é˜¶æ•™ç¨‹" class="headerlink" title="ğŸ”¥ è¿›é˜¶æ•™ç¨‹"></a>ğŸ”¥ è¿›é˜¶æ•™ç¨‹</h2><h3 id="1-ç›®å½•-è‡ªåŠ¨ç”Ÿæˆ"><a href="#1-ç›®å½•-è‡ªåŠ¨ç”Ÿæˆ" class="headerlink" title="1. ç›®å½• [è‡ªåŠ¨ç”Ÿæˆ]"></a>1. ç›®å½• [è‡ªåŠ¨ç”Ÿæˆ]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">[TOC] (æ­¤ä¸º Typora ç‰¹æœ‰çš„, å¦‚æœ¬æ–‡æ¡£å¼€å¤´)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>è‹¥ä½¿ç”¨ VS Code æ­é… Markdown All in One æ‰©å±•, å¯åœ¨ VS Code çš„<code>å‘½ä»¤é¢æ¿</code> (å³ <a href="https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette">VS Code Command Palette</a>) è¾“å…¥ <code>Create Table of Contents</code> è‡ªåŠ¨ç”Ÿæˆç›®å½•, ä¸”å¯åœ¨æ‰©å±•è®¾ç½®ä¸­ç»†è°ƒç›®å½•å‚æ•°.</p><h3 id="2-å†…è”-HTML-ä»£ç -ç”¨-â€œ-lt-gt-lt-gt-â€-åŒ…å›´"><a href="#2-å†…è”-HTML-ä»£ç -ç”¨-â€œ-lt-gt-lt-gt-â€-åŒ…å›´" class="headerlink" title="2. å†…è” HTML ä»£ç  [ç”¨ â€œ&lt;&gt; &lt;/&gt;â€ åŒ…å›´]"></a>2. å†…è” HTML ä»£ç  [ç”¨ â€œ&lt;&gt; &lt;/&gt;â€ åŒ…å›´]</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;div style&#x3D;&quot;text-align:center&quot;&gt;  &lt;font style&#x3D;&quot;color:red&quot;&gt;æˆ‘ä¸ä¼š HTML å‘œå‘œå‘œ... æµ‡æµ‡æˆ‘&lt;&#x2F;font&gt;&lt;&#x2F;div&gt;&lt;center&gt;ç®€å•çš„æ–‡å­—å±…ä¸­ä¹Ÿå¯ä»¥è¿™æ ·&lt;&#x2F;center&gt;&lt;u&gt;æˆ‘å·®ç‚¹å¿˜äº†è¿˜æœ‰ä¸‹åˆ’çº¿è¿™ä¸œè¥¿...&lt;&#x2F;u&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>åªè¦ä½ ä¼šå†™, ä½ å®Œå…¨å¯ä»¥æŠŠ Markdown å½“ä½œ <strong>HTML</strong> æ¥å†™.</p><p>åŒæ—¶, <code>.md</code> æ–‡ä»¶å¯ä»¥ç›´æ¥å¯¼å‡ºæˆä¸€ä¸ªç½‘é¡µ.</p><p>ä¸‹åˆ’çº¿å¯ä»¥é€‰ä¸­æƒ³è¦ä¸‹åˆ’çš„æ–‡å­—æŒ‰ä¸‹ <code>Ctrl</code> + <code>U</code>. </p><p>E.G. </p><div style="text-align:center">  <font style="color:red">æˆ‘ä¸ä¼š HTML å‘œå‘œå‘œ... æµ‡æµ‡æˆ‘</font></div><center>ç®€å•çš„æ–‡å­—å±…ä¸­ä¹Ÿå¯ä»¥è¿™æ ·</center><p><u>æˆ‘å·®ç‚¹å¿˜äº†è¿˜æœ‰ä¸‹åˆ’çº¿è¿™ä¸œè¥¿â€¦</u></p><h3 id="3-å†…è”-LaTeX-å…¬å¼-ç”¨-â€œ-â€-åŒ…å›´"><a href="#3-å†…è”-LaTeX-å…¬å¼-ç”¨-â€œ-â€-åŒ…å›´" class="headerlink" title="3. å†…è” $\LaTeX$ å…¬å¼ [ç”¨ â€œ$â€ åŒ…å›´]"></a>3. å†…è” $\LaTeX$ å…¬å¼ [ç”¨ â€œ$â€ åŒ…å›´]</h3><p><strong>(æ³¨æ„: éƒ¨åˆ†ç¼–è¯‘å™¨ä¼šä¸è¯†åˆ«éƒ¨åˆ†ç¬¦å·)</strong></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">$\LaTeX$ æ˜¯æœ€å¥½ç”¨çš„è®ºæ–‡æ’ç‰ˆè¯­è¨€! ä¸ä¿¡ä½ çœ‹!$a^n+b^n&#x3D;c^n$$$%\usepackage&#123;unicode-math&#125;\displaystyle \ointctrclockwise\mathcal&#123;D&#125;[x(t)]\sqrt&#123;\frac&#123;\displaystyle3\uppi^2-\sum_&#123;q&#x3D;0&#125;^&#123;\infty&#125;(z+\hat L)^&#123;q&#125;\exp(\symrm&#123;i&#125;q^2 \hbar x)&#125;&#123;\displaystyle (\symsfup&#123;Tr&#125;\symbfcal&#123;A&#125;)\left(\symbf\Lambda_&#123;j_1j_2&#125;^&#123;i_1i_2&#125;\Gamma_&#123;i_1i_2&#125;^&#123;j_1j_2&#125;\hookrightarrow\vec D\cdot \symbf P \right)&#125;&#125;&#x3D;\underbrace&#123;\widetilde&#123;\left\langle \frac&#123;\notin \emptyset&#125;&#123;\varpi\alpha_&#123;k\uparrow&#125;&#125;\middle\vert\frac&#123;\partial_\mu T_&#123;\mu\nu&#125;&#125;&#123;2&#125;\right\rangle&#125;&#125;_&#123;\mathrm&#123;K&#125;_3\mathrm&#123;Fe&#125;(\mathrm&#123;CN&#125;)_6&#125; ,\forall z \in \mathbb&#123;R&#125;$$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ç”¨ <code>$</code> åŒ…å›´ä¸ºå•æ¡å…¬å¼, æŒ‰ä¸‹ä¸¤ä¸ª <code>$</code> å¹¶æ•²å›è½¦å³ç”Ÿæˆå…¬å¼å—.</p><p>E.G. </p><p>$\LaTeX$ æ˜¯æœ€å¥½ç”¨çš„è®ºæ–‡æ’ç‰ˆè¯­è¨€! ä¸ä¿¡ä½ çœ‹!</p><p>$a^n+b^n=c^n$<br>$$<br>%\usepackage{unicode-math}<br>\displaystyle \ointctrclockwise\mathcal{D}[x(t)]<br>\sqrt{\frac{\displaystyle3\uppi^2-\sum_{q=0}^{\infty}(z+\hat L)^{q}<br>\exp(\symrm{i}q^2 \hbar x)}{\displaystyle (\symsfup{Tr}\symbfcal{A})<br>\left(\symbf\Lambda_{j_1j_2}^{i_1i_2}\Gamma_{i_1i_2}^{j_1j_2}<br>\hookrightarrow\vec D\cdot \symbf P \right)}}<br>=\underbrace{\widetilde{\left\langle \frac{\notin \emptyset}<br>{\varpi\alpha_{k\uparrow}}\middle\vert<br>\frac{\partial_\mu T_{\mu\nu}}{2}\right\rangle}}_{\mathrm{K}_3<br>\mathrm{Fe}(\mathrm{CN})_6} ,\forall z \in \mathbb{R}<br>$$</p><h3 id="4-ç½‘ç»œå›¾åºŠ"><a href="#4-ç½‘ç»œå›¾åºŠ" class="headerlink" title="4. *ç½‘ç»œå›¾åºŠ"></a>4. *ç½‘ç»œå›¾åºŠ</h3><p>(è¿™æ˜¯å­¦é•¿ç»™æˆ‘çš„ç½‘ç»œå›¾åºŠæ•™ç¨‹, æˆ‘å¹¶æœªå®è·µè¿‡â€¦)</p><p>åˆ†äº«ä¸€ä¸ª Typora æ­é…è…¾è®¯äº‘COS/é˜¿é‡Œäº‘OSSå›¾åºŠçš„<a href="https://blog.csdn.net/guo_ridgepole/article/details/108257277">ä¾‹å­</a>. æ–°ç”¨æˆ·å…è´¹è¯•ç”¨6ä¸ªæœˆ, å¦å¤–è¿˜å¯é€‰æ‹©ä¸ƒç‰›äº‘æˆ–è€…è·¯è¿‡å›¾åºŠ.</p><h3 id="5-Typora-çš„å¸¸ç”¨å¿«æ·é”®"><a href="#5-Typora-çš„å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="5. *Typora çš„å¸¸ç”¨å¿«æ·é”®"></a>5. *Typora çš„å¸¸ç”¨å¿«æ·é”®</h3><table><thead><tr><th align="center">æŒ‰é”®</th><th align="center">æ•ˆæœ</th><th align="center">æŒ‰é”®</th><th align="center">æ•ˆæœ</th></tr></thead><tbody><tr><td align="center"><code>Ctrl</code> + <code>D</code></td><td align="center">é€‰ä¸­å½“å‰è¯</td><td align="center"><code>Ctrl</code> + <code>L</code></td><td align="center">é€‰ä¸­å½“å‰å¥/è¡Œ</td></tr><tr><td align="center"><code>Ctrl</code> + <code>E</code></td><td align="center">é€‰ä¸­å½“å‰åŒºå—</td><td align="center"><code>Ctrl</code> + <code>F</code></td><td align="center">æœç´¢å½“å‰é€‰ä¸­</td></tr><tr><td align="center"><code>Ctrl</code> + <code>B</code></td><td align="center">åŠ ç²—å½“å‰é€‰ä¸­</td><td align="center"><code>Ctrl</code> + <code>H</code></td><td align="center">æ›¿æ¢å½“å‰é€‰ä¸­</td></tr><tr><td align="center"><code>Ctrl</code> + <code>I</code></td><td align="center">å€¾æ–œå½“å‰é€‰ä¸­</td><td align="center"><code>Ctrl</code> + <code>U</code></td><td align="center">ä¸‹åˆ’å½“å‰é€‰ä¸­</td></tr><tr><td align="center"><code>Ctrl</code> + <code>K</code></td><td align="center">å°†å½“å‰é€‰ä¸­ç”Ÿæˆé“¾æ¥</td><td align="center"><code>Ctrl</code> + <code>J</code></td><td align="center">æ»šåŠ¨å±å¹•å°†é€‰ä¸­æ»šè‡³é¡¶éƒ¨</td></tr><tr><td align="center"><code>Ctrl</code> + <code>W</code></td><td align="center">å…³é—­å½“å‰çª—å£</td><td align="center"><code>Ctrl</code> + <code>N</code></td><td align="center">æ‰“å¼€æ–°çª—å£</td></tr><tr><td align="center"><code>Ctrl</code> + <code>O</code></td><td align="center">æ‰“å¼€æ–‡ä»¶</td><td align="center"><code>Ctrl</code> + <code>P</code></td><td align="center">æœç´¢æ–‡ä»¶å¹¶æ‰“å¼€</td></tr><tr><td align="center"><code>Ctrl</code> + <code>å›è½¦</code></td><td align="center">è¡¨æ ¼ä¸‹æ–¹æ’å…¥è¡Œ</td><td align="center"><code>Ctrl</code> + <code>,</code></td><td align="center">æ‰“å¼€åå¥½è®¾ç½®</td></tr><tr><td align="center"><code>Ctrl</code> + <code>.</code></td><td align="center">åˆ‡æ¢å…¨è§’/åŠè§’æ ‡ç‚¹</td><td align="center"><code>Ctrl</code> + <code>/</code></td><td align="center">åˆ‡æ¢æ­£å¸¸/æºä»£ç è§†å›¾</td></tr><tr><td align="center"><code>Ctrl</code> + <code>Shift</code> + <code>-</code></td><td align="center">ç¼©å°è§†å›¾ç¼©æ”¾</td><td align="center"><code>Ctrl</code> + <code>Shift</code> + <code>+</code></td><td align="center">æ”¾å¤§è§†å›¾ç¼©æ”¾</td></tr></tbody></table><p>è¿˜æœ‰ä¸€äº›ä¸å¸¸ç”¨çš„/ä¸‰é”®çš„å¿«æ·é”®ä¸åœ¨æ­¤åˆ—å‡º.</p><h3 id="6-Typora-çš„ä¸»é¢˜æ ·å¼ä¸æ£€æŸ¥å…ƒç´ "><a href="#6-Typora-çš„ä¸»é¢˜æ ·å¼ä¸æ£€æŸ¥å…ƒç´ " class="headerlink" title="6. *Typora çš„ä¸»é¢˜æ ·å¼ä¸æ£€æŸ¥å…ƒç´ "></a>6. *Typora çš„ä¸»é¢˜æ ·å¼ä¸æ£€æŸ¥å…ƒç´ </h3><p>Markdown åœ¨ç¼–è¯‘åçº¦ç­‰äº HTML. è€Œ Typora çš„æ­£å¸¸è§†å›¾å°±æ˜¯ç¼–è¯‘åçš„ Markdown, æ•…Typoraçš„ä¸»é¢˜æ ·å¼æœ¬è´¨å°±æ˜¯ CSS æ–‡ä»¶.</p><p>å¯ä»¥ä¸‹è½½å„ç§å¥½çœ‹çš„ä¸»é¢˜ç»™ Typoraæ¢ä¸Š, åŒæ—¶ä¹Ÿå¯ä»¥è‡ªå·±è°ƒæ•´å¯¹åº”çš„ CSS æ–‡ä»¶, æˆ–è€…è‡ªå·±æ‰‹æ“. </p><p>åœ¨ Typora è®¾ç½®ä¸­å¼€å¯ <code>è°ƒè¯•æ¨¡å¼</code> åå³å¯åœ¨æ­£å¸¸è§†å›¾å³å‡»æ‰“å¼€ <code>æ£€æŸ¥å…ƒç´ </code>, åœ¨å…¶ä¸­å°±å¯ä»¥å®Œå…¨å°† Markdown æ–‡ä»¶å½“æˆ HTML æ¥ç¼–è¾‘.</p><h2 id="ğŸ’¯-æ€»ç»“"><a href="#ğŸ’¯-æ€»ç»“" class="headerlink" title="ğŸ’¯ æ€»ç»“"></a>ğŸ’¯ æ€»ç»“</h2><p>è‡³æ­¤, <strong>Markdown + Typora / VSCode</strong> çš„æ‰‹å†Œæ•™ç¨‹ä¹Ÿå‘Šä¸€æ®µè½. </p><p>ä¸çŸ¥ä½ çœ‹å®Œè¿™ä¹ˆé•¿çš„æ•™ç¨‹/æ‰‹å†Œ, æ˜¯å¦èƒ½ä½“ä¼šåˆ° Markdown çš„ç²¾å¦™ç®€æ´ä¹‹å¤„å‘¢? </p><p>å…¶å® Markdown åªæ˜¯æ ‡è®°è¯­è¨€çš„æœ€å¼€å§‹, æˆ‘çš„æ„Ÿå—æ˜¯ä¼šäº† Markdown ä¹‹åå¯¹äºç†è§£ HTML ä¹Ÿæœ‰å¸®åŠ©, å¯¹äºç”¨ $\LaTeX$ æ¥å†™è®ºæ–‡ä¹Ÿæœ‰å¸®åŠ©. æ ‡è®°è¯­è¨€æ­£æ˜¯ä¸ºäº†æ‘†è„± Word é‚£ç§è™½ç„¶â€æ‰€è§å³æ‰€å¾—â€, ä½†åˆè¿‡äºèŠ±å“¨æµ®å, å¾ˆå·®çš„å…¼å®¹æ€§ä¸é—­æºçš„ç¼–ç çš„ç¼ºé™·. å½“ä½ èƒ½æŒæ¡è¿™æ ·çš„â€æ‰€å†™å³æ‰€å¾—â€æ—¶, ä½ è‚¯å®šä¼šæ„Ÿå—åˆ°ç”¨ Markdown è¿™ç±»è¯­è¨€æ¥å¤„ç†æ–‡æœ¬çš„å¦™å¤„!</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>æ²ƒå…¹Â·åŸºÂ·ç¡•å¾· æ”¹ç¼–è‡ªã€Œå…¬é¸¡ã€æ™®å¥‘æ¶…æ‹‰.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></hexoPostRenderCodeBlock><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:1" class="footnote-text"><span>æ²ƒå…¹Â·åŸºÂ·ç¡•å¾· æ”¹ç¼–è‡ªã€Œå…¬é¸¡ã€æ™®å¥‘æ¶…æ‹‰.<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åšå®¢</tag>
      
      <tag>Markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | è´Ÿè½½å‡è¡¡ | OpenFeign</title>
    <link href="/2022/07/19/SpringCloud%20%7C%20%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%20%7C%20OpenFeign/"/>
    <url>/2022/07/19/SpringCloud%20%7C%20%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%20%7C%20OpenFeign/</url>
    
    <content type="html"><![CDATA[<div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/67isds.png"/></div><br><h1 id="OpenFeign"><a href="#OpenFeign" class="headerlink" title="OpenFeign"></a><a href="https://spring.io/projects/spring-cloud-openfeign"><font color=black>OpenFeign</font></a></h1><p><font color=orange><b>@FeignClient</b></font></p><blockquote><p> Feignæ˜¯ä¸€ä¸ªå£°æ˜å¼WebServiceå®¢æˆ·ç«¯ã€‚ä½¿ç”¨Feignèƒ½è®©ç¼–å†™Web Serviceå®¢æˆ·ç«¯æ›´åŠ ç®€å•ã€‚</p></blockquote><blockquote><p>å®ƒçš„ä½¿ç”¨æ–¹æ³•æ˜¯å®šä¹‰ä¸€ä¸ªæœåŠ¡æ¥å£ç„¶ååœ¨ä¸Šé¢æ·»åŠ æ³¨è§£ã€‚Feignä¹Ÿæ”¯æŒå¯æ‹”æ’å¼çš„ç¼–ç å™¨å’Œè§£ç å™¨ã€‚Spring Cloudå¯¹Feignè¿›è¡Œäº†å°è£…ï¼Œä½¿å…¶æ”¯æŒäº†Spring MVCæ ‡å‡†æ³¨è§£å’ŒHttpMessageConvertersã€‚ Feignå¯ä»¥ä¸Eurekaå’ŒRibbonç»„åˆä½¿ç”¨ä»¥æ”¯æŒè´Ÿè½½å‡è¡¡</p></blockquote><p>Feign æ˜¯ä¸€ä¸ªå£°æ˜å¼çš„ Web æœåŠ¡å®¢æˆ·ç«¯ï¼Œè®©ç¼–å†™ Web æœåŠ¡å®¢æˆ·ç«¯å˜å¾—éå¸¸å®¹æ˜“ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªæ¥å£å¹¶åœ¨æ¥å£ä¸ŠåŠ ä¸Šæ³¨é‡Šå°±å¯ä»¥äº†ã€‚</p><p><br><br></p><h2 id="Feignç®€ä»‹"><a href="#Feignç®€ä»‹" class="headerlink" title="Feignç®€ä»‹"></a>Feignç®€ä»‹</h2><p><font color=#2b61a7><b>Feignèƒ½å¹²ä»€ä¹ˆ</b></font><br>Feignæ—¨åœ¨ä½¿ç¼–å†™Java Httpå®¢æˆ·ç«¯å˜å¾—æ›´å®¹æ˜“ã€‚<br>å‰é¢åœ¨ä½¿ç”¨Ribbon+ RestTemplateæ—¶ï¼Œåˆ©ç”¨RestTemplateå¯¹httpè¯·æ±‚çš„å°è£…å¤„ç†ï¼Œå½¢æˆäº†ä¸€å¥—æ¨¡ç‰ˆåŒ–çš„è°ƒç”¨æ–¹æ³•ã€‚ä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­ï¼Œç”±äºå¯¹æœåŠ¡ä¾èµ–çš„è°ƒç”¨å¯èƒ½ä¸æ­¢ä¸€å¤„ï¼Œå¾€å¾€</p><p>ä¸€ä¸ªæ¥å£ä¼šè¢«å¤šå¤„è°ƒç”¨ï¼Œæ‰€ä»¥é€šå¸¸éƒ½ä¼šé’ˆå¯¹æ¯ä¸ªå¾®æœåŠ¡è‡ªè¡Œå°è£…ä¸€äº›å®¢æˆ·ç«¯ç±»æ¥åŒ…è£…è¿™äº›ä¾èµ–æœåŠ¡çš„è°ƒç”¨ã€‚æ‰€ä»¥ï¼ŒFeignåœ¨æ­¤åŸºç¡€ä¸Šåšäº†è¿›ä¸€æ­¥å°è£…ï¼Œç”±ä»–æ¥å¸®åŠ©æˆ‘ä»¬å®šä¹‰å’Œå®ç°ä¾èµ–æœåŠ¡æ¥å£çš„å®šä¹‰ã€‚åœ¨Feignçš„å®ç°ä¸‹æˆ‘ä»¬åªéœ€åˆ›å»ºä¸€ä¸ªæ¥å£å¹¶ä½¿ç”¨æ³¨è§£çš„æ–¹å¼æ¥é…ç½®å®ƒ(ä»¥å‰æ˜¯Daoæ¥å£ä¸Šé¢æ ‡æ³¨Mapperæ³¨è§£,ç°åœ¨æ˜¯ä¸€ä¸ªå¾®æœåŠ¡æ¥å£ä¸Šé¢æ ‡æ³¨Feignæ³¨è§£å³å¯ï¼Œå³å¯å®Œæˆå¯¹æœåŠ¡æä¾›æ–¹çš„æ¥å£é„‰å®šï¼Œç®€åŒ–äº†ä½¿ç”¨Spring cloud Ribbonæ—¶ï¼Œè‡ªåŠ¨å°è£…æœåŠ¡è°ƒç”¨å®¢æˆ·ç«¯çš„å¼€å‘é‡</p><p><font color=#2b61a7><b>Feigné›†æˆäº†Ribbon</b></font></p><p>åˆ©ç”¨Ribbonç»´æŠ¤äº†Paymentçš„æœåŠ¡åˆ—è¡¨ä¿¡æ¯ï¼Œå¹¶æ—¥é€šè¿‡è½®è¯¢å®ç°äº†å®¢æˆ·ç«¯çš„è´Ÿè½½å‡è¡¡ã€‚è€Œä¸Ribbonä¸åŒçš„æ˜¯ï¼Œé€šè¿‡feignåªéœ€è¦å®šä¹‰æœåŠ¡ç»‘å®šæ¥å£ä¸”ä»¥å£°æ˜å¼çš„æ–¹æ³•ï¼Œä¼˜é›…è€Œç®€å•çš„å®ç°äº†æœåŠ¡è°ƒç”¨ã€‚</p><table><thead><tr><th>Feign</th><th>OpenFeign</th></tr></thead><tbody><tr><td>Feignæ˜¯Spring Cloudç»„ä»¶ä¸­çš„ä¸€ä¸ªè½»é‡çº§RESTfulçš„HTTPæœåŠ¡å®¢æˆ·ç«¯Feignå†…ç½®äº†Ribbonï¼Œç”¨æ¥åšå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼Œå»è°ƒç”¨æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡ã€‚Feignçš„ä½¿ç”¨æ–¹å¼æ˜¯ï¼šä½¿ç”¨Feignçš„æ³¨è§£å®šä¹‰æ¥å£ï¼Œè°ƒç”¨è¿™ä¸ªæ¥å£å°±å¯ä»¥è°ƒç”¨æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡ã€‚</td><td>openFeignæ˜¯Spring Cloud åœ¨Feignçš„åŸºç¡€ä¸Šæ”¯æŒäº†SpringMVcçš„æ³¨è§£ï¼Œå¦‚@Reques Mappingç­‰ç­‰ã€‚OpenFeignçš„@ FeignClientå¯ä»¥è§£æSpringMVCçš„@RequestMappingæ³¨è§£ä¸‹çš„æ¥å£ï¼Œå¹¶é€šè¿‡åŠ¨æ€ä»£ç†çš„æ–¹å¼äº§ç”Ÿå®ç°ç±»ï¼Œå®ç°ç±»ä¸­åšè´Ÿè½½å‡è¡¡å¹¶è°ƒç”¨å…¶ä»–æœåŠ¡ã€‚</td></tr></tbody></table><br><br><h2 id="ç›¸å…³é…ç½®"><a href="#ç›¸å…³é…ç½®" class="headerlink" title="ç›¸å…³é…ç½®"></a>ç›¸å…³é…ç½®</h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-feign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>æ¥å£</strong></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentFeignService</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>ä¸»å¯åŠ¨</strong></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableFeignClients</span><span class="token comment">// ä¸»å¯åŠ¨ç±»</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p><strong>Controller</strong></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderFeignController</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Resource</span>  <span class="token keyword">private</span> <span class="token class-name">PaymentFeignService</span> paymentFeignService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> paymentFeignService<span class="token punctuation">.</span><span class="token function">getPaymentById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><blockquote><p>å…ˆå¯åŠ¨ Eureka é›†ç¾¤ 7001/7002</p><p>åœ¨å¯åŠ¨ä¸¤ä¸ªå¾®æœåŠ¡ 8001/8002</p><p>å¯åŠ¨ OpenFeign</p><p><a href="http://localhost/consumer/payment/get/31">http://localhost/consumer/payment/get/31</a></p><p>Feignè‡ªå¸¦è´Ÿè½½å‡è¡¡é…ç½®é¡¹</p></blockquote><br><br><h2 id="Feign-è¶…æ—¶æ§åˆ¶"><a href="#Feign-è¶…æ—¶æ§åˆ¶" class="headerlink" title="Feign è¶…æ—¶æ§åˆ¶"></a>Feign è¶…æ—¶æ§åˆ¶</h2><p><strong>å†™åœ¨å®¢æˆ·ç«¯</strong></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token comment">## è®¾ç½®è‚ºåŠŸèƒ½å®¢æˆ·ç«¯è¶…æ—¶æ—¶é—´ï¼ˆOpenFeign é»˜è®¤æ”¯æŒ ribbonï¼‰</span><span class="token key atrule">ribbon</span><span class="token punctuation">:</span><span class="token comment">## æŒ‡çš„æ˜¯å»ºç«‹è¿æ¥æ‰€ç”¨çš„æ—¶é—´ï¼Œé€‚ç”¨äºç½‘ç»œçŠ¶å†µæ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œä¸¤ç«¯è¿æ¥æ‰€ç”¨çš„æ—¶é—´</span><span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span> <span class="token number">5000</span><span class="token comment">## æŒ‡çš„æ˜¯å»ºç«‹è¿æ¥åä»æœåŠ¡å™¨è¯»å–åˆ°å¯ç”¨èµ„æºæ‰€ç”¨çš„æ—¶é—´</span><span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">5000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Feign-æ—¥å¿—çº§åˆ«"><a href="#Feign-æ—¥å¿—çº§åˆ«" class="headerlink" title="Feign æ—¥å¿—çº§åˆ«"></a>Feign æ—¥å¿—çº§åˆ«</h2><p><code>/config/FeignConfig</code></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">logging</span><span class="token punctuation">:</span><span class="token key atrule">level</span><span class="token punctuation">:</span><span class="token key atrule">com.xxx.xxx.service.PaymentFeignService</span><span class="token punctuation">:</span> debug<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">feign<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span>publicclass <span class="token class-name">FeignConfig</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Bean</span>  <span class="token class-name">Logger</span><span class="token punctuation">.</span>level <span class="token function">feignLoggerLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// è¯¦ç»†æ—¥å¿—</span>    <span class="token keyword">return</span> <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span><span class="token punctuation">.</span>FULL<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Sprin gCloud | æœåŠ¡è°ƒç”¨ | Ribbon</title>
    <link href="/2022/07/18/SpringCloud%20%7C%20%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%20%7C%20Ribbon/"/>
    <url>/2022/07/18/SpringCloud%20%7C%20%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%20%7C%20Ribbon/</url>
    
    <content type="html"><![CDATA[<br><h1 id="Ribbon"><a href="#Ribbon" class="headerlink" title="Ribbon"></a>Ribbon</h1><p><strong><a href="https://github.com/Netflix/ribbon"><font color=#e50815>Netflix Ribbon</font></a></strong><br></p><div style="text-align:center"><img style="width:130px;border-radius:10px" src="https://files.catbox.moe/8iv9bi.png"/></div><br><div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/q188ly.png"/></div><p>Spring Cloud Ribbonæ˜¯åŸºäºNetflix Ribbonå®ç°çš„ä¸€å¥—å®¢æˆ·ç«¯ è´Ÿè½½å‡è¡¡çš„å·¥å…·ã€‚</p><blockquote><p>ç®€å•çš„è¯´ï¼ŒRibbonæ˜¯Netflixå‘å¸ƒçš„å¼€æºé¡¹ç›®ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æä¾›å®¢æˆ·ç«¯çš„è½¯ä»¶è´Ÿè½½å‡è¡¡ç®—æ³•å’ŒæœåŠ¡è°ƒç”¨ã€‚Ribbonå®¢æˆ·ç«¯ç»„ä»¶æä¾›ä¸€ç³»åˆ—å®Œå–„çš„é…ç½®é¡¹å¦‚è¿æ¥è¶…æ—¶ï¼Œé‡è¯•ç­‰ã€‚ç®€å•çš„è¯´ï¼Œå°±æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ—å‡ºLoad Balancer(ç®€ç§°LBï¼‰åé¢æ‰€æœ‰çš„æœºå™¨ï¼ŒRibbonä¼šè‡ªåŠ¨çš„å¸®åŠ©ä½ åŸºäºæŸç§è§„åˆ™ ï¼ˆå¦‚ç®€å•è½®è¯¢ï¼Œéšæœºè¿æ¥ç­‰ï¼‰ å»è¿æ¥è¿™äº›æœºå™¨ã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“ä½¿ç”¨Ribbonå®ç°è‡ªå®šä¹‰çš„è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚</p></blockquote><p><strong><font color=#2b61a7>LB è´Ÿè½½å‡è¡¡ï¼ˆLoad Balanceï¼‰æ˜¯ä»€ä¹ˆ</font></strong></p><p>ç®€å•çš„è¯´å°±æ˜¯å°†ç”¨æˆ·çš„è¯·æ±‚å¹³æ‘Šçš„åˆ†é…åˆ°å¤šä¸ªæœåŠ¡ä¸Šï¼Œä»è€Œè¾¾åˆ°ç³»ç»Ÿçš„HAï¼ˆé«˜å¯ç”¨ï¼‰ã€‚å¸¸è§çš„è´Ÿè½½å‡è¡¡æœ‰è½¯ä»¶Nginxï¼Œ LVSï¼Œç¡¬ä»¶F5ç­‰ã€‚</p><p><font color=#2b61a7><strong>Ribbonæœ¬åœ°è´Ÿè½½å‡è¡¡å®¢æˆ·ç«¯ VS NginxæœåŠ¡ç«¯è´Ÿè½½å‡è¡¡åŒºåˆ«</strong></font><br>Nginxæ˜¯æœåŠ¡å™¨è´Ÿè½½å‡è¡¡ï¼Œå®¢æˆ·ç«¯æ‰€æœ‰è¯·æ±‚éƒ½ä¼šäº¤ç»™nginxï¼Œç„¶åç”±nginxå®ç°è½¬å‘è¯·æ±‚ã€‚å³è´Ÿè½½å‡è¡¡æ˜¯ç”±æœåŠ¡ç«¯å®ç°çš„ã€‚</p><p>Ribbonæœ¬åœ°è´Ÿè½½å‡è¡¡ï¼Œåœ¨è°ƒç”¨å¾®æœåŠ¡æ¥å£æ—¶å€™ï¼Œä¼šåœ¨æ³¨å†Œä¸­å¿ƒä¸Šè·å–æ³¨å†Œä¿¡æ¯æœåŠ¡åˆ—è¡¨ä¹‹åç¼“å­˜åˆ°JVMæœ¬åœ°ï¼Œä»è€Œåœ¨æœ¬åœ°å®ç°RPCè¿œç¨‹æœåŠ¡è°ƒç”¨æŠ€æœ¯ã€‚</p><br><br><h2 id="æ ¸å¿ƒæ€æƒ³"><a href="#æ ¸å¿ƒæ€æƒ³" class="headerlink" title="æ ¸å¿ƒæ€æƒ³"></a>æ ¸å¿ƒæ€æƒ³</h2><p><font color=Green><strong>IRule ä¸ƒå¤§ç®—æ³•</strong></font>ï¼šæ ¹æ®ç‰¹å®šç®—æ³•ä»æœåŠ¡åˆ—è¡¨ä¸­é€‰å–ä¸€ä¸ªè¦è®¿é—®çš„æœåŠ¡</p><br><table><thead><tr><th align="left">æ¥å£å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td align="left">com.netflix.loadbalancer.RoundRobinRule</td><td>è½®è¯¢</td></tr><tr><td align="left">com.netflix.loadbalancer.RandomRule</td><td>éšæœº</td></tr><tr><td align="left">com.netflix.loadbalancer.RetryRule</td><td>å…ˆæŒ‰ç…§RoundRobinRuleçš„ç­–ç•¥è·å–æœåŠ¡ï¼Œå¦‚æœè·å–æœåŠ¡å¤±è´¥åˆ™åœ¨æŒ‡å®šæ—¶é—´å†…ä¼šè¿›è¡Œé‡</td></tr><tr><td align="left">WeightedResponseTimeRule</td><td>å¯¹RoundRobinRuleçš„æ‰©å±•ï¼Œå“åº”é€Ÿåº¦è¶Šå¿«çš„å®ä¾‹é€‰æ‹©æƒé‡è¶Šå¤§ï¼Œè¶Šå®¹æ˜“è¢«é€‰æ‹©</td></tr><tr><td align="left">BestAvailableRule</td><td>ä¼šå…ˆè¿‡æ»¤æ‰ç”±äºå¤šæ¬¡è®¿é—®æ•…éšœè€Œå¤„äºæ–­è·¯å™¨è·³é—¸çŠ¶æ€çš„æœåŠ¡ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªå¹¶å‘é‡æœ€å°çš„æœåŠ¡</td></tr><tr><td align="left">Availability FilteringRule</td><td>å…ˆè¿‡æ»¤æ‰æ•…éšœå®ä¾‹ï¼Œå†é€‰æ‹©å¹¶å‘è¾ƒå°çš„å®ä¾‹</td></tr></tbody></table><br><p><strong><font color=#e50815>å®˜æ–¹æ–‡æ¡£æ˜ç¡®ç»™å‡ºäº†è­¦å‘Šï¼š</font></strong><br>è¿™ä¸ªè‡ªå®šä¹‰é…ç½®ç±»ä¸èƒ½æ”¾åœ¨<font color=#beb500>@Componentscan</font>æ‰€æ‰«æçš„å½“å‰åŒ… ä¸‹ä»¥åŠå­åŒ…ä¸‹ï¼Œå¦åˆ™æˆ‘ä»¬è‡ªå®šä¹‰çš„è¿™ä¸ªé…è›‹ç±»å°±ä¼šè¢«æ‰€æœ‰çš„Ribbonå®¢æˆ·ç«¯æ‰€å…±äº«ï¼Œè¾¾ä¸åˆ°ç‰¹æ®ŠåŒ–å®šåˆ¶çš„ç›®çš„äº†ã€‚</p><blockquote><p>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹å¤–åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œå¹¶</p></blockquote><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySelfRule</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Bean</span>  <span class="token keyword">public</span> <span class="token class-name">IRule</span> <span class="token function">myRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// å®šä¹‰ä¸ºéšæœº</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RandomRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><blockquote><p>ä¸»å¯åŠ¨ç±»</p></blockquote><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@RibbonClient</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">,</span>configuration<span class="token operator">=</span><span class="token class-name">MySelfRule</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainApplication</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MainApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br></p><h2 id="Ribbon-è´Ÿè½½å‡è¡¡ç®—æ³•"><a href="#Ribbon-è´Ÿè½½å‡è¡¡ç®—æ³•" class="headerlink" title="Ribbon è´Ÿè½½å‡è¡¡ç®—æ³•"></a>Ribbon è´Ÿè½½å‡è¡¡ç®—æ³•</h2><p><b><font color=#2b61a7>è½®è¯¢ç®—æ³•</font></b>ï¼šrest æ¥å£ç¬¬å‡ æ¬¡è¯·æ±‚æ•°%æœåŠ¡å™¨é›†ç¾¤æ€»æ•°é‡=å®é™…è°ƒç”¨æœåŠ¡å™¨ä½ç½®ä¸‹æ ‡ï¼Œæ¯æ¬¡æœåŠ¡é‡å¯å rest æ¥å£è®¡æ•°ä» 1 å¼€å§‹ã€‚</p><h5 id="æ‰‹å†™ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç®—æ³•"><a href="#æ‰‹å†™ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç®—æ³•" class="headerlink" title="æ‰‹å†™ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç®—æ³•"></a>æ‰‹å†™ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç®—æ³•</h5><p><font size=2 color=darkgray>ï¼ˆåŸç†+JUCï¼ˆCAS+è‡ªæ—‹é”çš„å¤ä¹ ï¼‰ï¼‰</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LoadBalance</span><span class="token punctuation">&#123;</span>  <span class="token class-name">ServiceInstance</span> <span class="token function">instances</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">></span></span> serviceInstances<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><br><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyLB</span> <span class="token keyword">implements</span> <span class="token class-name">LoadBalance</span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">AtomicInteger</span> atomicInteger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AtomicInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">getAndIncrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> current<span class="token punctuation">;</span>    <span class="token keyword">int</span> next<span class="token punctuation">;</span>    <span class="token keyword">do</span><span class="token punctuation">&#123;</span>      current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>atomicInteger<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      next <span class="token operator">=</span> current <span class="token operator">>=</span> <span class="token number">2147483647</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> current <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>atomicInteger<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span>next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"---next:"</span><span class="token punctuation">,</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> next<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token class-name">ServiceInstance</span> <span class="token function">instances</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">></span></span> serviceInstance<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">getAndIncrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> serviceInstance<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> serviceInstance<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">T</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// 2147483647</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p> åº”ç”¨è‡ªå·±çš„</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span><span class="token punctuation">&#123;</span><span class="token annotation punctuation">@Resource</span><span class="token keyword">private</span> <span class="token class-name">LoadBalance</span> loadBalancer<span class="token punctuation">;</span>  <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/consumer/payment/lb"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPaymentLB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token class-name">ServiceInstance</span> instances <span class="token operator">=</span> discoveryCLient<span class="token punctuation">.</span><span class="token function">getInstances</span><span class="token punctuation">(</span><span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>instances <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> instances<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>      <span class="token class-name">ServiceInstances</span> serviceInstance <span class="token operator">=</span> loadBalancer<span class="token punctuation">.</span><span class="token function">instances</span><span class="token punctuation">(</span>instances<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token class-name">URI</span> uri <span class="token operator">=</span> seviceInstances<span class="token punctuation">.</span><span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>uri<span class="token operator">+</span><span class="token string">"/payment/lb"</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æœåŠ¡æ³¨å†Œ | æ€»ç»“</title>
    <link href="/2022/07/18/SpringCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%20%7C%20%E6%80%BB%E7%BB%93/"/>
    <url>/2022/07/18/SpringCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%20%7C%20%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<br><table border='0' cellpadding='0' cellspacing='0' width='825' style='border-collapse:  collapse;table-layout:fixed;width:100%'> <col width='131' style='mso-width-source:userset;width:98.25pt'> <col width='126' style='mso-width-source:userset;width:94.5pt'> <col width='145' style='mso-width-source:userset;width:108.75pt'> <col width='148' style='mso-width-source:userset;width:111pt'> <col width='202' style='mso-width-source:userset;width:151.5pt'> <col width='73' style='width:54.75pt'> <tr height='23' style='mso-height-source:userset;height:17.6pt' id='r0'><td height='21' class='x69' width='131' style='height:16.1pt;width:98.25pt;'>ç»„ä»¶å</td><td class='x70' width='126' style='width:94.5pt;'>è¯­è¨€</td><td class='x70' width='145' style='width:108.75pt;'>æœåŠ¡å¥åº·æ£€æŸ¥</td><td class='x70' width='148' style='width:111pt;'>å¯¹å¤–æš´éœ²æ¥å£</td><td class='x70' width='202' style='width:151.5pt;'>Spring Cloud ç»§æ‰¿</td><td class='x73' width='73' style='width:54.75pt;'>CAP</td> </tr> <tr height='23' style='mso-height-source:userset;height:17.6pt' id='r1'><td height='21' class='x71' style='height:16.1pt;'>Eureka</td><td class='x72'>Java</td><td class='x72'>å¯é…æ”¯æŒ</td><td class='x72'>HTTP</td><td class='x72'>å·²é›†æˆ</td><td class='x74'>AP</td> </tr> <tr height='23' style='mso-height-source:userset;height:17.6pt' id='r2'><td height='21' class='x71' style='height:16.1pt;'>Consul</td><td class='x72'>Go</td><td class='x72'>æ”¯æŒ</td><td class='x72'>HTTP/DNS</td><td class='x72'>å·²é›†æˆ</td><td class='x74'>CP</td> </tr> <tr height='23' style='mso-height-source:userset;height:17.6pt' id='r3'><td height='21' class='x71' style='height:16.1pt;'>Zookeeper</td><td class='x72'>Java</td><td class='x72'>æ”¯æŒ</td><td class='x72'>å®¢æˆ·ç«¯</td><td class='x72'>å·²é›†æˆ</td><td class='x75'>CP</td> </tr><![if supportMisalignedColumns]> <tr height='0' style='display:none'>  <td width='131' style='width:98.25pt'></td>  <td width='126' style='width:94.5pt'></td>  <td width='145' style='width:108.75pt'></td>  <td width='148' style='width:111pt'></td>  <td width='202' style='width:151.5pt'></td>  <td width='73' style='width:54.75pt'></td> </tr> <![endif]></table><br><br><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%;border-radius:10px" src="https://files.catbox.moe/is21nr.png"  /><br><br><span style="color:darkgray">ğŸ‘†CAP æ¶æ„å›¾</span></div><br><blockquote><p>ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼šåœ¨<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/4905336">åˆ†å¸ƒå¼ç³»ç»Ÿ</a>ä¸­çš„æ‰€æœ‰æ•°æ®å¤‡ä»½ï¼Œåœ¨åŒä¸€æ—¶åˆ»æ˜¯å¦åŒæ ·çš„å€¼ã€‚ï¼ˆç­‰åŒäºæ‰€æœ‰èŠ‚ç‚¹è®¿é—®åŒä¸€ä»½æœ€æ–°çš„æ•°æ®å‰¯æœ¬ï¼‰</p><p>å¯ç”¨æ€§ï¼ˆAï¼‰ï¼šä¿è¯æ¯ä¸ªè¯·æ±‚ä¸ç®¡æˆåŠŸæˆ–è€…å¤±è´¥éƒ½æœ‰å“åº”ã€‚</p><p>åˆ†åŒºå®¹å¿æ€§ï¼ˆPï¼‰ï¼šç³»ç»Ÿä¸­ä»»æ„ä¿¡æ¯çš„ä¸¢å¤±æˆ–å¤±è´¥ä¸ä¼šå½±å“ç³»ç»Ÿçš„ç»§ç»­è¿ä½œã€‚ </p></blockquote>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æœåŠ¡æ³¨å†Œ | Consul</title>
    <link href="/2022/07/18/SpringCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%20%7C%20Zookeeper/"/>
    <url>/2022/07/18/SpringCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%20%7C%20Zookeeper/</url>
    
    <content type="html"><![CDATA[<br><h1 id="Consul"><a href="#Consul" class="headerlink" title="Consul"></a>Consul</h1><div><div style="width:100%;height:85px;background:#eef7fa;border-radius:10px;text-align:center;padding:22px 0px;"><div><a href="https://learn.hashicorp.com/consul" style="font-size:24px;margin-right:15px"><b>å®˜ç½‘</b></a></div></div><div style="margin:5px 0;width:100%;height:85px;background:#eef7fa;border-radius:10px;text-align:center;padding:22px 0px;"><div><a href="https://www.springcloud.cc/spring-cloud-consul.html" style="font-size:24px;margin-right:15px"><b>ä¸­æ–‡ç½‘</b></a></div></div></div><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><strong><font color=orange>Go è¯­è¨€</font>å¼€å‘çš„</strong></p><ul><li>æœåŠ¡æ³¨å†Œä¸å‘ç°</li><li>å¥åº·æ£€æŸ¥</li><li>KV å­˜å‚¨</li><li>å¤šæ•°æ®ä¸­å¿ƒ</li><li>å¯è§†åŒ– Web ç•Œé¢</li></ul><p><strong>xml.dependency</strong></p><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-stater-consul-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><br><p><strong>application.yml</strong></p><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> consul<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>payment  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>  <span class="token key atrule">consul</span><span class="token punctuation">:</span>  <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost  <span class="token key atrule">prot</span><span class="token punctuation">:</span> <span class="token number">8500</span>  <span class="token key atrule">discovery</span><span class="token punctuation">:</span>  <span class="token key atrule">service-name</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>spring.applicatioin.name<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æœåŠ¡æ³¨å†Œ | Zookeeper</title>
    <link href="/2022/07/18/SrpingCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%20%7C%20Zookeeper/"/>
    <url>/2022/07/18/SrpingCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%20%7C%20Zookeeper/</url>
    
    <content type="html"><![CDATA[<div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/1ajd1n.png"/></div><br><h1 id="Zookeeper"><a href="#Zookeeper" class="headerlink" title="Zookeeper"></a>Zookeeper</h1><br><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><ul><li>ä¸»å¯åŠ¨</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token comment">// ä¸»å¯åŠ¨</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Run</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">mian</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Run</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>pom.xml</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- pom.xml --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-stater-zookeeper-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>excludsions</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>application.yml</li></ul><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">application</span><span class="token punctuation">:</span><span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>payment<span class="token key atrule">cloud</span><span class="token punctuation">:</span><span class="token key atrule">zookeeper</span><span class="token punctuation">:</span><span class="token key atrule">connect-string</span><span class="token punctuation">:</span> IP<span class="token punctuation">:</span>ç«¯å£<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æŠ¥é”™-æœåŠ¡å™¨ä¸jaråŒ…ç‰ˆæœ¬ä¸ä¸€è‡´"><a href="#æŠ¥é”™-æœåŠ¡å™¨ä¸jaråŒ…ç‰ˆæœ¬ä¸ä¸€è‡´" class="headerlink" title="æŠ¥é”™ | æœåŠ¡å™¨ä¸jaråŒ…ç‰ˆæœ¬ä¸ä¸€è‡´"></a>æŠ¥é”™ | æœåŠ¡å™¨ä¸jaråŒ…ç‰ˆæœ¬ä¸ä¸€è‡´</h2> <div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-stater-zookeeper-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>excludsions</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.4.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Zookeeper-æœåŠ¡å™¨"><a href="#Zookeeper-æœåŠ¡å™¨" class="headerlink" title="Zookeeper æœåŠ¡å™¨"></a>Zookeeper æœåŠ¡å™¨</h2><ul><li>ä¸´æ—¶èŠ‚ç‚¹</li><li>å¸¦åºå·çš„ä¸´æ—¶èŠ‚ç‚¹</li><li>æŒä¹…èŠ‚ç‚¹</li><li>å¸¦åºå·çš„æŒä¹…èŠ‚ç‚¹</li></ul><p>ä¸€å®šæ—¶é—´å†…å¦‚æœå­˜åœ¨åˆ™ä¿ç•™ï¼Œå¦åˆ™å°±åˆ é™¤ã€‚</p><h4 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuraton</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>  <span class="token annotation punctuation">@LoadBalanced</span>  <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getRestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderZKController</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> INVOKE_URL<span class="token operator">=</span><span class="token string">"htt o://cloud-provider-payment"</span><span class="token punctuation">;</span>  <span class="token annotation punctuation">@Resource</span>  <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>      <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/zk"</span><span class="token punctuation">)</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> result <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>INVOKE_URL<span class="token operator">+</span><span class="token string">"/payment/zk"</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | æœåŠ¡æ³¨å†Œ | Eureka</title>
    <link href="/2022/07/18/SrpingCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%20%7C%20Eureka/"/>
    <url>/2022/07/18/SrpingCloud%20%7C%20%E6%9C%8D%E5%8A%A1%E6%B3%A8%E5%86%8C%20%7C%20Eureka/</url>
    
    <content type="html"><![CDATA[<div style="text-align:center"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/ey90qe.png"/></div><br><h1 id="Eureka"><a href="#Eureka" class="headerlink" title="Eureka"></a>Eureka</h1><br><blockquote><h3 id="Eureka-åŒ…æ‹¬ä¸¤ä¸ªç»„ä»¶ï¼ˆC-S-æ¶æ„-ç±»ä¼¼äºæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ï¼‰"><a href="#Eureka-åŒ…æ‹¬ä¸¤ä¸ªç»„ä»¶ï¼ˆC-S-æ¶æ„-ç±»ä¼¼äºæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ï¼‰" class="headerlink" title="Eureka åŒ…æ‹¬ä¸¤ä¸ªç»„ä»¶ï¼ˆC/S æ¶æ„ ç±»ä¼¼äºæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ï¼‰"></a>Eureka åŒ…æ‹¬ä¸¤ä¸ªç»„ä»¶ï¼ˆC/S æ¶æ„ ç±»ä¼¼äºæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ï¼‰</h3></blockquote><blockquote><p><strong>Eureka Server <font color=red>æä¾›æœåŠ¡æ³¨å†ŒæœåŠ¡</font></strong><br>å„ä¸ªå¾®æœåŠ¡èŠ‚ç‚¹é€šè¿‡é…ç½®å¯åŠ¨åï¼Œä¼šåœ¨Eureka Serverä¸­è¿›è¡Œæ³¨å†Œï¼Œè¿™æ ·Eureka Serverä¸­çš„æœåŠ¡æ³¨å†Œè¡¨ä¸­å°†ä¼šå­˜å‚¨æ‰€æœ‰å¯ç”¨æœåŠ¡èŠ‚ç‚¹çš„ä¿¡æ¯ï¼ŒæœåŠ¡èŠ‚ç‚¹çš„ä¿¡æ¯å¯ä»¥åœ¨ç•Œé¢ä¸­ç›´è§‚çœ‹åˆ°ã€‚</p></blockquote><blockquote><p><strong>Eureka Client <font color=red>é€šè¿‡æ³¨å†Œä¸­å¿ƒè¿›è¡Œè®¿é—®</font></strong><br>æ˜¯ä¸ªJavaå®¢æˆ·ç«¯ï¼Œç”¨äºç®€åŒ– Eureka Server çš„äº¤äº’ï¼Œå®¢æˆ·ç«¯åŒæ—¶ä¹Ÿå…·å¤‡ä¸ªå†…ç½®çš„ã€ä½¿ç”¨è½®è¯¢(round-robin)è´Ÿè½½ç®—æ³•çš„è´Ÿè½½å‡è¡¡å™¨åœ¨åº”ç”¨å¯åŠ¨åï¼Œå°†ä¼šå‘Eureka Serverå‘é€å¿ƒè·³(é»˜è®¤å‘¨æœŸä¸º30ç§’ï¼‰ã€‚å¦‚æœEureka Serveråœ¨å¤šä¸ªå¿ƒè·³å‘¨æœŸå†…æ²¡æœ‰æ¥æ”¶åˆ°æŸä¸ªèŠ‚ç‚¹çš„å¿ƒè·³ï¼ŒEureka Serverå°†ä¼šä»æœåŠ¡æ³¨å†Œè¡¨ä¸­æŠŠè¿™ä¸ªæœåŠ¡èŠ‚ç‚¹ç§»é™¤ï¼ˆé»˜è®¤90ç§’ï¼‰ã€‚</p></blockquote><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-eureka-server --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å›¾å½¢ç›‘æ§https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web  --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="å•æœºéƒ¨ç½²-Eureka"><a href="#å•æœºéƒ¨ç½²-Eureka" class="headerlink" title="å•æœºéƒ¨ç½² Eureka"></a>å•æœºéƒ¨ç½² Eureka</h2><p><strong>Eureka Server</strong></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaServer</span> <span class="token comment">// è®¾ç½®ä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒ EurekaServer</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CloudEurekaServer7001Application</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">CloudEurekaServer7001Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¯åŠ¨æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost  <span class="token comment">#eurekaæœåŠ¡ç«¯çš„å®ä¾‹åå­—</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token comment">#è¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±</span>    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>   <span class="token comment">#è¡¨ç¤ºè‡ªå·±å°±æ˜¯æ³¨å†Œä¸­å¿ƒï¼ŒèŒè´£æ˜¯ç»´æŠ¤æœåŠ¡å®ä¾‹ï¼Œå¹¶ä¸éœ€è¦å»æ£€ç´¢æœåŠ¡</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token comment">#è®¾ç½®ä¸eureka serveräº¤äº’çš„åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">&#123;</span>eureka.instance.hostname<span class="token punctuation">&#125;</span><span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>server.port<span class="token punctuation">&#125;</span>/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>Eureka Client</strong></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CloudConsumerFeignHystrixOrder80Application</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">CloudConsumerFeignHystrixOrder80Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¯åŠ¨æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#æ˜¯å¦å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±</span>    <span class="token key atrule">fetchRegistry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#æ˜¯å¦ä»æ³¨å†Œä¸­å¿ƒæŠ“å–å·²æœ‰çš„æ³¨å†Œä¿¡æ¯ é»˜è®¤trueï¼Œé›†ç¾¤å¿…é¡»è®¾ç½®ä¸ºtrue</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token comment">#      è®¾ç½®ä¸eureka serveräº¤äº’çš„åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€</span>      <span class="token comment">#      defaultZone: http://localhost:7001/eureka #å•æœºç‰ˆ</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka  <span class="token comment">#é›†ç¾¤ç‰ˆ</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> payment8001    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment">#è®¿é—®è·¯å¾„å¯ä»¥æ˜¾ç¤ºIPåœ°å€</span><span class="token comment">#    Eurekaå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å¿ƒè·³çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’(é»˜è®¤æ˜¯30ç§’)</span><span class="token comment">#    lease-renewal-interval-in-seconds: 1</span><span class="token comment">#    EurekaæœåŠ¡ç«¯åœ¨æ”¶åˆ°æœ€åä¸€æ¬¡å¿ƒè·³åç­‰å¾…æ—¶é—´ä¸Šé™ï¼Œå•ä½ä¸ºç§’(é»˜è®¤æ˜¯90ç§’)ï¼Œè¶…æ—¶å°†å‰”é™¤æœåŠ¡</span><span class="token comment">#    lease-expiration-duration-in-seconds: 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¤šæœåŠ¡å™¨"><a href="#å¤šæœåŠ¡å™¨" class="headerlink" title="å¤šæœåŠ¡å™¨"></a>å¤šæœåŠ¡å™¨</h3><p><strong>ç›¸äº’å®ˆæœ› äº’ç›¸æ³¨å†Œ</strong></p><br><br><h2 id="æœåŠ¡å‘ç°-Discovery"><a href="#æœåŠ¡å‘ç°-Discovery" class="headerlink" title="æœåŠ¡å‘ç° Discovery"></a>æœåŠ¡å‘ç° Discovery</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">discovery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> serives <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getServices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> element <span class="token operator">:</span> services<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"****element:"</span><span class="token operator">+</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">></span></span> instances <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getInstances</span><span class="token punctuation">(</span><span class="token string">"CLOUD_PAYMENT_SERVICE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">ServiceInstance</span> instance <span class="token operator">:</span> instances<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span><span class="token function">getServiceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">getPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>discoveryClient<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableEurekaClient</span> <span class="token comment">// å¯åŠ¨æœåŠ¡å‘ç°</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Run</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Eureka-è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶"><a href="#Eureka-è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶" class="headerlink" title="Eureka è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶"></a>Eureka è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶</h2><blockquote><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3></blockquote><blockquote><p>ï¼ˆé»˜è®¤å¼€å¯ï¼‰ä¿æŠ¤æ¨¡å¼ä¸»è¦ç”¨äºä¸€ç»„å®¢æˆ·ç«¯å’ŒEureka Serverä¹‹é—´å­˜åœ¨ç½‘ç»œåˆ†åŒºåœºæ™¯ä¸‹çš„ä¿æŠ¤ï¼Œä¸€æ—¦è¿›å…¥ä¿æŠ¤æ¨¡å¼ï¼Œ<font color=red><strong>Eureka Serverå°†ä¼šå°è¯•ä¿æŠ¤å…¶æœåŠ¡æ³¨å†Œè¡¨ä¸­çš„ä¿¡æ¯ï¼Œä¸å†åˆ é™¤æœåŠ¡æ³¨æœ‹è¡¨ä¸­çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šæ³¨é”€ä»»ä½•å¾®æœåŠ¡ã€‚</strong></font></p></blockquote><blockquote><p>æŸæ—¶åˆ»æŸä¸€ä¸ªå¾®æœåŠ¡ä¸å¯ç”¨äº†ï¼ŒEureka ä¸ä¼šç«‹åˆ»æ¸…ç†ï¼Œä¾æ—§ä¼šå¯¹æ”¹ä¸ºæœåŠ¡çš„ä¿¡æ¯è¿›è¡Œä¿å­˜ã€‚</p><p>å±äº CAP é‡Œé¢çš„ AP åˆ†æ”¯ã€‚</p></blockquote><p>ä¸ºäº†æ–¹å¼ EurekaClient å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯ä¸ EurekaServer ç½‘ç»œä¸åŒæƒ…å†µä¸‹ï¼ŒEurekaServer ä¸ä¼šç«‹åˆ»åˆ é™¤è¯¥æœåŠ¡ã€‚</p><p><font color=green>é»˜è®¤åˆ é™¤æ—¶é—´ä¸º 90 ç§’ã€‚</font></p><h3 id="å¦‚ä½•å…³é—­è‡ªæˆ‘ä¿æŠ¤"><a href="#å¦‚ä½•å…³é—­è‡ªæˆ‘ä¿æŠ¤" class="headerlink" title="å¦‚ä½•å…³é—­è‡ªæˆ‘ä¿æŠ¤"></a>å¦‚ä½•å…³é—­è‡ªæˆ‘ä¿æŠ¤</h3> <div class="code-wrapper"><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶å…³é—­</span><span class="token attr-name">eureka.server.enable-self-preservation</span><span class="token punctuation">=</span><span class="token attr-value">false</span><span class="token attr-name">eureka.server.eviction-interval-timer-in-ms</span><span class="token punctuation">=</span><span class="token attr-value">2000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># Eureka å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å¿ƒè·³çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼ˆé»˜è®¤ 30 ç§’ï¼‰</span><span class="token attr-name">eureka.instance.lease-renewal-interval-in-seconds</span><span class="token punctuation">=</span><span class="token attr-value">1</span><span class="token comment"># Eureka æœåŠ¡ç«¯åœ¨æ”¶åˆ°æœ€åä¸€æ¬¡å¿ƒè·³åç­‰å¾…æ—¶é—´ä¸Šçº¿ï¼Œå•ä½ä¸ºç§’ï¼ˆé»˜è®¤ 90 ç§’ï¼‰è¶…æ—¶åˆ™å‰”é™¤æœåŠ¡</span><span class="token attr-name">eureka.instance.lease-expiration-duration-in-seconds</span><span class="token punctuation">=</span><span class="token attr-value">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¯»ä¹¦ç¬”è®° | ç‹å°æ³¢ | é»„é‡‘æ—¶ä»£</title>
    <link href="/2022/07/17/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%8E%8B%E5%B0%8F%E6%B3%A2-%E9%BB%84%E9%87%91%E6%97%B6%E4%BB%A3-1/"/>
    <url>/2022/07/17/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%8E%8B%E5%B0%8F%E6%B3%A2-%E9%BB%84%E9%87%91%E6%97%B6%E4%BB%A3-1/</url>
    
    <content type="html"><![CDATA[<div style="width:100%"><div style="border:1px solid #eae6e6;padding:40px 10px;border-radius:15px;width:50%;text-align:center;margin:0 26%"><img src="https://files.catbox.moe/u27hf7.png" style="width:80%;box-shadow:0 0 25px #050505;border-radius:15px"/></div><div><p><br><br><br></p><h2 id="å¯¹ã€Œç‹å°æ³¢ã€çš„ç¬¬ä¸€å°è±¡"><a href="#å¯¹ã€Œç‹å°æ³¢ã€çš„ç¬¬ä¸€å°è±¡" class="headerlink" title="å¯¹ã€Œç‹å°æ³¢ã€çš„ç¬¬ä¸€å°è±¡"></a>å¯¹ã€Œç‹å°æ³¢ã€çš„ç¬¬ä¸€å°è±¡</h2><p>â€‹    æˆ‘æ˜¯ååˆ†å–œæ¬¢ä½™åçš„ï¼Œæˆ‘å–œæ¬¢è¿™ç§æ•…äº‹é£æ ¼ï¼Œå°½ç®¡ç°åœ¨å¯èƒ½ä¼šè¢«å½’ä¸ºæ›´åŠ æ½®æµçš„ã€ŒBEã€ä¸€è¯ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯è¦è¯´ä½™åå†™çš„ä¹¦æ˜¯ã€Œä½™åé£æ ¼ã€ã€‚</p><p>â€‹    æˆ‘ä¸æ€ä¹ˆä¹¦è’ï¼Œå› ä¸ºæˆ‘ä¸æ€ä¹ˆçœ‹ä¹¦ï¼Œæˆ‘åªçœ‹æˆ‘å–œæ¬¢çš„ä½œè€…çš„ä¹¦ï¼Œä½†ä¹Ÿä¼šå¶å°”åˆ·åˆ·ä¹¦åœˆï¼Œæ—¶é•¿ä¼šæœ‰äººæåˆ°ä¸€ä¸ªå«ã€Œç‹å°æ³¢ã€çš„ä½œè€…ï¼Œå¹¶ä¸”æˆ‘çŸ¥é“ä»–å†™è¿‡ä¸€æœ¬ä¹¦å«ã€Šä¸€åªç‰¹ç«‹ç‹¬è¡Œçš„çŒªã€‹ï¼Œæˆ‘åº”è¯¥æ˜¯æ²¡çœ‹è¿‡è¿™æœ¬ä¹¦çš„ï¼Œä½†æ˜¯çœ‹åå­—æ€»è®©æˆ‘ä¸ç”±å¾—ä¸ã€Šç”·ç”Ÿ/å¥³ç”Ÿæ—¥è®°ã€‹è¿™ä¸€ç±»ä¹¦ç±è”ç³»åˆ°ä¸€èµ·ï¼ˆå› ä¸ºå¾ˆå°çš„æ—¶å€™åœ¨æ–°åä¹¦åº—çœ‹åˆ°ã€Šå¥³ç”Ÿæ—¥è®°ã€‹æ—è¾¹æ”¾ç€ä¸€æœ¬ã€Šä»€ä¹ˆä»€ä¹ˆçŒªã€‹çš„ä¹¦ï¼‰ï¼ŒåŠ ä¸Šã€Œç‹å°æ³¢ã€ä¸‰ä¸ªå­—ï¼Œæ€»è§‰å¾—å¾ˆç°ä»£ï¼Œè€Œã€Šé»„é‡‘æ—¶ä»£ã€‹å¶å°”ä¹Ÿä¼šè¢«æˆ‘é”™è¯¯ç†è§£æˆã€Šå°æ—¶ä»£ã€‹â€¦å› æ­¤å°è±¡é‡Œç‹å°æ³¢æ˜¯ä¸€ä½å¹´è½»çš„ä½œå®¶ï¼Œå¯èƒ½è·Ÿéƒ­æ•¬æ˜æ¯”è¾ƒåƒï¼Œä¹Ÿè®¸å†™è¿‡å‡ æœ¬éƒ½å¸‚è¨€æƒ…ï¼Œæ¯”è¾ƒæ”¶å‰²å¹´è½»å°‘å¥³ç²‰è¿™æ ·çš„äººã€‚</p><p>â€‹    ç›´åˆ°å‰ä¸€æ®µæ—¶é—´çœ‹å®Œä½™å¤§çˆ·çš„ã€Šæ–‡åŸã€‹ï¼Œæˆ‘ä¹¦è’äº†ï¼Œå¾ˆçªç„¶çš„ä¹Ÿå¾ˆä¸ç»å¸¸å‡ºç°äº†ä¸€æ¬¡ä¹¦è’ï¼Œå¯¹ä½™å¤§çˆ·åˆçˆ±åˆæ¨ï¼Œçˆ±ä»–çš„å­—ï¼Œæ¨ä»–ä¸ºä»€ä¹ˆä¸å¤šå†™ä¸€äº›ã€‚</p><p>â€‹    ç»ˆäºä»Šå¤©è·Ÿæœ‹å‹é€›è¡—çš„æ—¶å€™ï¼Œå»äº†ä¸€è¶Ÿä¹¦åº—ï¼ˆæˆ‘ä»¬ä¸‰ä¸ªå¤§ç”·äººé€›è¡—å®åœ¨æ— èŠäº†ï¼Œå°±å»ä¹¦åº—é‡Œå¹ç©ºè°ƒäº†ï¼‰ï¼Œæœ‹å‹æ¨èæˆ‘çœ‹ä¸€ä¸‹ã€Šé»„é‡‘æ—¶ä»£ã€‹ï¼Œæ—¢ç„¶æ— æ•°äººæåˆ°ç‹å°æ³¢ï¼Œé‚£ä¹ˆæˆ‘ä¹Ÿå†³å®šè®¤è¯†ä¸€ä¸‹ç‹å°æ³¢ã€‚</p><p>â€‹    ç”¨äº†ä¸€ä¸‹åˆæ—¶é—´ï¼Œçœ‹å®Œäº†ã€Šé»„é‡‘æ—¶ä»£ã€‹ï¼Œæˆ‘çœ‹ä¹¦ææ…¢ï¼Œä¸€æœ¬ä¹¦ä¸ä¼šå»è¯»ç¬¬äºŒéï¼Œä½†æ˜¯ç²¾å½©çš„éƒ¨åˆ†æˆ‘é€šå¸¸åå¤é˜…è¯»ï¼Œæ™¦æ¶©çš„éƒ¨åˆ†ä¹Ÿä¼šåå¤æ¨æ•²ã€ç¢ç£¨ï¼Œä¸­é—´ç”šè‡³ç”¨åˆ°äº†ä¸€æ¬¡ç™¾åº¦ç™¾ç§‘ï¼ˆå› ä¸ºæŸä¸ªè¯è¯­æ¶‰åŠåˆ°äº†æˆ‘çš„çŸ¥è¯†ç›²åŒºï¼Œå¯ä»¥çŒœçŒœæ˜¯å“ªä¸ªåœ°æ–¹ï¼‰è¯»å®Œä¹‹åä¾¿çˆ±ä¸Šäº†ç‹å°æ³¢ã€‚</p><h2 id="å¯¹ã€Œé»„é‡‘æ—¶ä»£ã€çš„å°è±¡"><a href="#å¯¹ã€Œé»„é‡‘æ—¶ä»£ã€çš„å°è±¡" class="headerlink" title="å¯¹ã€Œé»„é‡‘æ—¶ä»£ã€çš„å°è±¡"></a>å¯¹ã€Œé»„é‡‘æ—¶ä»£ã€çš„å°è±¡</h2><p>â€‹    è¿™æ˜¯ä¸€æœ¬å¾ˆæ¸©æŸ”çš„ä¹¦ï¼Œå¯¹è¯»è€…æ¸©æŸ”ï¼Œè¿™å¹¶ä¸æ˜¯ä½™åæˆç§°çš„é‚£ç§ã€Œå› ä¸ºè¯†å­—å°‘ï¼Œæ‰€ä»¥æˆ‘çš„æ–‡å­—å¾ˆå®¹æ˜“ç†è§£ã€çš„æ¸©æŸ”ï¼Œè€Œæ˜¯å¦‚æ²æ˜¥é£èˆ¬çš„é˜…è¯»ä½“éªŒï¼Œç‹å°æ³¢æ˜¯é€ ç‰©ä¸»ï¼Œä»–å®Œç¾çš„åˆ›é€ äº†ç‹äºŒä¸é™ˆæ¸…æ‰¬çš„å‘½è¿ï¼Œå¹¶ä¸”ç”¨æ–‡å­—è¡¨è¾¾äº†å‡ºæ¥ï¼›ä»–å°±åƒæ˜¯å°†æ¯ä¸€ä¸ªæ–‡å­—éƒ½å®‰æ’çš„æ°åˆ°å¥½å¤„ä¸€èˆ¬ï¼Œè®©è¯»è€…æ²‰æµ¸å…¶ä¸­ï¼Œå‡ ä¹æ„è¯†ä¸åˆ°è¿™æ˜¯ä¸€æœ¬å°è¯´ã€‚</p><h2 id="å¯¹ã€Œé»„é‡‘æ—¶ä»£ã€çš„ç†è§£"><a href="#å¯¹ã€Œé»„é‡‘æ—¶ä»£ã€çš„ç†è§£" class="headerlink" title="å¯¹ã€Œé»„é‡‘æ—¶ä»£ã€çš„ç†è§£"></a>å¯¹ã€Œé»„é‡‘æ—¶ä»£ã€çš„ç†è§£</h2><p>â€‹    æ—¶ä»£èƒŒæ™¯ä¸‹çš„ç‹äºŒä¸é™ˆæ¸…æ‰¬äºŒäººçš„çˆ±ï¼Œæ„‰å¿«çš„çˆ±ï¼Œæ¬¢å¿«çš„çˆ±ï¼Œé™ˆæ¸…æ‰¬å› ä¸ºç‹äºŒçš„ä¸€ç•ªè¯´è¾ï¼ˆåœ¨æˆ‘çœ‹æ¥åƒæ˜¯éª—æœ¯ï¼‰ï¼Œä¾¿è®¤å¯äº†ç‹äºŒä¼Ÿå¤§çš„å‹æƒ…ï¼Œéšååœ¨ç‹äºŒ 21 å²ç”Ÿæ—¥è¿™ä¸€å¤©ï¼Œç»“æŸäº†ç‹äºŒçš„ç«¥å­èº«ã€‚</p><p>â€‹    ä»ç¬¬ä¸€æ¬¡å¤œé—´çš„å±±ä¸Šï¼Œé™ˆæ¸…æ‰¬æ˜¯å†·å†°å†°çš„ï¼Œå¥¹åŒæ‰‹æ•ç€å¤´ï¼Œä¸€å£°ä¸å­çš„çœ‹ç€ç‹äºŒã€åˆ°ç‹äºŒè¢«å¯¡å¦‡é”¤ï¼Œå¥¹å“­è‚¿äº†åŒçœ¼è·‘ä¸‹å±±ï¼Œå¤§å–Šç€â€œä½ è¦æ˜¯ç˜«äº†ï¼Œæˆ‘å…»ä½ ä¸€è¾ˆå­â€ã€å†åˆ°å»å±±ä¸Šçš„è‰å±‹çœ‹ç‹äºŒã€å†åˆ°ä¸¤äººä¸€èµ·é€ƒã€å†å›æ¥ã€ç‹äºŒè¢«è°ƒå›åŸé‡Œåšäº†è€å¸ˆï¼Œé™ˆæ¸…æ‰¬åšäº†é™¢é•¿ã€åŒ—äº¬çš„æ—…é¦†å†æ¬¡æ•¦ã€ä¼Ÿå¤§çš„å‹æƒ…ã€ã€‚</p><p>â€‹    ä¸ç‹äºŒçš„åˆæ¬¡ï¼Œé™ˆæ¸…æ‰¬æ˜¯æ²¡æœ‰çˆ±çš„ï¼Œå…´è®¸å¥¹åªæ˜¯æƒ³ç”¨è¿™ç§æç«¯çš„æ–¹å¼å»æ‰“ç ´ã€Œç ´é‹ã€çš„è°£è¨€ï¼ˆé€šè¿‡è®©è°£è¨€å˜æˆäº‹å®æ¥æ‰“ç ´è°£è¨€ï¼‰ï¼Œåˆæˆ–è€…å¥¹çœŸçš„å› ä¸ºåç‰¢çš„ä¸ˆå¤«è€Œå¯‚å¯éš¾è€ï¼Œåˆæˆ–è€…å› ä¸ºå¥¹çœŸçš„æ˜¯ä¸ºäº†æ•¦â€œä¼Ÿå¤§çš„å‹æƒ…â€ï¼Œå¥¹å®šæ˜¯ä¸çˆ±ç‹äºŒçš„ï¼Œéšç€ä¸ç‹äºŒçš„ç›¸å¤„ï¼Œå¥¹çˆ±ä¸Šäº†ç‹äºŒï¼Œæ–‡ä¸­å¯¹æ­¤æœ‰ä¸‰å¤„æè¿°ï¼š</p><blockquote><ol><li>é™ˆæ¸…æ‰¬åœ¨ä¸ç‹äºŒã€Œæ•¦ä¼Ÿå¤§å‹æƒ…ã€çš„æ—¶å€™ï¼Œç‹äºŒç¨³äº†å¥¹çš„è„šå¿ƒï¼Œé‚£ä¸€åˆ»å¥¹æ‰­è¿‡å¤´ï¼Œä¹Œé»‘çš„å¤´å‘ç›–ä½äº†å¥¹çš„è„¸ï¼Œç‹äºŒæ‹¨å¼€å¥¹å¤´å‘ï¼Œè§å¥¹å“­çš„ä¸è¡Œï¼Œè€Œå¥¹ã€Œæ‹…å¿ƒè‡ªå·±ä¼šçˆ±åˆ«äººï¼Œæ‹…å¿ƒè‡ªå·±ä¼šçˆ±ä¸Šç‹äºŒã€</li><li>èƒŒæ™¯çš„é¥­åº—é‡Œï¼Œé™ˆæ¸…æ‰¬æ­£åœ¨ç†Ÿç¡ï¼Œç‹äºŒè½»è½»è§£å¼€å¥¹çš„å†…è¡£ï¼Œå¥¹é†’äº†ï¼Œä»¥ä¸ºç‹äºŒè¦åšä»€ä¹ˆï¼Œè°çŸ¥é“ç‹äºŒåªæ˜¯å»äº†å¥¹çš„è‚šè„ï¼Œé‚£ä¸€åˆ»å¥¹å“å¾—ä¸è¡Œï¼Œå› ä¸ºå¥¹ã€Œå‡ ä¹å°±çˆ±ä¸Šä»–äº†ã€ã€‚</li><li>åŒ—äº¬çš„ç«è½¦ç«™ï¼Œé™ˆæ¸…æ‰¬å¦‚å®çš„å‘Šè¯‰äº†ç‹äºŒé‚£ã€Œæœ€åä¸€ä»½ææ–™ã€ä¸­çš„å†…å®¹ï¼Œé‚£å°±æ˜¯å› ä¸ºåœ¨çˆ¬å±±æ—¶ï¼Œç‹äºŒæŠ±ç€å¥¹æ‹äº†ä¸¤ä¸‹å¥¹çš„å±è‚¡ï¼Œè®©å¥¹å½»åº•çˆ±ä¸Šäº†ç‹äºŒï¼Œåœ¨é‚£ä¹‹å‰ç‹äºŒç·æ±¡çš„æ˜¯å¥¹çš„èº«ä½“ï¼Œä»é‚£ä¸€åˆ»å¼€å§‹ç‹äºŒç·æ±¡äº†å¥¹çš„å¿ƒã€‚</li></ol></blockquote><p>â€‹    ç‹å°æ³¢ç”¨äº† 10 å¹´æ—¶é—´ï¼Œå†™äº†è¿™æœ¬ä¹¦ï¼Œä½†æ˜¯ç”±äºæ—¶ä»£èƒŒæ™¯ï¼Œè¿™æœ¬ä¹¦æœ¬åº”è¯¥è¢«æ”¹åä¸ºã€Œç‹äºŒçš„é£æµå¾€äº‹ã€ï¼Œä¸”å½’ä¸ºå°é»„ä¹¦çš„é‚£ä¸€ç±»ï¼Œä½†æ˜¯ç‹å°æ³¢ä¸åŒæ„ï¼Œä»–å¾ˆç”Ÿæ°”ã€‚</p><p>â€‹    è¿™æœ¬ä¹¦æœ€èƒ½è¡¨ç°çš„æ˜¯ç‹å°æ³¢å¯¹äºã€Œæ€§ä¸çˆ±ã€çš„è‚¯å®šã€‚</p><p>â€‹    é™ˆæ¸…æ‰¬æ˜¯çŸ›ç›¾çš„ï¼Œå½“å¥¹ç¬¬ä¸€æ¬¡è·‘åˆ°å±±ä¸Šçš„èŒ…å±‹å»çœ‹ç‹äºŒï¼Œå´çœ‹åˆ°ä»–ä¸€ä¸ä¸æŒ‚éœ²ç€ä»–çš„ã€Œå°å’Œå°šã€ï¼Œå¥¹ç”Ÿæ°”äº†ï¼Œå¥¹åŒæ¶ï¼Œå¥¹çš„ç™½å¤§è¤‚åº•ä¸‹ä¸€ä¸ä¸æŒ‚çš„æ¥åˆ°è¿™é‡Œï¼Œå´çœ‹åˆ°è¿™ä¹ˆä¸‘é™‹çš„å®¶ä¼™ï¼Œå¥¹æ˜¯è®¨åŒè¿™ä¸ªä¸œè¥¿çš„ï¼Œå› ä¸ºåœ¨ä¸ä¸ˆå¤«ä½åœ¨ä¸€èµ·çš„æ¯ä¸€ä¸ªå¤œæ™šï¼Œéƒ½æœ‰ä¸€ä¸ªè¿™æ ·çš„ä¸œè¥¿è¿›å…¥è‡ªå·±çš„èº«ä½“ã€‚</p><p>â€‹    é™ˆæ¸…æ‰¬å¹¶ä¸å–œæ¬¢è‡ªå·±çš„ä¸ˆå¤«ï¼Œå¥¹å¯¹ä¸ä¸ˆå¤«ä¹‹é—´çš„ã€Œæ€§ã€æ— æ„Ÿï¼Œç”šè‡³ä¼šå¿ƒç”ŸåŒæ¶ï¼Œç”±æ­¤å¸¦æ¥çš„æ˜¯å¯¹ã€Œå°å’Œå°šã€çš„åæ„Ÿï¼›ä½†æ˜¯å¥¹å´èƒ½æ¥æ”¶ç‹äºŒï¼Œçˆ±ä¸Šç‹äºŒï¼Œå¥¹ä¸ç‹äºŒçš„ç›¸å¤„æ–¹å¼ä»¤äººæ„Ÿåˆ°è½»æ¾é¢„çº¦ï¼Œä¸¤ä¸ªäººæ— æ—¶æ— åˆ»ä¸åœ¨ã€Œæ•¦å‹è°Šã€ï¼Œåœ¨åå±±ã€åœ¨èŒ…å±‹ã€åœ¨æ ‘ä¸‹ã€åœ¨æ²³è¾¹ã€åœ¨ç‹äºŒå¿«è¢«å†»æ­»çš„å¤œé‡Œã€åœ¨åˆ˜å¤§çˆ¹çš„å®¶ä¸­â€¦.å¥¹äº«å—è¿™ç§è¿‡ç¨‹ï¼Œå¥¹ä¼šåœ¨æ¯æ¬¡â€œå‡ºå…¬å·®ï¼ˆè¢«æ‰¹æ–—ä¸ºç ´é‹ï¼‰â€ç»“æŸçš„æ—¶å€™è¿«ä¸åŠå¾…çš„æ•¦å‹è°Šã€ä¼šåœ¨ç‹äºŒå¿«å†»æ­»æ—¶ä¸ºç‹äºŒæš–èº«å­è€Œæ•¦å‹è°Šã€‚</p><hr><p>â€‹    ç¤¾é‡Œçš„å¥³äººä»¬å–œæ¬¢ç§°å‘¼ä¸æ˜¯ç ´é‹çš„äººä¸ºç ´é‹ï¼Œåˆä¸å–œæ¬¢å«çœŸçš„ç ´é‹ä¸ºç ´é‹ï¼Œå› æ­¤äººä»¬æ€»è¯´é™ˆæ¸…æ‰¬æ˜¯ç ´é‹ï¼Œé™ˆæ¸…æ‰¬ä¸ç‹äºŒæç ´é‹åï¼Œä»–ä»¬åˆä¸è¯´äº†ï¼Œå¥¹ä»¬çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆï¼Œè€Œé™ˆæ¸…æ‰¬ä¼šæœ‰æ­¤è¡Œä¸ºä¸â€œå¥¹ä»¬ï¼ˆç¤¾é‡Œçš„å¥³äººä»¬ï¼‰â€è„±ä¸å¼€å…³ç³»ã€‚</p><p>â€‹    é™ˆæ¸…æ‰¬çš„æ€åº¦ä¸€ç›´æ˜¯å¾ˆåšå†³çš„ï¼Œå¥¹è‡ªå·±æ²¡æœ‰ç½ªå­½ï¼Œè¿™ä¹Ÿæ˜¯ç‹å°æ³¢æƒ³è¡¨è¾¾çš„æ„æ€ã€‚åœ¨ä¸ˆå¤«å…¥ç‹±æ—¶ï¼Œå¥¹åšå®ˆä½äº†è‡ªå·±çš„è´æ´ï¼Œæˆä¸ºäº†â€œå¥½å¥³äººâ€ï¼ˆä½†æ˜¯å´è¢«äººæˆ³è„Šæ¢éª¨å«ç ´é‹ï¼‰ï¼Œä¸ç‹äºŒçš„å…³ç³»ï¼Œæ›´åƒæ˜¯å…±æ‚£éš¾çš„å¤«å¦»ï¼ˆè‡³å°‘åœ¨ç‹äºŒå›åŒ—äº¬ä¹‹å‰æ˜¯è¿™æ ·ï¼‰ï¼Œä¸¤ä¸ªäººä¸€èµ·é¢å¯¹å›°éš¾ï¼Œä¸€èµ·é¢å¯¹äººè®¾å±€ï¼Œä¸€èµ·é€ƒï¼Œå¥¹ä¼šä¸ºç‹äºŒä¹°çŒæªè€Œæ‹…å¿ƒï¼ˆç‹äºŒåªæ˜¯æƒ³æ‰“ä¸ªé¸­å­ç½¢äº†ï¼‰ï¼Œä¼šå› ä¸ºç‹äºŒæœ‰å¯èƒ½ç˜«ç—ªè€Œå¤§å“­ã€‚</p><p>â€‹    åœ¨ç‹äºŒè¢«é”¤äº†è…°çš„æ—¶å€™ï¼Œé™ˆæ¸…æ‰¬çš„å“­æ˜¯å¤§èƒ†çš„ï¼Œå¥¹æ²¡æœ‰ç«™åœ¨äººç¾¤ä¸­å‡è£…ä¸åœ¨ä¹ï¼Œä¹Ÿæ²¡æœ‰ä»…ä»…ä½œä¸ºåŒ»ç”Ÿä¸ºç‹äºŒæ²»ç—…ï¼Œå¥¹çš„å“­ï¼Œè®©äººä»¬çŸ¥é“äº†å¥¹çœŸçš„æ˜¯ã€Œç ´é‹ã€ï¼Œå¥¹æ‰¿è®¤äº†ä¸ç‹äºŒçš„å…³ç³»ï¼Œç›¸æ¯”äºè‡ªå·±æ˜¯ä¸æ˜¯ç ´é‹ï¼Œå¥¹æ›´å…³å¿ƒçš„æ˜¯ç‹äºŒçš„èº«ä½“ã€‚</p><hr><p>â€‹    é™ˆæ¸…æ‰¬æ˜¯æ²¡æœ‰ç½ªå­½çš„ï¼Œç‹å°æ³¢å€Ÿé™ˆæ¸…æ‰¬çš„å˜´è¯´å‡ºäº†ä»–æƒ³è¯´çš„è¯ï¼Œåœ¨é‡åˆ°ç‹äºŒä¹‹å‰ï¼Œå¥¹ä»æœªå–œæ¬¢è¿‡æ€§ï¼Œé‡åˆ°ç‹äºŒä¹‹åï¼Œå¥¹çœŸçš„å¾ˆå–œæ¬¢è¿™ç§æ„Ÿè§‰ã€‚</p><hr><p>â€‹    æ•¦å‹è°Šï¼Œå‹è°Šåˆ°åº•æ˜¯ä»€ä¹ˆï¼Œæ–‡ä¸­å¤šæ¬¡æåˆ°äº†é™ˆæ¸…æ‰¬çš„å­¤ç‹¬ï¼Œã€Œåœ¨å±±å·æ²³æµä¹‹é—´ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªäººï¼ˆç‹äºŒï¼‰å­˜åœ¨ï¼Œé‚£å¥¹è¯¥æ˜¯å¤šä¹ˆå­¤ç‹¬å¯‚å¯å•Šã€‚ã€</p><p>â€‹    å¯¹äºé™ˆæ¸…æ‰¬æ¥è¯´ï¼Œç‹äºŒæ˜¯å¥¹çš„æœ‹å‹ï¼Œæ˜¯å¯‚å¯æ˜¯çš„æ¶ˆé£ï¼Œæ˜¯é’æ˜¥æ—¶æœŸçš„ç–¯ç‹‚ï¼Œæ˜¯é»„é‡‘æ—¶ä»£çš„ç©ä¼´ã€‚</p><p>â€‹    ä¸¤ä¸ªäººä¹‹é—´çš„æ€§ï¼Œä»¿ä½›å¾ˆçº¯ç²¹ã€å¾ˆå¹²å‡€ã€å¾ˆå•è°ƒä½†æ˜¯å¾ˆæµªæ¼«ã€‚</p><p>â€‹    åœ¨é™ˆæ¸…æ‰¬åˆ°åŒ—äº¬ä¹‹åï¼Œä¸¤ä¸ªäººåˆè§é¢äº†ï¼Œé™ˆæ¸…æ‰¬å¸¦ç€é‡‘ä¸æ¡†çœ¼é•œï¼Œç©¿ç€è–„è£™å­ï¼Œåƒæ˜¯å…¬å¸éª¨å¹²ï¼Œä½†æ˜¯ç‹äºŒè¿˜æ˜¯é‚£å‰¯æµæ°“ç›¸ï¼Œå°±åƒæ˜¯é™ˆæ¸…æ‰¬è¯´çš„ã€Œä»–å˜ä¸å¥½äº†ã€ã€‚</p><p>â€‹    é»„é‡‘æ—¶ä»£æ˜¯äººä¸€ç”Ÿæœ€ç¾å¥½çš„æ—¶é—´æ®µï¼Œåœ¨è¿™ä¸ªç¾å¥½çš„æ—¶é—´æ®µä¸­ï¼Œä¸¤ä¸ªäººäº’ç›¸ç›¸é‡ï¼Œæœ€ååšäº†ä¸€ç³»åˆ—ç–¯ç‹‚çš„ä¸è¢«æ—¶ä»£èƒŒæ™¯æ¥æ”¶çš„è¡Œä¸ºã€‚</p><p>â€‹    </p><hr><p>â€‹    çŸ¥ä¹åˆæœ‰ç§è§£è¯»è¯´ï¼šæˆ‘ä»¬æ¯ä¸ªäººéƒ½æ˜¯æ—¶ä»£çš„ç‹äºŒï¼Œåªä¸è¿‡å¤§å¤šæ•°éƒ½æ²¡æœ‰é‡åˆ°é™ˆæ¸…æ‰¬ï¼Œè€Œæ˜¯ï¼š</p><blockquote><p>é‚£ä¸€å¤©æˆ‘äºŒåä¸€å²ï¼Œåœ¨æˆ‘ä¸€ç”Ÿçš„é»„é‡‘æ—¶ä»£ã€‚æˆ‘æœ‰å¥½å¤šå¥¢æœ›ã€‚æˆ‘æƒ³çˆ±ï¼Œæƒ³åƒï¼Œè¿˜æƒ³åœ¨ä¸€ç¬é—®å˜æˆå¤©ä¸ŠåŠæ˜åŠæš—çš„äº‘ã€‚åæ¥æˆ‘æ‰çŸ¥é“ï¼Œç”Ÿæ´»å°±æ˜¯ä¸ªç¼“æ…¢å—é”¤çš„è¿‡ç¨‹ï¼Œäººä¸€å¤©å¤©è€ä¸‹å»ï¼Œå¥¢æœ›ä¹Ÿä¸€å¤©å¤©æ¶ˆå¤±ï¼Œæœ€åå˜å¾—åƒæŒ¨äº†é”¤çš„ç‰›ä¸€æ ·ã€‚å¯æ˜¯æˆ‘è¿‡äºŒåä¸€å²ç”Ÿæ—¥æ—¶æ²¡æœ‰é¢„è§åˆ°è¿™ä¸€ç‚¹ã€‚æˆ‘è§‰å¾—è‡ªå·±ä¼šæ°¸è¿œç”ŸçŒ›ä¸‹å»ï¼Œä»€ä¹ˆä¹Ÿé”¤ä¸äº†æˆ‘ã€‚</p></blockquote><p>â€‹    </p>]]></content>
    
    
    <categories>
      
      <category>è¯»ä¹¦ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¯»ä¹¦ç¬”è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åšå®¢ | æµ‹è¯• Hexo-Fluid-Netlify çš„åå°ç¼–è¾‘åŠŸèƒ½</title>
    <link href="/2022/07/16/%E5%8D%9A%E5%AE%A2-%E6%B5%8B%E8%AF%95-hexo-fluid-netlify-%E7%9A%84%E5%90%8E%E5%8F%B0%E7%BC%96%E8%BE%91%E5%8A%9F%E8%83%BD/"/>
    <url>/2022/07/16/%E5%8D%9A%E5%AE%A2-%E6%B5%8B%E8%AF%95-hexo-fluid-netlify-%E7%9A%84%E5%90%8E%E5%8F%B0%E7%BC%96%E8%BE%91%E5%8A%9F%E8%83%BD/</url>
    
    <content type="html"><![CDATA[<div style="background:#dfdfe3;width:100%;height:50px;border-radius:15px;text-align:center"><div style="margin-top:5px;padding:13px"><span><b>è¿™æ˜¯ä¸€æ®µHTML</b></span></div></div><h2 id="è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜"><a href="#è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜" class="headerlink" title="è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜"></a>è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜</h2><ul><li>è¿™æ˜¯ä¸€ä¸ªå°æ ‡</li></ul><h2 id="è¡¨æ ¼ï¼š"><a href="#è¡¨æ ¼ï¼š" class="headerlink" title="è¡¨æ ¼ï¼š"></a>è¡¨æ ¼ï¼š</h2><table><thead><tr><th>è¡¨å¤´</th><th>è¡¨å¤´</th></tr></thead><tbody><tr><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td></tr><tr><td>å•å…ƒæ ¼</td><td>å•å…ƒæ ¼</td></tr></tbody></table><p>è¡¨æ ¼æœ‰é—®é¢˜</p><blockquote><p>123<br>1212343</p></blockquote><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/usyuct.png"  /><br><br><span style="color:darkgray">ğŸ‘†åšå®¢æˆªå›¾</span></div><br>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åšå®¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸­é—´ä»¶ | FastDFS</title>
    <link href="/2022/07/15/%E4%B8%AD%E9%97%B4%E4%BB%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6%20%7C%20FastDFS/"/>
    <url>/2022/07/15/%E4%B8%AD%E9%97%B4%E4%BB%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6%20%7C%20FastDFS/</url>
    
    <content type="html"><![CDATA[<h1 id="åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ-FastDFS"><a href="#åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ-FastDFS" class="headerlink" title="åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ FastDFS"></a>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ FastDFS</h1><br><div style="width:100%;height:85px;background:#eef7fa;border-radius:10px;text-align:center;padding:22px 0px;"><div><img style="width:25px;border-radius:5px;margin:0 10px  9px 0" src="https://files.catbox.moe/2u957r.png"/><a href="https://github.com/happyfish100/fastdfs" style="font-size:24px;margin-right:15px"><b>Github</b></a></div></div><br><h2 id="1-åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿåº”ç”¨åœºæ™¯"><a href="#1-åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿåº”ç”¨åœºæ™¯" class="headerlink" title="1. åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿåº”ç”¨åœºæ™¯"></a>1. åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿåº”ç”¨åœºæ™¯</h2><p>äº’è”ç½‘æµ·é‡éç»“æ„åŒ–æ•°æ®çš„å­˜å‚¨éœ€æ±‚</p><ul><li>ç”µå•†ç½‘ç«™ï¼šæµ·é‡å•†å“å›¾ç‰‡</li><li>è§†é¢‘ç½‘ç«™ï¼šæµ·é‡è§†é¢‘æ–‡ä»¶</li><li>ç½‘ç›˜ï¼šæµ·é‡æ–‡ä»¶</li><li>ç¤¾äº¤ç½‘ç«™ï¼šæµ·é‡å›¾ç‰‡</li></ul><p><br><br></p><h2 id="2-FastDFS-ä»‹ç»"><a href="#2-FastDFS-ä»‹ç»" class="headerlink" title="2.FastDFS ä»‹ç»"></a>2.FastDFS ä»‹ç»</h2><h3 id="2-1-ç®€ä»‹"><a href="#2-1-ç®€ä»‹" class="headerlink" title="2.1 ç®€ä»‹"></a>2.1 ç®€ä»‹</h3><p>â€‹    FastDFSæ˜¯ä¸€ä¸ªå¼€æºçš„é«˜æ€§èƒ½åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ (DFSï¼‰ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼šæ–‡ä»¶å­˜å‚¨ï¼Œæ–‡ä»¶åŒæ­¥å’Œæ–‡ä»¶è®¿é—®ï¼Œä»¥åŠé«˜å®¹é‡å’Œè´Ÿè½½å¹³è¡¡ã€‚ä¸»è¦è§£å†³äº†æµ·é‡æ•°æ®å­˜å‚¨é—®é¢˜ï¼Œç‰¹åˆ«é€‚åˆä»¥ä¸­å°æ–‡ä»¶ï¼ˆå»ºè®®èŒƒå›½ï¼š4KB &lt; file_size&lt;500MBï¼‰ ä¸ºè½½ä½“çš„åœ¨çº¿æœåŠ¡ã€‚<br>â€‹    FastDFSè®¾è®¡æ˜¯ç”¨æ¥å­˜å‚¨å°æ–‡ä»¶çš„ï¼Œè¿‡å¤§çš„æ–‡ä»¶å¤„ç†æ–¹æ¡ˆæ˜¯æ‹†åˆ†ä¸ºå°æ–‡ä»¶ï¼Œå¯è·Ÿè¸ªå°æ–‡ä»¶çš„ä¸Šä¼ æƒ…å†µã€‚å¦‚æœåº”ç”¨åœºæ™¯éƒ½æ˜¯å¤„ç†å¤§æ–‡ä»¶ï¼Œå¯èƒ½é€‰æ‹©å…¶ä»–åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿæ–¹æ¡ˆä¼šæ›´åˆé€‚ã€‚</p><br><h3 id="2-2-ç‰¹æ€§"><a href="#2-2-ç‰¹æ€§" class="headerlink" title="2.2 ç‰¹æ€§"></a>2.2 ç‰¹æ€§</h3><p>FastDFSä¸ºäº’è”ç½‘é‡èº«å®šåˆ¶ï¼Œå……åˆ†è€ƒè™‘äº†å†—ä½™å¤‡ä»½ã€è´Ÿè½½æ„è¡¡ã€çº¿æ€§æ‰©å®¹ç­‰æœºåˆ¶ï¼Œå¹¶æ³¨é‡é«˜å¯ç”¨ã€é«˜æ€§èƒ½ç­‰æŒ‡æ ‡ï¼Œä½¿ç”¨FastDFSå¾ˆå®¹æ˜“æ­<br>å»ºä¸€å¥—é«˜æ€§èƒ½çš„æ–‡ä»¶æœåŠ¡å™¨é›†ç¾¤æä¾›æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ç­‰æœåŠ¡ã€‚<br><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li><p>æ–‡ä»¶ä¸åˆ†å—å­˜å‚¨ï¼Œæ–‡ä»¶å’Œç³»ç»Ÿä¸­çš„æ–‡ä»¶å¯¹åº”ã€‚</p></li><li><p>å¯¹æ–‡ä»¶å†…å®¹åšhashå¤„ç†ï¼Œé¿å…å‡ºç°é‡å¤æ–‡ä»¶ï¼ŒèŠ‚çº¦ç£ç›˜ç©ºé—´ã€‚</p></li><li><p>ä¸‹è½½æ–‡ä»¶æ”¯æŒHTTPåè®®ï¼Œå¯åŸºäºå†…ç½®WebServeræˆ–å¤–éƒ¨Web Serverã€‚</p></li><li><p>æ”¯æŒåœ¨çº¿æ‰©å®¹ï¼ŒåŠ¨æ€æ·»åŠ å·ã€‚</p></li><li><p>æ”¯æŒæ–‡ä»¶å†—ä½™å¤‡ä»½å’Œè´Ÿè½½å‡è¡¡ã€‚</p></li><li><p>å­˜å‚¨æœåŠ¡å™¨ä¸Šå¯ä»¥ä¿å­˜æ–‡ä»¶å±æ€§ (meta-data)v2.0ç½‘ç»œé€šä¿¡é‡‡ç”¨ibeventï¼Œæ”¯æŒå¤§å¹¶å‘è®¿é—®ï¼Œæ•´ä½“æ€§èƒ½æ›´å¥½ã€‚</p></li></ul><p><strong>ç¼ºç‚¹</strong></p><ul><li>ç›´æ¥æŒ‰æ–‡ä»¶å­˜å‚¨ï¼Œå¯ç›´æ¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œç¼ºä¹æ–‡ä»¶å®‰å…¨æ€§ã€‚</li><li>æ•°æ®åŒæ­¥æ— æ ¡éªŒï¼Œå­˜åœ¨é™é»˜1å£é—®é¢˜ï¼Œé™ä½ç³»ç»Ÿå¯ç”¨æ€§ã€‚</li><li>å•çº¿ç¨‹æ•°æ®åŒæ­¥ï¼Œä»…é€‚åˆå­˜å‚¨å°æ–‡ä»¶ ï¼ˆ4KBåˆ°500MBä¹‹é—´ï¼‰ã€‚</li><li>å¤‡ä»½æ•°æ ¹æ®å­˜å‚¨åˆ†å·ï¼ˆåˆ†ç»„ï¼‰å†³å®šï¼Œç¼ºä¹æ–‡ä»¶å¤‡ä»½æ•°è®¾ç½®çµæ´»æ€§ã€‚</li><li>å•ä¸ªæŒ‚è½½ç‚¹å¼‚å¸¸ä¼šå¯¼è‡´æ•´ä¸ªå­˜å‚¨èŠ‚ç‚¹ä¸‹çº¿ã€‚</li><li>ç¼ºä¹å¤šæœºæˆ¿å®¹ç¾æ”¯æŒã€‚</li><li>é™æ€çš„è´Ÿè½½å‡è¡¡æœºåˆ¶ã€‚</li></ul><p>ä¼˜ç‚¹ä¸ç¼ºç‚¹å¹¶å­˜ï¼Œä½†é’ˆå¯¹ä¸­å°å‹ç³»ç»Ÿå·²ç»å®Œå…¨è¶³å¤Ÿä½¿ç”¨äº†ã€‚</p><br><h3 id="2-3-è§’è‰²"><a href="#2-3-è§’è‰²" class="headerlink" title="2.3 è§’è‰²"></a>2.3 è§’è‰²</h3><ul><li>Tracker serverï¼šè·Ÿè¸ªæœåŠ¡å™¨ï¼Œä¸»è¦åšè°ƒåº¦å·¥ä½œï¼Œèµ·åˆ°å‡è¡¡çš„ä½œç”¨;è´Ÿè´£ç®¡ç†æ‰€æœ‰çš„storageserverå’Œ groupï¼Œæ¯ä¸ªstorage åœ¨å¯åŠ¨åä¼šè¿æ¥ Trackerï¼Œå‘ŠçŸ¥è‡ªå·±æ‰€å± group ç­‰ä¿¡æ¯ï¼Œå¹¶ä¿æŒå‘¨æœŸæ€§å¿ƒè·³ã€‚</li><li>storage serverï¼šå­˜å‚¨æœåŠ¡å™¨ï¼Œä¸»è¦æä¾›å®¹é‡å’Œå¤‡ä»½æœåŠ¡ï¼›ä»¥group ä¸ºå•ä½ï¼Œæ¯ä¸ªgroupå†…å¯ä»¥æœ‰å¤šå° storage server, æ•°æ®äº’ä¸ºå¤‡ä»½ã€‚</li><li>Clientï¼šå®¢æˆ·ç«¯ï¼Œä¸Šä¼ ä¸‹è½½æ•°æ®çš„æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®æ‰€éƒ¨ç½²åœ¨çš„æœåŠ¡å™¨ã€‚</li></ul><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/quiwiq.png"  /><br><br><span style="color:darkgray">ğŸ‘†FastDFS æ¶æ„å›¾</span></div><br>]]></content>
    
    
    <categories>
      
      <category>ä¸­é—´ä»¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java | åˆ·é¢˜ |</title>
    <link href="/2022/07/13/Java%20%7C%20%E5%88%B7%E9%A2%98/J%20%7C%20/"/>
    <url>/2022/07/13/Java%20%7C%20%E5%88%B7%E9%A2%98/J%20%7C%20/</url>
    
    <content type="html"><![CDATA[<h2 id="Java-åˆ·é¢˜"><a href="#Java-åˆ·é¢˜" class="headerlink" title="Java | åˆ·é¢˜ |"></a>Java | åˆ·é¢˜ |</h2><hr>]]></content>
    
    
    <categories>
      
      <category>Java | åˆ·é¢˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java | åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java | åˆ·é¢˜ | æ¥å£</title>
    <link href="/2022/07/13/Java%20%7C%20%E5%88%B7%E9%A2%98/J%20%7C%20%E6%8E%A5%E5%8F%A3/"/>
    <url>/2022/07/13/Java%20%7C%20%E5%88%B7%E9%A2%98/J%20%7C%20%E6%8E%A5%E5%8F%A3/</url>
    
    <content type="html"><![CDATA[<h2 id="Java-åˆ·é¢˜-æ¥å£"><a href="#Java-åˆ·é¢˜-æ¥å£" class="headerlink" title="Java | åˆ·é¢˜ | æ¥å£"></a>Java | åˆ·é¢˜ | æ¥å£</h2><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">interface</span> <span class="token class-name">Action</span><span class="token punctuation">&#123;</span>      <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Hero</span> <span class="token keyword">implements</span> <span class="token class-name">Action</span><span class="token punctuation">&#123;</span>  <span class="token comment">//â€¦â€¦  &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p><strong>æ¥å£æ–¹æ³•é»˜è®¤æ˜¯public abstractçš„ï¼Œä¸”å®ç°è¯¥æ¥å£çš„ç±»ä¸­å¯¹åº”çš„æ–¹æ³•çš„å¯è§æ€§ä¸èƒ½å°äºæ¥å£æ–¹æ³•çš„å¯è§æ€§ã€‚</strong></p>]]></content>
    
    
    <categories>
      
      <category>Java | åˆ·é¢˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java | åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MySQL | åˆ·é¢˜ç¬”è®°</title>
    <link href="/2022/07/13/MySQL/MySQL%20%7C%20%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/07/13/MySQL/MySQL%20%7C%20%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p><br><br><br></p><h2 id="MySQL-ï¼ˆå¤šä¸ªï¼‰æ¡ä»¶åˆ¤æ–­-OR"><a href="#MySQL-ï¼ˆå¤šä¸ªï¼‰æ¡ä»¶åˆ¤æ–­-OR" class="headerlink" title="MySQL | ï¼ˆå¤šä¸ªï¼‰æ¡ä»¶åˆ¤æ–­ | OR"></a>MySQL | ï¼ˆå¤šä¸ªï¼‰æ¡ä»¶åˆ¤æ–­ | OR</h2><hr><br><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><p><strong>OR</strong></p><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT &#96;device_id&#96;,&#96;gender&#96;,&#96;age&#96;,&#96;university&#96;,&#96;gpa&#96; FROM user_profileWHERE &#96;university&#96;&#x3D;&#39;åŒ—äº¬å¤§å­¦&#39; OR &#96;university&#96;&#x3D;&#39;å¤æ—¦å¤§å­¦&#39; OR &#96;university&#96;&#x3D;&#39;å±±ä¸œå¤§å­¦&#39; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><br><h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><p><strong>IN</strong></p><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT device_id,gender,age,university,gpaFROM user_profileWHERE university IN (&quot;åŒ—äº¬å¤§å­¦&quot;,&quot;å¤æ—¦å¤§å­¦&quot;,&quot;å±±ä¸œå¤§å­¦&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><br><h3 id="æ–¹æ³•ä¸‰"><a href="#æ–¹æ³•ä¸‰" class="headerlink" title="æ–¹æ³•ä¸‰"></a>æ–¹æ³•ä¸‰</h3><p><strong>FIND_IN_SET</strong></p><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select device_id,gender,age,university,gpafrom user_profilewhere find_in_set(university,&#39;åŒ—äº¬å¤§å­¦,å¤æ—¦å¤§å­¦,å±±ä¸œå¤§å­¦&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p><br><br><br></p><h2 id="MySQL-å»é‡"><a href="#MySQL-å»é‡" class="headerlink" title="MySQL | å»é‡"></a>MySQL | å»é‡</h2><hr><br><h3 id="æ–¹æ³•ä¸€-1"><a href="#æ–¹æ³•ä¸€-1" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><p><strong>DISTINCT</strong></p><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT DISTINCT university from user_profile;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><br><h3 id="æ–¹æ³•äºŒ-1"><a href="#æ–¹æ³•äºŒ-1" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><p><strong>GROUP BY</strong></p><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT university from user_profile GROUP BY university;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><br><br><br></p><h2 id="MySQL-é€šé…ç¬¦"><a href="#MySQL-é€šé…ç¬¦" class="headerlink" title="MySQL | é€šé…ç¬¦"></a>MySQL | é€šé…ç¬¦</h2><br><h3 id="åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦"><a href="#åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦" class="headerlink" title="åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ | _"></a>åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ | _</h3><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT * FROM å­¦ç”Ÿè¡¨ WHERE name LIKE &#39;å¼ __&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æŸ¥è¯¢ç»“æœï¼š</p><p>âœ…å¼ ä¸‰ä¸‰</p><p>âŒå¼ ä¸‰</p><p>âŒå¼ ä¸‰å››äº”</p><br><h3 id="åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦"><a href="#åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦" class="headerlink" title="åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ | %"></a>åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ | %</h3><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT * FROM å­¦ç”Ÿè¡¨ WHERE å§“å LIKE &#39;å¼ %&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>âœ…å¼ ä¸‰ä¸‰</p><p>âœ…å¼ ä¸‰</p><p>âœ…å¼ ä¸‰å››äº”</p><br><h3 id="åŒ¹é…-ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦-è‹¥è¦æ¯”è¾ƒçš„å­—ç¬¦æ˜¯è¿ç»­çš„ï¼Œåˆ™å¯ä»¥ç”¨è¿å­—ç¬¦â€œ-â€è¡¨-è¾¾"><a href="#åŒ¹é…-ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦-è‹¥è¦æ¯”è¾ƒçš„å­—ç¬¦æ˜¯è¿ç»­çš„ï¼Œåˆ™å¯ä»¥ç”¨è¿å­—ç¬¦â€œ-â€è¡¨-è¾¾" class="headerlink" title="åŒ¹é…[ ]ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦(è‹¥è¦æ¯”è¾ƒçš„å­—ç¬¦æ˜¯è¿ç»­çš„ï¼Œåˆ™å¯ä»¥ç”¨è¿å­—ç¬¦â€œ-â€è¡¨ è¾¾ )"></a>åŒ¹é…[ ]ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦(è‹¥è¦æ¯”è¾ƒçš„å­—ç¬¦æ˜¯è¿ç»­çš„ï¼Œåˆ™å¯ä»¥ç”¨è¿å­—ç¬¦â€œ-â€è¡¨ è¾¾ )</h3><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT * FROM å­¦ç”Ÿè¡¨ WHERE å§“å LIKE &#39;[å¼ æåˆ˜]%â€™<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>//æŸ¥è¯¢å­¦ç”Ÿè¡¨ä¸­å§“â€˜å¼ â€™ã€å§“â€˜æâ€™å’Œå§“â€˜åˆ˜â€™çš„å­¦ç”Ÿçš„æƒ…å†µã€‚</p><p>âœ…å¼ ä¸‰ä¸‰</p><p>âœ…æå››</p><p>âœ…åˆ˜ä¸‰å››äº”</p><p>âŒç‹å…­</p><br><br><h3 id="ä¸åŒ¹é…ä»»ä½•ä¸€ä¸ª"><a href="#ä¸åŒ¹é…ä»»ä½•ä¸€ä¸ª" class="headerlink" title="ä¸åŒ¹é…ä»»ä½•ä¸€ä¸ª | [^]"></a>ä¸åŒ¹é…ä»»ä½•ä¸€ä¸ª | [^]</h3><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT * FROM å­¦ç”Ÿè¡¨ WHERE å­¦å· LIKE &#39;[^å¼ æåˆ˜]%&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>âŒå¼ ä¸‰ä¸‰</p><p>âŒæå››</p><p>âŒåˆ˜ä¸‰å››äº”</p><p>âœ…ç‹å…­</p><p><br><br><br></p><h2 id="MySQL-æ’åº"><a href="#MySQL-æ’åº" class="headerlink" title="MySQL | æ’åº"></a>MySQL | æ’åº</h2><hr><br><h3 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h3><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ename,sal from emp order by sal desc; æ‰‹åŠ¨æŒ‡å®šæŒ‰ç…§è–ªæ°´ç”±å¤§åˆ°å°æ’åºï¼ˆé™åºå…³é”®å­—descï¼‰  select ename,sal from emp order by sal asc; æ‰‹åŠ¨æŒ‡å®šæŒ‰ç…§è–ªæ°´ç”±å°åˆ°å¤§æ’åºï¼ˆå‡åºå…³é”®å­— ascï¼‰ PSï¼šæ­¤å¤„descæ˜¯descendçš„ç¼©å†™ï¼Œ ç”¨æ³•ï¼šselect * from è¡¨ order by å­—æ®µ desc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><h3 id="è¡¥å……-æŸ¥çœ‹è¡¨ç»“æ„"><a href="#è¡¥å……-æŸ¥çœ‹è¡¨ç»“æ„" class="headerlink" title="è¡¥å…… | æŸ¥çœ‹è¡¨ç»“æ„"></a>è¡¥å…… | æŸ¥çœ‹è¡¨ç»“æ„</h3><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">desc table_nameï¼› PSï¼šæ­¤å¤„descæ˜¯describeçš„ç¼©å†™ï¼Œç”¨æ³•ï¼š desc è¡¨å&#x2F;æŸ¥è¯¢è¯­å¥ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><br><h3 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h3><p>ç°æ ¹æ®gpaæ’åºï¼Œåæ ¹æ®ageé™åº</p><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select device_id, gpa, age from user_profileorder by gpa asc, age desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><br><br><br><h2 id="è¿‡æ»¤ç©ºå€¼çš„ä¸‰ç§æ–¹æ³•ï¼š"><a href="#è¿‡æ»¤ç©ºå€¼çš„ä¸‰ç§æ–¹æ³•ï¼š" class="headerlink" title="è¿‡æ»¤ç©ºå€¼çš„ä¸‰ç§æ–¹æ³•ï¼š"></a>è¿‡æ»¤ç©ºå€¼çš„ä¸‰ç§æ–¹æ³•ï¼š</h2><ul><li><p>WHERE åˆ—å is not null</p></li><li><p>WHERE åˆ—å != â€˜nullâ€™</p></li><li><p>WHERE åˆ—å &lt;&gt; â€˜nullâ€™</p></li></ul><br><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql"># NOT NULLSELECT device_id,gender,age,university FROM user_profile where age is not NULL  # æ­£åˆ™SELECT device_id,gender,age,university FROM user_profile where age &lt;&gt;&#39;null&#39; # æ¯”è¾ƒSELECT device_id,gender,age,university FROM user_profile where age !&#x3D;&#39;null&#39; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | çƒ­éƒ¨ç½²</title>
    <link href="/2022/07/12/SrpingCloud%20%7C%20%E7%83%AD%E9%83%A8%E7%BD%B2/"/>
    <url>/2022/07/12/SrpingCloud%20%7C%20%E7%83%AD%E9%83%A8%E7%BD%B2/</url>
    
    <content type="html"><![CDATA[<br><h2 id="Springboot-çƒ­éƒ¨ç½²"><a href="#Springboot-çƒ­éƒ¨ç½²" class="headerlink" title="Springboot çƒ­éƒ¨ç½²"></a>Springboot çƒ­éƒ¨ç½²</h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fork</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fork</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>addResources</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>addResources</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><code>Setting-build-Compiler</code></p><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/zz67fs.png"  /><br><br><span style="color:darkgray">ğŸ‘†Setting-build-Compiler</span></div><br>]]></content>
    
    
    <categories>
      
      <category>SpringBoot</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
      <tag>SpringBoot</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€SpringCloudã€‘ å…¥é—¨ç¬”è®° | 02 | æ”¯ä»˜æ¨¡å—</title>
    <link href="/2022/07/10/SpringCloud%20%7C%2002%20%7C%20%E6%94%AF%E4%BB%98%E6%A8%A1%E5%9D%97/"/>
    <url>/2022/07/10/SpringCloud%20%7C%2002%20%7C%20%E6%94%AF%E4%BB%98%E6%A8%A1%E5%9D%97/</url>
    
    <content type="html"><![CDATA[<br><h1 id="ã€SpringCloudã€‘-å…¥é—¨ç¬”è®°-02-æ”¯ä»˜æ¨¡å—"><a href="#ã€SpringCloudã€‘-å…¥é—¨ç¬”è®°-02-æ”¯ä»˜æ¨¡å—" class="headerlink" title="ã€SpringCloudã€‘ å…¥é—¨ç¬”è®° | 02 | æ”¯ä»˜æ¨¡å—"></a>ã€SpringCloudã€‘ å…¥é—¨ç¬”è®° | 02 | æ”¯ä»˜æ¨¡å—</h1><p><br><br>      </p><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><ol><li> New Maven Project</li><li>èšåˆæ€»çˆ¶å·¥ç¨‹åå­—</li><li>Maven é€‰ç‰ˆæœ¬</li><li>å·¥ç¨‹åå­—</li><li>å­—ç¬¦ç¼–ç </li><li>æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»</li><li>Java ç¼–è¯‘ç‰ˆæœ¬é€‰æ‹©</li><li>File Type è¿‡æ»¤</li></ol><p><br><br></p><h2 id="åˆ›å»ºå¾®æœåŠ¡æ¨¡å—"><a href="#åˆ›å»ºå¾®æœåŠ¡æ¨¡å—" class="headerlink" title="åˆ›å»ºå¾®æœåŠ¡æ¨¡å—"></a>åˆ›å»ºå¾®æœåŠ¡æ¨¡å—</h2><ol><li>å»º module</li><li>æ”¹ POM</li><li>å†™ YML</li><li>ä¸»å¯åŠ¨</li><li>ä¸šåŠ¡ç±»</li></ol><h3 id="Maven-pom-xml"><a href="#Maven-pom-xml" class="headerlink" title="Maven | pom.xml"></a>Maven | pom.xml</h3><ul><li><strong>dependencyManagementï¼š</strong>ç”¨æ¥åšä¾èµ–ç®¡ç†ï¼Œä¸€èˆ¬æœ€é¡¶å±‚çˆ¶ POM æ‰ä¼šæœ‰ ï¼›<font color=red><strong>åªå£°æ˜ä¾èµ–ï¼Œä¸å®ç°å¼•å…¥ã€‚</strong></font></li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!-- ç”¨æ¥åšä¾èµ–ç®¡ç†ï¼Œä¸€èˆ¬æœ€é¡¶å±‚çˆ¶ POM æ‰ä¼šæœ‰ --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font size=2 color=darkgray>å¦‚æœæœ‰å¤šä¸ªå­é¡¹ç›®éƒ½å¼•ç”¨åŒä¸€ä¸ªä¾èµ–ï¼Œåˆ™å¯ä»¥é¿å…åœ¨æ¯ä¸ªä½¿ç”¨çš„å­é¡¹ç›®ä¸­éƒ½å£°æ˜ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œè¿™æ ·å…šå‘çœçº§æˆ–è€…åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç‰ˆæœ¬æ—¶ï¼Œåªéœ€è¦åœ¨é¡¶å±‚çˆ¶å®¹å™¨é‡Œé¢è¿›è¡Œæ›´æ–°ï¼Œè€Œä¸éœ€è¦ä¸€ä¸ªä¸€ä¸ªä¿®æ”¹å­é¡¹ç›®ï¼›å¦å¤–å¦‚æœæŸä¸ªå­é¡¹ç›®éœ€è¦å¦å¤–çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œåªè¦å£°æ˜ version å³å¯ã€‚</font></p><br><br><h3 id="é¡¹ç›®å†…å®¹"><a href="#é¡¹ç›®å†…å®¹" class="headerlink" title="é¡¹ç›®å†…å®¹"></a>é¡¹ç›®å†…å®¹</h3><ul><li>Maven | pom.xml</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.jim<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>com.jim.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>Maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- ç»Ÿä¸€ç®¡ç†jaråŒ…ç‰ˆæœ¬ --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>junit.version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>junit.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log4j.version</span><span class="token punctuation">></span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log4j.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lombok.version</span><span class="token punctuation">></span></span>1.16.18<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lombok.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">></span></span>5.1.47<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>druid.version</span><span class="token punctuation">></span></span>1.1.16<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>druid.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mybatis.spring.boot.version</span><span class="token punctuation">></span></span>1.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mybatis.spring.boot.version</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- 1ã€åªæ˜¯å£°æ˜ä¾èµ–ï¼Œå¹¶ä¸å®é™…å¼•å…¥ï¼Œå­é¡¹ç›®æŒ‰éœ€å£°æ˜ä½¿ç”¨çš„ä¾èµ– --></span>  <span class="token comment">&lt;!-- 2ã€å­é¡¹ç›®å¯ä»¥ç»§æ‰¿çˆ¶é¡¹ç›®çš„ version å’Œ scope --></span>  <span class="token comment">&lt;!-- 3ã€å­é¡¹ç›®è‹¥æŒ‡å®šäº† version å’Œ scopeï¼Œä»¥å­é¡¹ç›®ä¸ºå‡† --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--spring boot 2.2.2--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--spring cloud Hoxton.SR1--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>Hoxton.SR1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--spring cloud alibaba 2.1.0.RELEASE--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-alibaba-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;mysql.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;druid.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;mybatis.spring.boot.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;junit.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;log4j.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;lombok.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fork</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fork</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>addResources</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>addResources</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>æ•°æ®åº“ | MySQL</li></ul><div class="code-wrapper"><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">CREATE TABLE &#96;payment&#96;(  &#96;id&#96; bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;ID&#39;,  &#96;serial&#96; varchar(200) DEFAULT &#39;&#39;,  PRIMARY KEY(&#96;id&#96;))ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;1 DEFAULT CHARSET&#x3D;utf8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Mavenã€‘è·³è¿‡æµ‹è¯•çš„ä¸‰ç§æ–¹æ³•</title>
    <link href="/2022/07/08/Maven/%E3%80%90Maven%E3%80%91%E8%B7%B3%E8%BF%87%E6%B5%8B%E8%AF%95%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    <url>/2022/07/08/Maven/%E3%80%90Maven%E3%80%91%E8%B7%B3%E8%BF%87%E6%B5%8B%E8%AF%95%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="ã€Mavenã€‘è·³è¿‡æµ‹è¯•çš„ä¸‰ç§æ–¹æ³•"><a href="#ã€Mavenã€‘è·³è¿‡æµ‹è¯•çš„ä¸‰ç§æ–¹æ³•" class="headerlink" title="ã€Mavenã€‘è·³è¿‡æµ‹è¯•çš„ä¸‰ç§æ–¹æ³•"></a>ã€Mavenã€‘è·³è¿‡æµ‹è¯•çš„ä¸‰ç§æ–¹æ³•</h1><p>ä½¿ç”¨Mavenæ‰“åŒ…çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå› ä¸ºå•å…ƒæµ‹è¯•æ‰“åŒ…å¤±è´¥ï¼Œè¿™æ—¶å€™å°±éœ€è¦è·³è¿‡å•å…ƒæµ‹è¯•ã€‚</p><br><br><h2 id="å‘½ä»¤è¡Œæ–¹å¼è·³è¿‡æµ‹è¯•"><a href="#å‘½ä»¤è¡Œæ–¹å¼è·³è¿‡æµ‹è¯•" class="headerlink" title="å‘½ä»¤è¡Œæ–¹å¼è·³è¿‡æµ‹è¯•"></a>å‘½ä»¤è¡Œæ–¹å¼è·³è¿‡æµ‹è¯•</h2><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">mvn clean install -DskipTestsmvn clean install -Dmaven.test.skip&#x3D;true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><ul><li>DskipTestsï¼Œä¸æ‰§è¡Œ<a href="https://so.csdn.net/so/search?q=%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B&spm=1001.2101.3001.7020">æµ‹è¯•ç”¨ä¾‹</a>ï¼Œä½†ç¼–è¯‘æµ‹è¯•ç”¨ä¾‹ç±»ç”Ÿæˆç›¸åº”çš„classæ–‡ä»¶è‡³target/test-classesä¸‹</li><li>Dmaven.test.skip=trueï¼Œä¸æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œä¹Ÿä¸ç¼–è¯‘æµ‹è¯•ç”¨ä¾‹ç±»</li></ul><p>ä½¿ç”¨maven.test.skipï¼Œä¸ä½†è·³è¿‡å•å…ƒæµ‹è¯•çš„è¿è¡Œï¼Œä¹Ÿè·³è¿‡æµ‹è¯•ä»£ç çš„ç¼–è¯‘;</p><p>ä½¿ç”¨ mvn package -DskipTests è·³è¿‡å•å…ƒæµ‹è¯•ï¼Œä½†æ˜¯ä¼šç»§ç»­ç¼–è¯‘ã€‚</p><br><br><h2 id="äºŒã€pom-xmlä¸­é…ç½®è·³è¿‡æµ‹è¯•"><a href="#äºŒã€pom-xmlä¸­é…ç½®è·³è¿‡æµ‹è¯•" class="headerlink" title="äºŒã€pom.xmlä¸­é…ç½®è·³è¿‡æµ‹è¯•"></a>äºŒã€pom.xmlä¸­é…ç½®è·³è¿‡æµ‹è¯•</h2><p>å¯ä»¥åœ¨pom.xmlä¸­æ·»åŠ å¦‚ä¸‹é…ç½®æ¥è·³è¿‡æµ‹è¯•ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- maven æ‰“åŒ…æ—¶è·³è¿‡æµ‹è¯• --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-surefire-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>skip</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>skip</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><h2 id="ä¸‰ã€Ideaä¸­é…ç½®è·³è¿‡æµ‹è¯•"><a href="#ä¸‰ã€Ideaä¸­é…ç½®è·³è¿‡æµ‹è¯•" class="headerlink" title="ä¸‰ã€Ideaä¸­é…ç½®è·³è¿‡æµ‹è¯•"></a>ä¸‰ã€Ideaä¸­é…ç½®è·³è¿‡æµ‹è¯•</h2><p>1ã€ç›´æ¥é…ç½®</p><p>Mavenå‘½ä»¤æ çš„å·¥å…·æ æœ‰ä¸‹å›¾ä¸­çš„å›¾æ ‡ï¼Œè¿™ä¸ªå›¾æ ‡å°±æ˜¯ Skip Testsã€‚ç‚¹å‡»é€‰ä¸­ï¼Œå†ç”¨LifeStyleä¸­çš„æ‰“åŒ…å°±ä¼šè·³è¿‡æµ‹è¯•.</p><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/ite1px.png"  /></div><p>2ã€æ›´æ”¹Mavené…ç½®</p><p>æ‰“å¼€é…ç½®ï¼Œæ‰¾åˆ°Mavenâ€“&gt;Runnerï¼Œåœ¨VM optionä¸­æ·»åŠ  -Dmaven.test.skip=true</p><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/x2xmli.png"  /></div><br>]]></content>
    
    
    <categories>
      
      <category>Maven</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Maven</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€åšå®¢ã€‘å†™ä½œä»£ç ï¼ˆå›¾ç‰‡ç­‰ï¼‰</title>
    <link href="/2022/07/08/%E3%80%90%E5%8D%9A%E5%AE%A2%E3%80%91%E7%9B%B8%E5%85%B3%E5%86%99%E4%BD%9C%E4%BB%A3%E7%A0%81/"/>
    <url>/2022/07/08/%E3%80%90%E5%8D%9A%E5%AE%A2%E3%80%91%E7%9B%B8%E5%85%B3%E5%86%99%E4%BD%9C%E4%BB%A3%E7%A0%81/</url>
    
    <content type="html"><![CDATA[<h2 id="å†™ä½œæ ‡ç­¾ï¼ˆå›¾ç‰‡ç­‰ï¼‰"><a href="#å†™ä½œæ ‡ç­¾ï¼ˆå›¾ç‰‡ç­‰ï¼‰" class="headerlink" title="å†™ä½œæ ‡ç­¾ï¼ˆå›¾ç‰‡ç­‰ï¼‰"></a>å†™ä½œæ ‡ç­¾ï¼ˆå›¾ç‰‡ç­‰ï¼‰</h2><hr><p><br><br><br></p><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>20px 5px<span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span>1px solid #eae6e6<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span>15px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>80%</span><span class="token punctuation">"</span></span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://files.catbox.moe/rdo43m.png<span class="token punctuation">"</span></span>  <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>darkgray</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>ğŸ‘†Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/rdo43m.png"  /><br><br><span style="color:darkgray">ğŸ‘†Title</span></div><br><br><br><br><div style="width:100%;height:85px;background:#eef7fa;border-radius:10px;text-align:center;padding:22px 0px;"><div><img style="width:25px;border-radius:5px;margin:0 10px  9px 0" src="https://files.catbox.moe/2u957r.png"/><a href="https://github.com/happyfish100/fastdfs" style="font-size:24px;margin-right:15px"><b>Github</b></a></div></div><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>85px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span>#eef7fa<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span>10px<span class="token punctuation">;</span><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>22px 0px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>25px<span class="token punctuation">;</span><span class="token property">border-radius</span><span class="token punctuation">:</span>5px<span class="token punctuation">;</span><span class="token property">margin</span><span class="token punctuation">:</span>0 10px  9px 0</span><span class="token punctuation">"</span></span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://files.catbox.moe/2u957r.png<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://github.com/happyfish100/fastdfs<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span>24px<span class="token punctuation">;</span><span class="token property">margin-right</span><span class="token punctuation">:</span>15px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>Github<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åšå®¢</tag>
      
      <tag>å†™ä½œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SpringCloud | å…¥é—¨ç¬”è®° | 01 | ç‰ˆæœ¬é€‰æ‹©</title>
    <link href="/2022/07/06/SpringCloud%20%7C%2001%20%7C%20%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E/"/>
    <url>/2022/07/06/SpringCloud%20%7C%2001%20%7C%20%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E/</url>
    
    <content type="html"><![CDATA[<br><h1 id="ã€SpringCloudã€‘-å…¥é—¨ç¬”è®°-01-ç‰ˆæœ¬é€‰æ‹©"><a href="#ã€SpringCloudã€‘-å…¥é—¨ç¬”è®°-01-ç‰ˆæœ¬é€‰æ‹©" class="headerlink" title="ã€SpringCloudã€‘ å…¥é—¨ç¬”è®° | 01 | ç‰ˆæœ¬é€‰æ‹©"></a>ã€SpringCloudã€‘ å…¥é—¨ç¬”è®° | 01 | ç‰ˆæœ¬é€‰æ‹©</h1><p><br><br></p><h2 id="ç‰ˆæœ¬å…³ç³»"><a href="#ç‰ˆæœ¬å…³ç³»" class="headerlink" title="ç‰ˆæœ¬å…³ç³»"></a>ç‰ˆæœ¬å…³ç³»</h2><ul><li><p>SpringCloud æ˜¯å­—æ¯ç‰ˆæœ¬ å¦‚ï¼šA ç‰ˆ B ç‰ˆ C ç‰ˆâ€¦.H ç‰ˆï¼Œé‡‡ç”¨åç§°è€Œéç‰ˆæœ¬å·ï¼Œæ¯è§£å†³ä¸€ä¸ªé‡å¤§ BUGï¼Œå°±ä¼šå‘å¸ƒä¸€ä¸ª<code>Service Release</code>ç‰ˆæœ¬ï¼Œå»ºæˆ<code>SRx</code>ç‰ˆæœ¬ï¼Œå¦‚ Greenwich.SR2å°±æ˜¯ SpringCloud å‘å¸ƒçš„ Greenwich ç‰ˆæœ¬çš„ç¬¬äºŒä¸ª SRX ç‰ˆæœ¬ã€‚</p></li><li><p>Springboot ç”¨æ•°å­—ä½œä¸ºç‰ˆæœ¬ï¼Œå¦‚ï¼šspringboot2.6.0</p></li><li><p><a href="https://spring.io/projects/spring-cloud">SpringCloud ä¸ SpringBoot å¯¹åº”å…³ç³»å›¾</a></p></li></ul><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/07bmdc.png"  /><br><br><span style="color:darkgray">ğŸ‘†SpringCloud ä¸ SpringBoot å¯¹åº”å…³ç³»å›¾</span></div><br><ul><li><a href="https://docs.spring.io/spring-cloud/docs/current/reference/html/">ç‰ˆæœ¬é€‰æ‹© æŸ¥çœ‹è¯¥ç‰ˆæœ¬çš„  Reference Doc.</a></li></ul><div style="text-align:center;padding:20px 5px;border:1px solid #eae6e6;border-radius:15px"><img style="width:80%" src="https://files.catbox.moe/h9hdg1.png"  /><br><br><span style="color:darkgray">ğŸ‘†ç‰ˆæœ¬é€‰æ‹©</span></div><br><p><br><br></p><h2 id="SpringCloud-æŠ€æœ¯å‡çº§"><a href="#SpringCloud-æŠ€æœ¯å‡çº§" class="headerlink" title="SpringCloud æŠ€æœ¯å‡çº§"></a>SpringCloud æŠ€æœ¯å‡çº§</h2><p><br><br></p><br><div style="text-align:center;"><img style="width:80%;border:1px solid #eae6e6;border-radius:15px" src="https://files.catbox.moe/behl5q.png"/><br><br><span style="color:darkgray">ğŸ‘†SpringCloud æŠ€æœ¯å‡çº§</span></div><br>  ]]></content>
    
    
    <categories>
      
      <category>SpringCloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SpringCloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘JVM åƒåœ¾å›æ”¶æœºåˆ¶</title>
    <link href="/2022/07/02/%E3%80%90Java%E3%80%91JVM/"/>
    <url>/2022/07/02/%E3%80%90Java%E3%80%91JVM/</url>
    
    <content type="html"><![CDATA[<h2 id="JVM-åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#JVM-åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="JVM åƒåœ¾å›æ”¶æœºåˆ¶"></a>JVM åƒåœ¾å›æ”¶æœºåˆ¶</h2><h4 id="å®šä½åƒåœ¾çš„æ–¹æ³•ï¼š"><a href="#å®šä½åƒåœ¾çš„æ–¹æ³•ï¼š" class="headerlink" title="å®šä½åƒåœ¾çš„æ–¹æ³•ï¼š"></a>å®šä½åƒåœ¾çš„æ–¹æ³•ï¼š</h4><ul><li><strong>Reference Countï¼ˆå¼•ç”¨è®¡æ•°ç®—æ³•ï¼‰ï¼š</strong>æœ‰æ²¡æœ‰å¼•ç”¨æŒ‡å‘ï¼Ÿæœ‰åˆ™ä¸æ˜¯åƒåœ¾ï¼Œæ²¡æœ‰åˆ™æ˜¯åƒåœ¾<ul><li><font color=red>ç¼ºç‚¹ï¼š</font>ä¸å¯ä»¥è§£å†³å¾ªç¯å¼•ç”¨</li><li>ä¸¾ä¾‹ï¼šA-&gt;B-&gt;C-&gt;A <code>ABCæ˜¯ä¸€å¨åƒåœ¾</code></li></ul></li><li><strong>ï¼ˆRoot Searchingï¼‰æ ¹å¯è¾¾ç®—æ³•ï¼š</strong>ä»æ ¹ä¸Šå¾€ä¸‹æ‹ï¼Œèƒ½æ‹åˆ°çš„ä¸æ˜¯åƒåœ¾ï¼Œæ‹ä¸åˆ°çš„æ˜¯åƒåœ¾</li></ul><h4 id="åƒåœ¾æ¸…é™¤çš„æ–¹æ³•"><a href="#åƒåœ¾æ¸…é™¤çš„æ–¹æ³•" class="headerlink" title="åƒåœ¾æ¸…é™¤çš„æ–¹æ³•"></a>åƒåœ¾æ¸…é™¤çš„æ–¹æ³•</h4><ul><li>Mark-Sweepï¼šæ ‡è®°æ¸…é™¤æ³•<ul><li>æ²¡æœ‰ç”¨çš„å°±æ ‡è®°ä¸ºå¯ç”¨</li></ul></li></ul><div align=center><img src="https://files.catbox.moe/mouvd2.png" style="width:70%"></div><ul><li>Copying ç®—æ³•ï¼š<ul><li>ä»…å¯åœ¨éƒ¨åˆ†å†…å­˜å†…ä½¿ç”¨å¼•ç”¨ï¼Œå½“æ‰§è¡Œåƒåœ¾å›æ”¶çš„ä¹‹åï¼Œå°†å¯ç”¨çš„å¤åˆ¶åˆ°å¦ä¸€éƒ¨åˆ†çš„å†…å­˜ï¼Œéšåæ¸…ç©ºè¯¥å†…å­˜ã€‚</li><li><font color=green>ä¼˜ç‚¹ï¼š</font>æ•ˆç‡é«˜</li><li><font color=red>ç¼ºç‚¹ï¼š</font>æµªè´¹å†…å­˜</li></ul></li></ul><div align=center><img src="https://files.catbox.moe/sp8wp3.png" style="width:70%"></div><ul><li>æ ‡è®°æ•´ç†ç®—æ³•ï¼ˆå¤„å¥³åº§ç®—æ³•ï¼‰<ul><li>ä½œç”¨å‘ç°åƒåœ¾åï¼Œå°†æœ‰ç”¨çš„æ’åˆ—èµ·æ¥</li><li><font color=green>ä¼˜ç‚¹ï¼š</font></li><li><font color=red>ç¼ºç‚¹ï¼š</font>æ•ˆç‡ä½</li></ul></li></ul><div align=center><img src="https://files.catbox.moe/crzo1q.png" style="width:70%"></div><h4 id="å¯¹äºå†…å­˜çš„ç®¡ç†"><a href="#å¯¹äºå†…å­˜çš„ç®¡ç†" class="headerlink" title="å¯¹äºå†…å­˜çš„ç®¡ç†"></a>å¯¹äºå†…å­˜çš„ç®¡ç†</h4><ul><li>åˆ†ä»£æ¨¡å‹<ul><li>å¹´è½»ä»£ | è€å¹´ä»£</li><li>å†…å­˜ä¸€åˆ†ä¸ºäºŒ</li></ul></li><li>åˆ†åŒºæ¨¡å‹<ul><li>åˆ†æˆä¸€ä¸ªä¸ªçš„å°æ ¼å­</li></ul></li></ul><div align=center><img src="https://files.catbox.moe/k8aw65.png" style="width:70%"></div><div align=center><img src="https://files.catbox.moe/wadgvq.png" style="width:70%"></div><p><font size=2 color=darkgray>å·¦ä¾§ä¸ºåˆ†ä»£ï¼Œå³ä¾§æœ‰åˆ†åŒº</font></p><div align=center><img src="https://files.catbox.moe/uooept.png" style="width:70%"></div><p>å·¦ä¾§å¹´è½»ä»£ï¼Œå½“ new äº†æ–°çš„å¯¹è±¡åè¿›å…¥ <code>eden</code>ï¼ˆå¹´è½»ä»£ï¼‰ï¼Œéšåç”¨ Copy ç®—æ³•ï¼Œå°†æœ‰ç”¨çš„å†…å­˜å¤åˆ¶åˆ° Survivor1ï¼Œä¸‹ä¸€æ¬¡å°† Survivor1 ä¸­çš„ä»¥åŠ Eden ä¸­çš„æ”¾å…¥Survivor2ï¼ˆSurvivor1ä¸Survivor2 ä¸æ–­äº¤æ¢ï¼Œæ€»æœ‰ä¸€ä¸ªæ˜¯ç©ºçš„ï¼‰ï¼Œæ¯æ¬¡éƒ½æ²¡å›æ”¶æ‰<code>å¹´é¾„+1</code>ï¼Œå½“æˆé•¿åˆ°ä¸€å®šå¹´é¾„åè¿›å…¥<code>tenured</code>ï¼ˆè€å¹´ä»£ï¼‰ã€‚</p><h5 id="Serialï¼ˆå•çº¿ç¨‹-STWï¼‰"><a href="#Serialï¼ˆå•çº¿ç¨‹-STWï¼‰" class="headerlink" title="Serialï¼ˆå•çº¿ç¨‹ STWï¼‰"></a>Serialï¼ˆå•çº¿ç¨‹ STWï¼‰</h5><p><font size=2>A <strong>stop-the-world(STW)</strong>,copying collector which uses a single GC thread.</font></p><p>å½“åƒåœ¾å›æ”¶å™¨å¼€å§‹å¹²æ´»çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„çº¿ç¨‹ï¼ˆä¸šåŠ¡çº¿ç¨‹ï¼‰å…¨éƒ¨åœæ­¢ã€‚</p><ul><li><font color=green>ä¼˜ç‚¹ï¼š</font>å• CPU æ•ˆç‡æœ€é«˜ï¼Œè™šæ‹Ÿæœºæ˜¯ Client æ¨¡å¼çš„é»˜è®¤åƒåœ¾å›æ”¶å™¨</li><li><font color=red>ç¼ºç‚¹ï¼š</font>ä¼šå¯¼è‡´ç¨‹åºå¡é¡¿</li></ul><h5 id="Parallel-Scavenge-ï¼ˆå¤šçº¿ç¨‹-STWï¼‰"><a href="#Parallel-Scavenge-ï¼ˆå¤šçº¿ç¨‹-STWï¼‰" class="headerlink" title="Parallel Scavenge ï¼ˆå¤šçº¿ç¨‹ STWï¼‰"></a>Parallel Scavenge ï¼ˆå¤šçº¿ç¨‹ STWï¼‰</h5><p><font size=2>A <strong>stop-the-world(STW)</strong>,copying collector which uses a multiple GC threads.</font></p><ul><li><font color=orange>æ³¨æ„ï¼š</font>çº¿ç¨‹æ— æ³•æ— é™å¢åŠ </li><li><font color=green>ä¼˜ç‚¹ï¼š</font>æ•ˆç‡æ›´é«˜</li><li><font color=red>ç¼ºç‚¹ï¼š</font>çº¿ç¨‹éœ€è¦åˆ‡æ¢ï¼ŒåŒæ ·å¯èƒ½ä¼šé€ æˆå¡é¡¿</li></ul><h5 id="CMSï¼ˆConcurrent-Mark-Sweepï¼‰å¹¶å‘"><a href="#CMSï¼ˆConcurrent-Mark-Sweepï¼‰å¹¶å‘" class="headerlink" title="CMSï¼ˆConcurrent Mark Sweepï¼‰å¹¶å‘"></a>CMSï¼ˆConcurrent Mark Sweepï¼‰å¹¶å‘</h5><ul><li><font color=orange>é—®é¢˜ï¼š</font><ul><li>é—®é¢˜ 1ï¼šå¯èƒ½ä¼šäº§ç”Ÿæµ®åŠ¨åƒåœ¾ï¼ˆæœ¬æ¬¡æ ‡è®°éåƒåœ¾åè¢«å¼ƒç”¨äº†ï¼‰</li><li>é—®é¢˜ 2ï¼šå·²ç»è¢«æ ‡è®°ä¸ºåƒåœ¾çš„å¯¹è±¡è¢«ä¸šåŠ¡çº¿ç¨‹å»ºç«‹è¿æ¥äº†<ul><li>è§£å†³åŠæ³• ï¼šä¸‰è‰²æ ‡è®°ç®—æ³•</li></ul></li></ul></li><li><font color=green>ä¼˜ç‚¹ï¼š</font>æ•ˆç‡æ›´é«˜</li><li><font color=red>ç¼ºç‚¹ï¼š</font>çº¿ç¨‹éœ€è¦åˆ‡æ¢ï¼ŒåŒæ ·å¯èƒ½ä¼šé€ æˆå¡é¡¿</li></ul><h1 id="ç›¸å…³ç®—æ³•"><a href="#ç›¸å…³ç®—æ³•" class="headerlink" title="ç›¸å…³ç®—æ³•"></a>ç›¸å…³ç®—æ³•</h1><h2 id="ä¸‰è‰²æ ‡è®°ç®—æ³•"><a href="#ä¸‰è‰²æ ‡è®°ç®—æ³•" class="headerlink" title="ä¸‰è‰²æ ‡è®°ç®—æ³•"></a>ä¸‰è‰²æ ‡è®°ç®—æ³•</h2><div style="background:darkgray;border-radius:10px;padding:5px 15px 5px 15px">æ²¡æœ‰éå†åˆ°çš„èŠ‚ç‚¹ï¼šç™½è‰²ï¼›è‡ªå·±å®Œæˆæ ‡è®°è¿˜æ²¡æ¥å¾—åŠæ ‡è®° fields ï¼šç°è‰²ï¼›è‡ªå·±æ ‡è®°ä¸” fields å…¨éƒ¨å®Œæˆæ ‡è®°ï¼šé»‘è‰²</div><p>ä¼˜ç‚¹ï¼šä¸‹ä¸€æ¬¡åªè¦ä»ç°è‰²å¼€å§‹å°±å¯ä»¥äº†ï¼Œé»‘è‰²å°±ä¸ç”¨å¼€å§‹äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>JVM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æœåŠ¡å™¨ã€‘è®°å½•ä¸€æ¬¡åŸŸåè§£æ | éšæ€§ URL</title>
    <link href="/2022/06/30/%E6%9C%8D%E5%8A%A1%E5%99%A8/2022-06-30-%E3%80%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%91%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90--%E9%9A%90%E6%80%A7-URL/"/>
    <url>/2022/06/30/%E6%9C%8D%E5%8A%A1%E5%99%A8/2022-06-30-%E3%80%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%91%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90--%E9%9A%90%E6%80%A7-URL/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸŸåè§£æ"><a href="#åŸŸåè§£æ" class="headerlink" title="åŸŸåè§£æ"></a>åŸŸåè§£æ</h1><p>é…ç½®ï¼š</p><ul><li>æœåŠ¡å™¨ï¼šè…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨</li><li>ç³»    ç»Ÿï¼šCentOS 8</li></ul><p>ä¹°äº†ä¸‰ä¸ªåŸŸåçš„ï¼Œä½†æ˜¯åªä¹°äº†ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå…¶ä¸­ä¸€ä¸ªåŸŸå<code>Jime.cc</code>å½“åšè¿™ä¸ªåšå®¢åœ°å€äº†ï¼Œä»Šå¤©æŸ¥çœ‹äº†ä¸€ä¸‹ï¼Œç¬¬äºŒä¸ªå¤‡æ¡ˆçš„ IP ä¹Ÿå·²ç»å¯ä»¥è®¿é—®äº†ï¼Œå› æ­¤èµ¶ç´§åšä¸€ä¸‹è§£æï¼Œé¡ºä¾¿è®°å½•ä¸€ä¸‹ã€‚</p><h3 id="è§£æåˆ°-80-ç«¯å£"><a href="#è§£æåˆ°-80-ç«¯å£" class="headerlink" title="è§£æåˆ° 80 ç«¯å£"></a>è§£æåˆ° 80 ç«¯å£</h3><p>çº¯çº¯çš„æ™®é€šçš„åŸŸåè§£æï¼Œå…¶ä»–çš„æ— æ‰€è°“ï¼Œåªè¦è®©è§£æçš„åŸŸåè·Ÿ IP åœ°å€å¯¹åº”èµ·æ¥å°±å¯ä»¥ã€‚</p><h3 id="è§£æåˆ°é-80-ç«¯å£"><a href="#è§£æåˆ°é-80-ç«¯å£" class="headerlink" title="è§£æåˆ°é 80 ç«¯å£"></a>è§£æåˆ°é 80 ç«¯å£</h3><p>ä½¿ç”¨éšæ€§è§£æï¼Œè®©è¦åšè§£æçš„ IPï¼ˆ å‡ä½¿ä¸ºbbb.com ï¼‰ è·³è½¬æ­¤æœåŠ¡å™¨çš„ 80 ç«¯å£çš„ IP ä¸Šï¼ˆå‡ä½¿ 80 ç«¯å£çš„ IP åœ°å€ä¸ºaaa.comï¼‰ï¼Œé‚£ä¹ˆæˆ‘åªè¦åœ¨è§£æçš„æ—¶å€™æ·»åŠ è®°å½•ä¸ºï¼š</p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">http:&#x2F;&#x2F;aaa.com:8080<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><font size=2>å‰æ–¹è¦åŠ åè®®ï¼Œä¸ä¸€å®šæ˜¯httpã€‚</font></p><p>ç†è§£èµ·æ¥å¾ˆç®€å•ï¼Œå°±æ˜¯ä½ åœ¨é…ç½®éšæ€§è§£æçš„æ—¶å€™ï¼Œç›´æ¥ <code>ip+ç«¯å£å·</code> æˆ–è€… <code>åè®®+ip+ç«¯å£å·</code> æ˜¯ä¸å¯ä»¥çš„ï¼Œè€Œ IP å¯ä»¥ç”¨å·²ç»è§£æè¿‡çš„åŸŸåæ¥ä»£æ›¿ï¼Œåªè¦åœ¨åé¢åŠ ä¸Šç«¯å£å·å°±å¯ä»¥ï¼ˆåœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥aaa.com:8080ä¹Ÿå¯ä»¥è®¿é—®ä½ æœåŠ¡å™¨çš„ 8080 ç«¯å£ï¼‰ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœåŠ¡å™¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœåŠ¡å™¨</tag>
      
      <tag>è…¾è®¯äº‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€è¯»ä¹¦ç¬”è®°ã€‘ã€Šæ–‡åŸã€‹Â·ä½™å</title>
    <link href="/2022/06/29/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E3%80%91%E3%80%8A%E6%96%87%E5%9F%8E%E3%80%8B%C2%B7%E4%BD%99%E5%8D%8E/"/>
    <url>/2022/06/29/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E3%80%90%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E3%80%91%E3%80%8A%E6%96%87%E5%9F%8E%E3%80%8B%C2%B7%E4%BD%99%E5%8D%8E/</url>
    
    <content type="html"><![CDATA[<h1 id="ã€Šæ–‡åŸã€‹Â·-ä½™å"><a href="#ã€Šæ–‡åŸã€‹Â·-ä½™å" class="headerlink" title="ã€Šæ–‡åŸã€‹Â· ä½™å"></a>ã€Šæ–‡åŸã€‹Â· ä½™å</h1><p>â€‹    æœ€è¿‘ä¸€æ®µæ—¶é—´çœ‹å®Œäº†ä½™åçš„ã€Šæ–‡åŸã€‹ã€‚</p><p>â€‹    ä¹¦ä¸­çš„æ•…äº‹å¾ˆæœ‰æ„æ€ï¼Œï¼ˆä½™åçš„å°è¯´å‘æ¥å¾ˆæœ‰æ„æ€ï¼‰ï¼Œè®²è¿°çš„æ˜¯åŒ—æ–¹çš„æ—ç¥¥ç¦ï¼Œåœ¨è¯¥å©šå¨¶çš„å¹´çºªï¼Œé‡åˆ°äº†å—æ–¹æ¥çš„å°ç¾ä¸é˜¿å¼ºï¼ˆå¤«å¦»å…³ç³»ï¼Œè°ç§°å…„å¦¹å…³ç³»ï¼‰ï¼Œé˜¿å¼ºå°†ç”Ÿï¼ˆè£…ï¼‰ç—…çš„å°ç¾ç•™åœ¨äº†æ—ç¥¥ç¦å®¶ï¼Œéšåå°ç¾ä¸æ—ç¥¥ç¦çš„çˆ±æ¨æƒ…ä»‡ã€‚</p><p><br><br></p><hr><br><h4 id="å°ç¾"><a href="#å°ç¾" class="headerlink" title="å°ç¾"></a>å°ç¾</h4><p>â€‹    å°ç¾æ˜¯ä¸€ä¸ªå‘½è¿å¾ˆæ‚²çš„äººç‰©ï¼Œè‡ªå°è¢«è¿‡é—¨ç»™æ²ˆå®¶åšç«¥å…»åª³ï¼Œåœ¨è¿™ä¸ªå®¶é‡Œæ²¡æœ‰ä»€ä¹ˆåœ°ä½ï¼ŒåŸºæœ¬ä¸Šèªæ˜è´¤æƒ ä¸”ä»»åŠ³ä»»æ€¨ï¼Œä¹Ÿå› æ­¤åœ¨ä¸€ä¼—ç«¥å…»åª³ä¸­ï¼Œå¥¹çš„ç”Ÿæ´»è¿˜ç®—æ˜¯å¥½çš„ã€‚</p><p>â€‹    è™½ç„¶å¥¹èªæ˜ä¼¶ä¿ï¼Œä½†æ˜¯ä¹Ÿå› ä¸ºå·å·ç»™äº†è‡ªå·±å¼Ÿå¼Ÿå‡ ä¸ªé’±ï¼Œå¯¼è‡´è¢«è‡ªå·±çš„å©†å©†ä¼‘æ‰ã€‚</p><p>â€‹    æ•…äº‹ä¸­ï¼Œå¥¹å°±åƒæ˜¯é˜¿å¼ºçš„â€œé™„å±å“â€ï¼Œä»è¿‡é—¨ åˆ°ç»“å©š åˆ°è¢«ä¼‘ åˆ°è·Ÿé˜¿å¼ºç¦»å®¶å‡ºèµ° åˆ°é‡åˆ°æ—ç¥¥ç¦ï¼Œå¥¹éƒ½æ˜¯ä¸€ä¸ªé™„å±å“ã€‚å¯¹äºé˜¿å¼ºçš„è¯â€œå”¯å‘½æ˜¯ä»â€ï¼Œæ— è®ºæ˜¯æ­£ç¡®çš„è¿˜æ˜¯é”™è¯¯çš„ï¼Œå¥¹éƒ½ä¸ä¼šå»æ€€ç–‘é˜¿å¼ºï¼Œä½†æ˜¯ä¼šå¸®é˜¿å¼ºæ‰¿æ‹…åæœã€‚</p><p>â€‹    åœ¨â€œç¬¬ä¸€æ¬¡ä»æ—ç¥¥ç¦é€ƒèµ°â€åï¼Œå°ç¾å¸¦ç€é‡‘æ¡æ‰¾åˆ°äº†ä¹è®¨çš„é˜¿å¼ºï¼ˆä»æºªé•‡çš„å°åº·æ··åˆ°ä¹ä¸ï¼‰ï¼Œéšåå‘ç°è‡ªå·±æ€€å­•ï¼Œå¹¶å†³å®šå›åˆ°æ—ç¥¥ç¦éšä¾¿ï¼Œè¿™ä¸ªæ—¶å€™å¼€å§‹é˜¿å¼ºæˆäº†å°ç¾çš„é™„å±å“ã€‚ä¹¦ä¸­æœ‰å¥è¯æ˜¯è¿™ä¹ˆè¯´çš„â€œä»è¿™ä¸€æ¬¡å¼€å§‹ï¼Œä¸¤äººçš„èº«ä»½å‘ç”Ÿäº†è½¬å˜â€ã€‚è€Œè¿™æ ·çš„åŸå› çš†æ˜¯æ²ˆç¥–å¼ºçš„å°‘çˆ·å¿ƒæ€ã€‚è¿™ä¸ªä»å°åˆ°å¤§è¡£é£Ÿæ— å¿§çš„å°å°‘çˆ·æ²¡æœ‰ç»å†è¿‡ä»€ä¹ˆç£¨éš¾ï¼Œä¹Ÿæ­£å› å¦‚æ­¤ä»–é™©äº›è½å¾—äº†ä¸ªç¦»å®¶å‡ºèµ°æœ€åæ²¦ä¸ºä¹ä¸çš„ç»“å±€ã€‚</p><br><hr><br><h4 id="é˜¿å¼ºï¼ˆæ²ˆç¥–å¼ºï¼‰"><a href="#é˜¿å¼ºï¼ˆæ²ˆç¥–å¼ºï¼‰" class="headerlink" title="é˜¿å¼ºï¼ˆæ²ˆç¥–å¼ºï¼‰"></a>é˜¿å¼ºï¼ˆæ²ˆç¥–å¼ºï¼‰</h4><p>â€‹    æ²ˆç¥–å¼ºæ˜¯ä¸€ä¸ªå°‘çˆ·ï¼Œå°ç¾åˆ™æ˜¯ä¸€ä¸ªæ­¥æ­¥æƒŠå¿ƒçš„â€œä»†äººâ€ï¼Œåœ¨ã€Šæ–‡åŸÂ·è¡¥ã€‹ä¸­æè¿°äº†äºŒäººçš„æˆé•¿ç»å†ï¼Œå› æ­¤å¯ä»¥å°†ä»–çš„æ€§æ ¼ç‰¹ç‚¹æ€»ç»“ä¸ºï¼š</p><h5 id="è°è¯è¿ç¯‡"><a href="#è°è¯è¿ç¯‡" class="headerlink" title="è°è¯è¿ç¯‡"></a>è°è¯è¿ç¯‡</h5><p>â€‹    å¿˜äº†é˜¿å¼ºæ˜¯ä»€ä¹ˆæ—¶å€™ç¬¬ä¸€æ¬¡è¯´å‡ºçš„è°è¯äº†ï¼Œä½†æ˜¯å½“ä»–å°åˆ°ä¸€æ¬¡ç”œå¤´ä¹‹åï¼Œä¾¿å¼€å§‹ä¸€å‘ä¸å¯æ”¶æ‹¾äº†ï¼Œé‡åˆ°æ—ç¥¥ç¦ä¹‹åï¼Œåå­—ã€èº«ä»½ã€ä¸¤äººå…³ç³»ã€å±…ä½åœ°å…¨éƒ¨éƒ½æ˜¯ä¿¡å£å¼€æ²³ã€‚</p><h5 id="ä¸çŸ¥æ‚”æ”¹ã€ä¸æ‡‚åæ€"><a href="#ä¸çŸ¥æ‚”æ”¹ã€ä¸æ‡‚åæ€" class="headerlink" title="ä¸çŸ¥æ‚”æ”¹ã€ä¸æ‡‚åæ€"></a>ä¸çŸ¥æ‚”æ”¹ã€ä¸æ‡‚åæ€</h5><p>â€‹    æ²ˆç¥–å¼ºæ°¸è¿œæ˜¯ä¸€ç§æ— æ‰€è°“çš„çŠ¶æ€ï¼Œè¿™ç‚¹åœ¨ä»–å¸®å°ç¾æŠŠé£çš„æ—¶å€™è¢«çˆ¶æ¯æ‰“å¯ä»¥çœ‹å‡ºæ¥ï¼Œä»–æ‘¸äº†æ‘¸å±è‚¡ï¼Œæƒ³ç€â€œå°±ç€ï¼Ÿï¼å°±ç€ï¼Ÿï¼â€</p><h5 id="æ„Ÿæ€§ä¸»ä¹‰ã€ä¸è€ƒè™‘åæœã€æƒ³ä¸€å‡ºæ˜¯ä¸€å‡º"><a href="#æ„Ÿæ€§ä¸»ä¹‰ã€ä¸è€ƒè™‘åæœã€æƒ³ä¸€å‡ºæ˜¯ä¸€å‡º" class="headerlink" title="æ„Ÿæ€§ä¸»ä¹‰ã€ä¸è€ƒè™‘åæœã€æƒ³ä¸€å‡ºæ˜¯ä¸€å‡º"></a>æ„Ÿæ€§ä¸»ä¹‰ã€ä¸è€ƒè™‘åæœã€æƒ³ä¸€å‡ºæ˜¯ä¸€å‡º</h5><p>â€‹    åœ¨å°ç¾è¢«ä¼‘äº†ä¹‹åçš„ä¸€ä¸ªæœˆï¼Œä»–å·äº†å®¶é‡Œçš„é’±ï¼Œå¸¦ç€å°ç¾å»äº†ä¸Šæµ·ï¼Œåœ¨å¿«è¦èŠ±å®Œæ‰€æœ‰çš„é’±åï¼Œå¸¦ç€å°ç¾å»äº¬åŸï¼Œæ‰¾åœ¨äº¬é‡Œåšå®˜çš„è¡¨èˆ…ï¼Œä½†å…¶å®ä»–è¿è¿™ä¸ªè¡¨èˆ…çš„æ ·å­éƒ½ä¸çŸ¥é“ï¼Œç”šè‡³ä»æœªè§è¿‡é¢ï¼Œåªåœ¨æ¯äº²çš„å£ä¸­å¬è¯´è¿‡ã€‚</p><h5 id="æ²¡æœ‰è¿œè§ã€ä¸æ‡‚å¾—â€œç»†æ°´é•¿æµâ€"><a href="#æ²¡æœ‰è¿œè§ã€ä¸æ‡‚å¾—â€œç»†æ°´é•¿æµâ€" class="headerlink" title="æ²¡æœ‰è¿œè§ã€ä¸æ‡‚å¾—â€œç»†æ°´é•¿æµâ€"></a>æ²¡æœ‰è¿œè§ã€ä¸æ‡‚å¾—â€œç»†æ°´é•¿æµâ€</h5><p>â€‹    è¿™ä¸€ç‚¹åœ¨äºŒäººå‰å¾€ä¸Šæµ·åï¼Œéšæ„çš„æ— èŠ‚åˆ¶å¼€é”€å¯ä»¥çœ‹å‡ºæ¥ï¼Œä½å®¾é¦†ã€ä¹°æ——è¢ã€åƒè¥¿é¤ï¼ŒèŠ±å®Œäº†é’±åˆæƒ³èµ·è¡¨å°±æ¥äº†ã€‚</p><h5 id="é˜¿å¼ºçˆ±å°ç¾å—ï¼Ÿ"><a href="#é˜¿å¼ºçˆ±å°ç¾å—ï¼Ÿ" class="headerlink" title="é˜¿å¼ºçˆ±å°ç¾å—ï¼Ÿ"></a>é˜¿å¼ºçˆ±å°ç¾å—ï¼Ÿ</h5><p>â€‹    ç­”æ¡ˆè‚¯å®šæ˜¯çˆ±çš„ã€‚</p><p>â€‹    è™½è¯´å°ç¾æ˜¯é˜¿å¼ºä»å°åˆ°å¤§çš„ç©ä¼´ï¼Œä¸¤äººçš„æ„Ÿæƒ…åœ¨é˜¿å¼ºå¿ƒé‡Œå¯èƒ½æ›´è¦è¶‹è¿‘å…„å¦¹ï¼Œä½†æ˜¯åœ¨å°ç¾è¢«ä¼‘çš„å‰ä¸€æ™šï¼Œä»–æŠ±ç€å°ç¾æµè¿å¿˜è¿”ï¼Œè®©å°ç¾ç¬¬ä¸€æ¬¡æ„Ÿè§‰åˆ°äº†ä»–çš„çˆ±æ„å’Œä¸èˆã€‚</p><p>â€‹    æ²ˆç¥–å¼ºæ˜¯çˆ±ç€å°ç¾çš„ï¼Œä½†æ˜¯ä»–ä»å°ä¾é çˆ¶æ¯ç”Ÿæ´»ï¼Œå¯ä»¥ç†è§£æˆæ˜¯ä¸€ä¸ªæ²¡æœ‰ä¸»è§çš„â€œå¦ˆå®ç”·â€ï¼Œå› æ­¤åœ¨ä¸¤äººå‡ºèµ°åçš„ä¸€æ®µæ—¶é—´ä¹‹åï¼ŒäºŒäººçš„å…³ç³»å˜æˆäº†é˜¿å¼ºä¾é™„ç€å°ç¾ï¼Œä»–å¿…é¡»è¦æœ‰ä¸€ä¸ªäººæ¥åšè‡ªå·±çš„ä¸»å¿ƒéª¨ï¼Œä»–è‡ªå·±æ˜¯æ— æ³•å¯¹äº‹ç‰©åšå‡ºå®¢è§‚ç†æ€§åœ°åˆ¤æ–­çš„ã€‚</p><br><hr><br><h4 id="å©†å©†ï¼ˆæ²ˆæ¯ï¼‰"><a href="#å©†å©†ï¼ˆæ²ˆæ¯ï¼‰" class="headerlink" title="å©†å©†ï¼ˆæ²ˆæ¯ï¼‰"></a>å©†å©†ï¼ˆæ²ˆæ¯ï¼‰</h4><p>â€‹    å©†å©†æ˜¯ä¸€ä¸ªå…¸å‹çš„åœ°ä¸»å©†ï¼Œå®¶åº­åœ°ä½æ— å¯æ’¼åŠ¨ï¼</p><p>â€‹    å©†å©†å®¶é‡Œæœ‰é’±ï¼Œå› æ­¤å¨¶äº†å®¶ä¸­çš„å°å·¥åšä¸Šé—¨å¥³å©¿ï¼Œéšåç”Ÿè‚²äº†é˜¿å¼ºï¼Œå¹¶åœ¨é˜¿å¼ºå°æ—¶å€™æ‰¾æ¥äº†å°ç¾ï¼Œå°†ä¸¤äººæŠšå…»é•¿å¤§ï¼Œå©†å©†æ˜¯ä¸€ä¸ªåŠå…¶ç²¾æ˜çš„äººï¼ŒåŒæ—¶åˆæ˜¯å®¶ä¸­çš„é¡¶æ¢æŸ±ï¼ˆåŒæ—¶è¿˜ååˆ†æ‰£ï¼‰ï¼Œå¥¹å¯¹å®¶ä¸­çš„æ¯ä¸€å—é“œæ¿éƒ½äº†å¦‚æŒ‡æŒã€‚</p><p>â€‹    å› ä¸ºå©†å©†æ˜¯â€œä¸»â€ï¼Œè€Œé˜¿å¼ºçš„çˆ¶äº²æ˜¯ä¸Šé—¨å¥³å©¿ï¼ˆæ²¡æœ‰ä»€ä¹ˆåœ°ä½ï¼‰ï¼Œé˜¿å¼ºä½œä¸ºä¸€ä¸ªå„¿å­è‡ªä¸ç”¨è¯´ï¼Œå°ç¾ä½œä¸ºä¸€ä¸ªä¸Šé—¨å¥³å©¿æ›´æ˜¯æ²¡åœ°ä½ï¼Œå› æ­¤åœ¨æ•´ä¸ªå®¶é‡Œï¼Œä»æ¥éƒ½æ²¡æœ‰äººå¯¹å©†å©†è¯´è¿‡â€œä¸â€ï¼Œè¿™æ›´æ˜¯è®©å©†å©†çœ¼ä¸­æ‰ä¸å¾—æ²™å­ã€‚</p><p>â€‹    åœ¨å°ç¾å·å·ç»™å¼Ÿå¼Ÿé’±è¢«å‘ç°åï¼Œå©†å©†åŸæœ¬å¹¶æ²¡æœ‰æƒ³è¦ä¼‘æ‰å¥¹ï¼Œä½†æ˜¯è¦å¯¹å¥¹åšå‡ºæƒ©ç½šæ—¶ï¼Œçˆ¶å­äºŒäººæ›¿å°ç¾æ±‚æƒ…ï¼Œè¿™è®©å©†å©†æ„Ÿè§‰åˆ°äº†å±æœºæ„Ÿï¼Œæ„Ÿè§‰å¤©è¦ç‚¸äº†ï¼å¥¹ä¸å…è®¸æœ‰äººå¯¹å¥¹è¯´â€œä¸â€ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´äº†å°ç¾è¢«ä¼‘ã€‚</p><p>â€‹    å…¶å®å©†å©†å¾ˆçˆ±å°ç¾ï¼Œä¸€å®¶å­éƒ½å¾ˆçˆ±å°ç¾ï¼Œå¥¹è‡ªçŸ¥å¦‚æœè‡ªå·±ç™¾å¹´åï¼Œé é˜¿å¼ºç»§æ‰¿è‡ªå·±çš„å®¶ä¸šæ˜¯ä¸å¯èƒ½çš„ï¼Œå› æ­¤å¥¹å°†å¸Œæœ›æ”¾åœ¨äº†å°ç¾èº«ä¸Šã€‚çˆ¶å­äºŒäººæ›¿å°ç¾è¯´è¯ï¼Œå¯¼è‡´äº†å°ç¾è¢«ä¼‘ï¼Œä½†è¿™ä¹Ÿä¸æ˜¯å¥¹æƒ³è¦çš„ç»“å±€ï¼Œå¯ä»¥æƒ³è±¡ï¼Œå¦‚æœé˜¿å¼ºæ²¡æœ‰å¸¦ç€å°ç¾ç¦»å®¶å‡ºèµ°ï¼Œé‚£ä¹ˆæœ€åå°ç¾è¿˜ä¼šå›åˆ°æ²ˆå®¶ï¼ˆå©†å©†ä¼šåŒæ„å°ç¾å›åˆ°æ²ˆå®¶ï¼‰ã€‚</p><p>â€‹    ä¼‘æ‰å°ç¾æ˜¯å©†å©†çš„ä¸€æ„å­¤è¡Œï¼Œåœ¨å©†å©†ç™¾å¹´æ—¶ï¼Œå¥¹æ‰‹æ¡è´¦æœ¬ï¼Œç”¨æœ€åçš„åŠ›æ°”å‘¼å–Šç€â€œå°ç¾ã€å°ç¾â€¦â€¦â€ã€‚</p><p>â€‹    å©†å©†çœŸçš„æ˜¯ä¸€ä¸ªæ€§æ ¼å¾ˆå¤æ‚çš„äººï¼Œå¥¹åˆ€å­å˜´è±†è…å¿ƒï¼Œå› ä¸ºè‡ªå·±çš„å›ºæ‰§ï¼Œè®©è‡ªå·±æ­»å‰éƒ½æ²¡èƒ½çœ‹åˆ°è‡ªå·±çš„å„¿å­ä¸€çœ¼ï¼Œä¹Ÿæ²¡èƒ½çœ‹åˆ°è‡ªå·±çš„â€œä¼ æ‰¿ï¼ˆå°ç¾ï¼‰â€ï¼Œä¹Ÿè®¸é˜¿å¼ºæ˜¯å©†å©†çš„å¿ƒå¤´è‚‰ä¸€èˆ¬ï¼Œä½†æ˜¯å°ç¾åœ¨å¥¹å¿ƒé‡Œï¼Œä¹Ÿåƒæ˜¯ä¸€ä¸ªå¥³å„¿å§ã€‚</p><br><hr><br><h4 id="å…¬å…¬"><a href="#å…¬å…¬" class="headerlink" title="å…¬å…¬"></a>å…¬å…¬</h4><p>â€‹    æ²¡å•¥å¥½è¯´çš„ï¼Œè¿™ä¸ªæ€‚è›‹æ˜¯ä¸ªå¥½äººï¼Œæ€‚è›‹ï¼</p><br><hr><br><h4 id="æ—ç¥¥ç¦"><a href="#æ—ç¥¥ç¦" class="headerlink" title="æ—ç¥¥ç¦"></a>æ—ç¥¥ç¦</h4><p>â€‹    ä½œä¸ºæ•…äº‹çš„ä¸»äººå…¬ï¼Œæ•…äº‹çš„å¤§éƒ¨åˆ†æ•…äº‹éƒ½åœ¨è¯´æ—ç¥¥ç¦ï¼Œè‡ªå¹¼ä¸§çˆ¶ï¼Œæ¯äº²ç»™ä»–å¸¦åˆ°ç»“å©šçš„å¹´çºªï¼Œç”šè‡³è¿˜æ²¡æœ‰æ¥å¾—åŠç»™ä»–å¯»ä¸€ä½ä½³äººï¼Œä¾¿å»äº†ï¼Œéšåé‡åˆ°äº†æ¥è‡ªâ€œæ–‡åŸâ€çš„å°ç¾é˜¿å¼ºäºŒäººï¼Œç»“å©šç”Ÿå­ï¼Œå°ç¾ä¸¤æ¬¡è·‘äº†ï¼Œæœ€åä¸€æ¬¡å†ä¹Ÿæ²¡å›æ¥ï¼Œå› æ­¤æ—ç¥¥ç¦å¸¦ç€æœªæ»¡ä¸€å²çš„å¥³å„¿æ—ç™¾å®¶ï¼ˆå–ç™¾å®¶å¥¶é•¿å¤§çš„ï¼‰ä¸€è·¯å‘å—ï¼Œä¸€è·¯å¯»æ‰¾æ–‡åŸä¸ç”Ÿè‚²è¿‡çš„å¥³å­ï¼Œæœ€åå®šå±…åœ¨äº†æºªé•‡ï¼Œä¹°åœ°ã€ä¸é™ˆæ°¸è‰¯å¼€æœ¨å™¨ç¤¾ï¼Œæˆäº†æºªé•‡ç¬¬äºŒå¯Œã€‚</p><p>â€‹    æ—ç¥¥ç¦æ˜¯ä¸ªå¾ˆæ­£ç›´å¾ˆæ¸©æŸ”çš„äººï¼Œä»–æ— æ³•æ¥å—ç”¨é’±è§£å†³è‡ªå·±çš„â€œç”Ÿç†é—®é¢˜â€ï¼Œç”šè‡³æœ€åå†³å®šè¦å»çš„æ—¶å€™å‘ç°è‡ªå·±å±…ç„¶â€œä¸è¡Œâ€äº†ï¼Œä»–å¯¹å­å¥³å¾ˆæ¸©æŸ”ï¼Œå¯¹ä¹¡äº²å¾ˆæ¸©æŸ”ï¼Œå¯¹é™ˆæ°¸è‰¯ä»¥åŠä»–çš„ä¸¤ä¸ªå„¿å­ä¹Ÿå¾ˆæ¸©æŸ”ï¼ŒåŒæ—¶ä»–æƒ³çš„å¾ˆè¿œï¼Œçœ‹çš„å¾ˆå¤šã€‚</p><p>â€‹    æ—ç¥¥ç¦æœ€åæ•‘é¡¾ç›Šæ°‘çš„æ—¶å€™ï¼Œæ„¿æ‹¼ä¸Šè‡ªå·±çš„å‘½ä¸ºé¡¾ç›Šæ°‘æŠ¥ä»‡ï¼Œæœ€åä»–æ­»äº†ï¼Œè¢«åœŸåŒªç”¨å°–åˆ€æˆ³è¿›äº†è€³æ ¹é‡Œï¼Œæ­»çš„å¾ˆçªç„¶ï¼Œæ—ç¥¥ç¦åšå¥½å‡†å¤‡äº†ï¼Œæˆ‘è¿˜æ²¡åšå¥½å‡†å¤‡ï¼Œä¸€ä¸‹å­æœ‰ç‚¹å—ä¸ä½ã€‚</p><p>â€‹    æ—ç¥¥ç¦å»æ‰¾åœŸåŒªä¹‹å‰ï¼Œå®‰æ’å¥½äº†ä¸€åˆ‡ï¼šè‡ªå·±çš„å®¶äº§ã€è‡ªå·±çš„é—ä½“ã€æ—ç™¾å®¶çš„æœªæ¥ï¼ˆç»™å¥¹æ‰¾å¥½äº†æœªæ¥çš„å©†å®¶ï¼Œé‚£å°±æ˜¯é¡¾ç›Šæ°‘çš„å¤§å„¿å­é¡¾åŒå¹´ï¼‰ï¼Œä½†ä»–æ²¡æ–™åˆ°é¡¾åŒå¹´åƒå–å«–èµŒæœ€åè¢«å–åˆ°äº†å›½å¤–å½“è‹¦åŠ›å»äº†ã€‚</p><br><hr><br><h4 id="é™ˆæ°¸è‰¯ä¸ææ¢…è²"><a href="#é™ˆæ°¸è‰¯ä¸ææ¢…è²" class="headerlink" title="é™ˆæ°¸è‰¯ä¸ææ¢…è²"></a>é™ˆæ°¸è‰¯ä¸ææ¢…è²</h4><p>â€‹    è¿™æ˜¯æ—ç¥¥ç¦æ¥æºªé•‡é‡åˆ°çš„ç¬¬ä¸€ä¸ªäººï¼Œä¹Ÿæ˜¯æ—ç¥¥ç¦çš„å®¶äººï¼Œä»–ä¸è€å©†æç¾è²è·Ÿæ—ç¥¥ç¦ä¸€èµ·å¼€æœ¨å™¨ç¤¾ï¼Œè€å©†è´Ÿè´£å®¶åŠ¡æ´»ï¼Œä»–è´Ÿè´£è½¯æœ¨æ´»ï¼Œæ—ç¥¥ç¦è´Ÿè´£ç¡¬æœ¨æ´»ï¼Œè‹¥æ˜¯æ²¡æœ‰æ—ç™¾å®¶ä¸é™ˆè€€æ­¦ï¼Œä¸‰ä¸ªäººä¸ä¸€å¥³ä¸¤å­åº”è¯¥æ˜¯é˜–å®¶æ¬¢ä¹åˆ°ç™¾å¹´ï¼Œä½†æ˜¯ä»–ä¸æç¾è²å´ä¸ºäº†æ—ç™¾å®¶çš„åå£°ä¸æœªæ¥é€‰æ‹©äº†ç¦»å¼€ã€‚</p><p>â€‹    æç¾è²å’Œé™ˆæ°¸è‰¯äºŒäººæŠŠæ—ç¥¥ç¦å½“å…„å¼Ÿï¼ŒæŠŠæ—ç™¾å®¶å½“å¥³å„¿ï¼Œåœ¨æ—ç™¾å®¶è¢«åœŸåŒªæŠ“èµ°åï¼Œæç¾è²è®©å¤§å„¿å­å»æ›¿å¥¹ï¼›åœ¨æ—ç™¾å®¶ä¸é™ˆè€€æ­¦çš„äº‹æƒ…è¢«å‘ç°åï¼Œå¥¹ä¹Ÿé€‰æ‹©äº†ç¦»å¼€ã€‚</p><p>â€‹    é™ˆæ°¸è‰¯ä¸æç¾è²å¯¹æ—ç™¾å®¶æ˜¯å¤§çˆ±ï¼Œæ˜¯çˆ¶æ¯ä¹‹çˆ±ã€‚</p><p>â€‹    åœ¨æ—ç¥¥ç¦æ­»åï¼Œé™ˆæ°¸è‰¯å‘èª“è¦äº²æ‰‹æ€äº†å¼ ä¸€æ–§ï¼Œä½†åŒæ—¶ä»–ä¹Ÿçˆ±æ¨åˆ†æ˜ï¼ŒçŸ¥é“å’Œå°šæ˜¯ä¸ªå¥½äººï¼Œä¾¿æ”¾è¿‡äº†å’Œå°šï¼Œå¹¶è·Ÿä»–ç»“ä¸ºå…„å¼Ÿï¼ˆè®²çœŸæˆ‘è§‰å¾—å¤§å“¥çš„ä½ç½®åº”è¯¥æ˜¯æ—ç¥¥ç¦ï¼‰ï¼Œæœ€åä»–ä¹Ÿæ˜¯äº²æ‰‹æ€äº†å¼ ä¸€æ–§ã€‚</p><br><hr><br><h4 id="æ—ç™¾å®¶"><a href="#æ—ç™¾å®¶" class="headerlink" title="æ—ç™¾å®¶"></a>æ—ç™¾å®¶</h4><p>â€‹    ä¸€ä¸ªæ‡‚äº‹ã€ç—´æƒ…ã€å‘½è‹¦çš„å¥³ç”Ÿï¼Œè‡ªå°æ²¡äº†æ¯äº²ï¼Œéšååˆè·Ÿé¡¾åŒå¹´è®¢äº†å©šï¼ˆè®¢å©šæœªé‚ï¼‰ï¼Œé¡¾åŒå¹´æ²¡äº†ï¼Œéšåæ²¡äº†çˆ¹ï¼Œåœ¨ä¸–é—´å·²ç»æ²¡æœ‰äº²äººäº†ï¼ˆåªæœ‰ç”°äºŒã€ç”°ä¸‰ã€ç”°å››ã€ç”°äº”ï¼‰ã€‚</p><p>â€‹    æˆ‘æ˜¯å¾ˆå–œæ¬¢æ—ç™¾å®¶çš„ï¼Œå¥¹å¤©çœŸã€çƒ‚æ¼«ã€é˜³å…‰ã€æ•¢äºæŒ‘æˆ˜å‘½è¿çš„æ·é”ã€ç—´æƒ…ã€‚å¥¹çˆ±ç€é™ˆè€€æ­¦ï¼Œå¹¶ä¸”ä¸€ç›´æ·±çˆ±ç€ï¼ŒçŸ¥é“è¢«é€åˆ°ä¸Šæµ·å¥³å­å­¦é™¢å­¦ä¹ è¥¿æ–¹æ€æƒ³ã€æ¯å¤©å¼ å£é—­å£å°±æ˜¯â€œä¸»å•Š~â€ï¼Œç›´åˆ°æœ€åé™ˆè€€æ­¦å˜å¿ƒï¼Œå¥¹éƒ½è¿˜çˆ±ç€ä»–ã€‚</p><br><hr><br><h4 id="å’Œå°š"><a href="#å’Œå°š" class="headerlink" title="å’Œå°š"></a>å’Œå°š</h4><p>â€‹    ä½œä¸ºä¸€ä¸ªåœŸåŒªæ¥è¯´ï¼Œä»–æå…·äººæƒ…å‘³å„¿ï¼Œè·Ÿæ¯äº²å¯¹è¯æ—¶ä¸€å¥â€œæ±Ÿæ¹–çš„äº‹æƒ…â€å¯ä»¥çœ‹å‡ºä»–çš„æ— å¥ˆï¼Œä¹¦ä¸­å¯¹ä»–çš„æè¿°æ˜¯ä»–ä»æœªå¤§å£°è¯´è¿‡è¯ï¼Œç´§è¦å…³å¤´ä»–çš„è¯­æ°”è¿˜æ˜¯å¾ˆæ¸©æŸ”ï¼Œåœ¨é™ˆè€€æ­¦è¢«å‰²è€³æœµæ—¶ï¼Œä»–ä¹Ÿä¼šå¤¹ç´§è€³æœµä»¥å‡å°‘ç–¼ç—›ï¼Œä»–å‡ æ¬¡æ•‘ä¸‹äº†é™ˆè€€æ­¦ç­‰äººï¼Œæœ€ååœ¨æ—ç¥¥ç¦æ­»åä¸é™ˆæ°¸è‰¯ç»“æ‹œä¸ºå…„å¼Ÿã€‚</p><p>â€‹    å’Œå°šæ˜¯ä¸€ä¸ªå¥½äººï¼Œä¹Ÿå› ä¸ºè¿™ä¸ªäººçš„å‡ºç°ï¼Œæ›´èƒ½å‡¸æ˜¾å‡ºæˆ˜ä¹±çº·é£çš„å¹´ä»£ï¼Œè€ç™¾å§“çš„ä¸å®¹æ˜“ï¼Œå–„è‰¯çš„äººä¹Ÿå¿…é¡»è¦æ‹¿èµ·åˆ€å­å»å®°æ€å…¶ä»–äººæ¥è®©è‡ªå·±æ´»ä¸‹å»ã€‚</p><p>â€‹    å’Œå°šæœ€åæ­»äº†ï¼Œæ­»äº†ä¸€ä¸ªåœŸåŒªï¼Œä¹Ÿæ­»äº†ä¸€ä¸ªå¥½äººã€‚</p><br><hr><br><h4 id="å¼ ä¸€æ–§"><a href="#å¼ ä¸€æ–§" class="headerlink" title="å¼ ä¸€æ–§"></a>å¼ ä¸€æ–§</h4><p>â€‹    ä¸å’Œå°šä¸åŒçš„æ˜¯ï¼Œå¼ ä¸€æ–§æ˜¯ä¸€ä¸ªè½¦å¤´å½»åº•çš„åäººï¼Œå¦‚æœè¯´å’Œå°šè®©äººè§‰å¾—ç”Ÿé”™äº†å¹´ä»£ã€è®©äººæ„Ÿè§‰åˆ°äº†é€ åŒ–å¼„äººï¼Œé‚£ä¹ˆå¼ ä¸€æ–§ç»å¯¹æ˜¯èµ¶ç€è¿™ä¸ªæ—¶é—´ç‚¹æŠ•çš„èƒï¼Œä»–ç”Ÿæ€§å°±æ¶ï¼Œèƒ½æ€çš„ç»ä¸æ‰“æ®‹ã€èƒ½æŠ˜ç£¨çš„ç»ä¸è®©ä»–è½»æ˜“æ­»å»ã€é‡åˆ°ä¸¤è…¿ä¹‹é—´æ²¡æŠŠå„¿çš„ç»å¯¹è¦è§£è£¤è…°å¸¦ï¼Œä»–æ˜¯ä¸ªç‹ äººï¼Œä¹Ÿæ˜¯ä¸ªåäººï¼Œä»–è¯¥æ­»ï¼Œä½†æ˜¯å´æ‹‰ä¸Šäº†å’Œå°šä¸æ—ç¥¥ç¦ã€‚</p><p>â€‹    ä»–çš„æ¶ä»¥åŠè„¾æ°”è®©ä»–çš„å…„å¼Ÿéƒ½å«Œå¼ƒï¼Œå’Œä¸Šç­‰äººæŠ•é ä»–ååˆèµ°äº†ã€åœ¨ä»–çäº†ä¹‹åå…„å¼Ÿå°†ä»–æ‰”äº†â€¦..è¿™ä¸€åˆ‡éƒ½è¯´æ˜ï¼Œä»–æ˜¯ä¸ªç‹ è§’è‰²ã€æ˜¯ä¸ªåè¶³çš„åœŸåŒªå¤´å¤´ï¼Œä½†æ˜¯å´å¾—ä¸åˆ°äººå¿ƒã€‚</p><p>â€‹    æœ€åè¢«è‡ªå·±çš„å·¦è†€å³è‡‚æ‰”äº†åï¼Œå°å¼Ÿä»¬å±…ç„¶æŠŠæ‰”ä»–çš„ä½ç½®ä¼ äº†å‡ºæ¥ï¼Œé‚£ä¹ˆç­‰å¾…ä»–çš„ç»“æœå°±åªæœ‰ä¸€ä¸ªæ­»ï¼Œæ­£å¦‚ä»–çš„å°å¼Ÿç»™ä»–æªæ—¶ç¬‘ç€è¯´çš„é‚£å¥è¯ï¼šâ€œé‡Œé¢å°±å‡ æšå­å¼¹ï¼Œä½ çš„ä»‡å®¶å¤ªå¤šäº†ï¼Œçœç€ç‚¹å„¿ç”¨ã€‚â€ä¸€æ–¹é¢å°å¼Ÿå¯¹ä»–æ²¡æœ‰ä»€ä¹ˆæ„Ÿæƒ…ï¼Œä¸€æ–¹é¢åœ¨ä»–çäº†æˆäº†ç´¯èµ˜ä¹‹åï¼Œè¿˜æ˜¯å¯¹å°å¼Ÿä»¬æ¶è¯­ç›¸å‘ï¼Œä¸€å¥è¯ä¸åˆé€‚å°±å¼€éª‚ï¼Œä¹Ÿå¾ˆéš¾ä¸è®©äººåŒæ¶ä»–ã€‚</p><p>â€‹    æ­»å¾—å¥½ã€‚</p><br><hr><br><h1 id="é—æ†¾"><a href="#é—æ†¾" class="headerlink" title="é—æ†¾"></a>é—æ†¾</h1><p>â€‹    æ•…äº‹ä¸­æœ‰å¾ˆå¤šé—æ†¾ï¼š</p><ul><li><p>æ—ç¥¥ç¦å’Œå­™å®¶å§‘å¨˜ï¼ˆè‹¥æ²¡æœ‰åª’å©†çš„å‡ å¥è¯ï¼Œè¯´ä¸å®šå°±æ²¡æœ‰äº†æ‰€æœ‰çš„é—æ†¾ï¼‰</p></li><li><p>æ—ç¥¥ç¦å’Œå°ç¾çš„çˆ±æƒ…æ•…äº‹ï¼šä¸¤äººçš„é—æ†¾æ˜¯å»ºç«‹åœ¨äº†å°å»ºç¤¾ä¼šçš„æ€æƒ³ä¸Šï¼Œå°ç¾åˆ°æ­»éƒ½è§‰å¾—è‡ªå·±åªæ˜¯ä¸€ä¸ªé˜¿å¼ºçš„ä¸€ä¸ªç‰©å“ï¼Œä¸€ä¸ªä¸œè¥¿ã€‚</p></li><li><p>æ—ç™¾å®¶çš„çˆ±æƒ…ï¼šè™½ç„¶è¿˜æ²¡è®¢å©šï¼Œä½†æ˜¯å¥¹å’Œé™ˆè€€æ­¦çš„çˆ±æƒ…ä¸è¢«å…è®¸ã€‚</p></li><li><p>æ—ç¥¥ç¦ä¸å°ç¾äºŒäººçš„æ“¦è‚©è€Œè¿‡ï¼šæ—ç¥¥ç¦æœ‰å››æ¬¡éƒ½ä¸å°ç¾æ“¦è‚©è€Œè¿‡ï¼š</p><ul><li>åˆæ¥åˆ°æºªé•‡ï¼Œæ—ç¥¥ç¦å¾—åˆ°äº†å°ç¾äº²æ‰‹ç¼–ç»‡çš„â€œå°äººâ€è¡£æœï¼Œç”±å¥³ä»†ä¸‰å¼„è¿‡æ¥çš„ï¼ˆæƒ³æƒ³å¥³ä»†è¿˜æœ‰å¯èƒ½æ˜¯æ—ç¥¥ç¦çš„é‡‘æ¡é¡¾çš„ï¼ŒçœŸæ°”äººï¼‰</li><li>æœ›ç€ç¥­å›é‚£è¾¹è¢«å†»æ­»çš„äººï¼Œé‚£é‡Œé¢å°±æœ‰ä»–å¯»æ‰¾äº†ä¸€ç”Ÿçš„å°ç¾ã€‚</li><li>ä»–é—®äº†å¾ˆå¤šäººå…³äºæºªé•‡çš„é˜¿å¼ºå’Œå°ç¾ï¼Œä½†åªè·Ÿé™ˆæ°¸è‰¯ä¸€ä¸ªäººè¯´èµ·è¿‡è‡ªå·±æ¥æºªé•‡çš„çœŸæ­£ç›®çš„ï¼Œå¦‚æœå’Œé¡¾ç›Šæ°‘è®²è¿‡ï¼Œé‚£ä¹ˆé¡¾ç›Šæ°‘ä¸€å®šçŸ¥é“è¿™ä¸¤ä¸ªäººï¼ˆä»–äº²è‡ªå®‰æ’äººä¸‹è‘¬çš„äºŒäººï¼‰ã€‚</li><li>æ­»åçš„æ—ç¥¥ç¦å’Œç”°å¤§ä¸€åŒèººåœ¨æ£ºæé‡Œï¼Œç”°å®¶å››å…„å¼Ÿåœ¨ä¸€ä¸ªåŸå¤´æ­‡è„šæ’’å°¿ï¼Œè¿™åŸä¸Šåˆ»ç€â€œçºªå°ç¾ã€æ²ˆç¥–å¼ºä¹‹å¢“â€ï¼Œè‹¥äººæœ‰é­‚é­„ï¼Œæ­¤æ—¶çš„äºŒäººè¯¥è¯´äº›ä»€ä¹ˆï¼Ÿåˆæ˜¯ä¸€ç§ä»€ä¹ˆæ ·çš„å¿ƒæƒ…ï¼ˆçœ‹åˆ°è¿™é‡ŒçœŸçš„æ³ªç›®ï¼‰ã€‚</li></ul></li><li><p>æ—ç¥¥ç¦å»èµé¡¾ç›Šæ°‘ï¼Œå´å¾—çŸ¥é¡¾ç›Šæ°‘å·²æ­»ï¼ŒéšåæŠ±æ†¾è€Œç»ˆã€‚</p></li><li><p>è¿˜æœ‰ä¸€äº›æ— å…³ç´§è¦çš„é—æ†¾ï¼Œæ¯”å¦‚å©†å©†æ­»å‰å¿µå¨ç€å°ç¾çš„åå­—ã€é¡¾åŒå¹´çš„å»å‘å¯¼è‡´äº†æ—ç™¾å®¶çš„æœªæ¥æˆäº†å˜æ•°ç­‰â€¦..</p></li></ul><br><hr><br><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>â€‹    æ•´æœ¬ä¹¦è®²äº†ä¸€ä¸ªçˆ±æƒ…æ‚²å‰§ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ—¶ä»£æ‚²å‰§ï¼Œå°±åƒæ˜¯ã€Šè¿½é£ç­çš„äººã€‹é‚£èˆ¬ï¼Œå¼€å¤´çš„æ•…äº‹æœ‰å¤šä¹ˆä»¤äººå‘å¾€ï¼Œåé¢çš„æ•…äº‹å°±å¤šä¹ˆä»¤äººå¿ƒé…¸ã€‚ä½™åçš„è¯»è€…éƒ½è¯´ï¼šâ€œä½™åæ˜¯ä¸€ä¸ªå¾ˆå¹½é»˜çš„äººï¼Œä»–åœ¨å†™ç¨¿å­çš„æ—¶å€™æƒ³åˆ°è¯»è€…çœ‹çš„å“‡å“‡å¤§å“­ï¼Œå°±å¿ä¸ä½ç¬‘å‡ºå£°æ¥ã€‚â€ è¿™å¾ˆä½™åã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è¯»ä¹¦ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¯»ä¹¦ç¬”è®°</tag>
      
      <tag>ä½™å</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Shellã€‘Shell è„šæœ¬è‡ªåŠ¨è¾“å…¥å¯†ç çš„ä¸‰ç§æ–¹å¼</title>
    <link href="/2022/06/28/%E3%80%90Shell%E3%80%91Shell-%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    <url>/2022/06/28/%E3%80%90Shell%E3%80%91Shell-%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="Shell-è„šæœ¬è‡ªåŠ¨è¾“å…¥å¯†ç çš„ä¸‰ç§æ–¹å¼"><a href="#Shell-è„šæœ¬è‡ªåŠ¨è¾“å…¥å¯†ç çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="Shell è„šæœ¬è‡ªåŠ¨è¾“å…¥å¯†ç çš„ä¸‰ç§æ–¹å¼"></a>Shell è„šæœ¬è‡ªåŠ¨è¾“å…¥å¯†ç çš„ä¸‰ç§æ–¹å¼</h2><br><br><hr><p><font color=orange >æ³¨æ„ï¼Œå¦‚æœåˆ›å»º.shæ–‡ä»¶åä¸å¯ä»¥æ‰§è¡Œï¼Œè¯·æ‰§è¡Œ<code>sudo chmod 755 æ–‡ä»¶å.sh</code>æ¥ä¿®æ”¹æƒé™ã€‚</font></p><hr><br><br><h4 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€"></a>æ–¹å¼ä¸€</h4><blockquote><p> ä½¿ç”¨ echo â€œå¯†ç â€ | ï¼ˆç®¡é“ç¬¦ï¼‰</p><p> ä½¿ç”¨åœºæ™¯: sudo å‘½ä»¤</p></blockquote><p>åœ¨ä½¿ç”¨æ™®é€šç”¨æˆ·æ‰§è¡Œ root å‘½ä»¤æ—¶æœ‰æ—¶å€™ä¼šéœ€è¦è¾“å…¥å¯†ç ï¼Œå¹¶ä¸”åœ¨è¾“å…¥å¯†ç åä¸€æ®µæ—¶é—´ä¸éœ€è¦å†æ¬¡è¾“å…¥ï¼ˆä½†æ˜¯ä¸å½±å“ï¼‰ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨</p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">echo &quot;å¯†ç &quot; | sudo å‘½ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æ¯”å¦‚æˆ‘éœ€è¦ä¸€é”®æ¸…ç©ºæœåŠ¡å™¨ï¼Œåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ª<code>clear.sh</code>æ–‡ä»¶ï¼ˆå‡ä½¿æˆ‘çš„å¯†ç æ˜¯ 123456ï¼‰ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">echo &quot;123456&quot; | sudo rm -rf &#x2F;*<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>é‚£ä¹ˆåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œæˆ‘åªéœ€è¦<code>./clear.sh</code>å°±å¯ä»¥æ¸…ç©ºæˆ‘çš„æ•´ä¸ªæ•°æ®åº“ã€‚</p><br><br><h4 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h4><blockquote><p> é‡å®šå‘</p><p>ç”¨é‡å®šå‘æ–¹æ³•å®ç°äº¤äº’çš„å‰ææ˜¯æŒ‡ä»¤éœ€è¦æœ‰å‚æ•°æ¥æŒ‡å®šå¯†ç è¾“å…¥æ–¹å¼ï¼Œå¦‚ftpå°±æœ‰-iå‚æ•°æ¥æŒ‡å®šä½¿ç”¨æ ‡å‡†è¾“å…¥æ¥è¾“å…¥å¯†ç </p><p>shellç”¨é‡å®šå‘ä½œä¸ºæ ‡å‡†è¾“å…¥çš„ç”¨æ³•æ˜¯ï¼šcmd&lt;&lt;delimiter ,shell ä¼šå°†åˆ†ç•Œç¬¦delimiterä¹‹åç›´åˆ°ä¸‹ä¸€ä¸ªåŒæ ·çš„åˆ†ç•Œç¬¦ä¹‹å‰çš„å†…å®¹ä½œä¸ºè¾“å…¥</p><p>ä½¿ç”¨åœºæ™¯ï¼šä¸ä»…ä»…è¾“å…¥ä¸€ä¸ªå¯†ç ï¼Œè¿˜éœ€è¦è¾“å…¥ç”¨æˆ·åã€‚</p></blockquote><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">ftp -i -n 192.168.21.46 &lt;&lt;EOFuser ç”¨æˆ·å å¯†ç EOF<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><br><br><h4 id="æ–¹å¼ä¸‰"><a href="#æ–¹å¼ä¸‰" class="headerlink" title="æ–¹å¼ä¸‰"></a>æ–¹å¼ä¸‰</h4><blockquote><p>expect</p><p>echo + ç®¡é“ç¬¦ä¸æ˜¯ä»€ä¹ˆæ—¶å€™éƒ½å¯ä»¥ç”Ÿæ•ˆï¼ˆæ¯”å¦‚æˆ‘å†™çš„è‡ªåŠ¨æäº¤åšå®¢è„šæœ¬æœ€åéœ€è¦è¾“å…¥æˆ‘çš„æœåŠ¡å™¨çš„ git ä»“åº“å¯†ç å°±ä¸ç”Ÿæ•ˆï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ expect æ–¹æ³•æ¥æ‰§è¡Œã€‚</p></blockquote><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">set timeout 30spawn ssh -l ç”¨æˆ·å 10.125.25.189expect &quot;password:&quot;send &quot;è¦è¾“å…¥çš„å¯†ç &quot;    interact<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>è¿™é‡Œçš„è¯­å¥æ˜¯è¿™æ ·çš„ï¼š</p><blockquote><ol><li>è®¾ç½®è¶…æ—¶æ—¶é—´ä¸º30s</li><li><ol><li>spawn æ˜¯ expect çš„èµ·å§‹è¯­å¥ï¼Œå¯ä»¥ç†è§£ä¸ºä»æ­¤å¤„å¼€å§‹</li><li>spawn åé¢çš„è¯­å¥æ˜¯æ‰§è¡Œ ssh è¿æ¥</li></ol></li><li>expectï¼šå½“å‘ç°<code>password:</code>è¿™ä¸ªå­—ç¬¦ä¸²åï¼Œåœ¨åæ–¹è¾“å…¥sendåé¢çš„å†…å®¹</li><li>sendï¼šè¦è¾“å…¥çš„å¯†ç </li><li>interactï¼šæ‰§è¡Œå®Œç•™åœ¨è¿œç¨‹æ§åˆ¶å°ï¼Œä¸åŠ è¿™å¥æ‰§è¡Œå®Œåè¿”å›æœ¬åœ°æ§åˆ¶å° </li></ol></blockquote><h5 id="å†ä¸¾ä¸€ä¸ªä¾‹å­"><a href="#å†ä¸¾ä¸€ä¸ªä¾‹å­" class="headerlink" title="å†ä¸¾ä¸€ä¸ªä¾‹å­"></a>å†ä¸¾ä¸€ä¸ªä¾‹å­</h5><p>è¿™ä¸ªä¾‹å­æ˜¯æˆ‘çœŸå®çš„è„šæœ¬æ–‡ä»¶ï¼ˆä½†æ˜¯ç£¨æ‰äº†å¯†ç ï¼‰ï¼Œå¹³æ—¶ç”¨äºå¾€æˆ‘çš„æœåŠ¡å™¨ä¸­æäº¤ hexo åšå®¢</p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">cd &#x2F;Users&#x2F;jim&#x2F;hexoecho &#39;123456&#39; | sudo -S hexo clean sudo hexo g spawn sudo -S hexo dexpect &quot;password:&quot;send &quot;123456&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><blockquote><p>é¦–å…ˆè¿›å…¥åˆ°hexoæ–‡ä»¶å¤¹ä¸‹</p><p>å› ä¸ºè¦ç”¨åˆ°sudo æ¥ clean/generate/deployæˆ‘çš„åšå®¢ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œä½¿ç”¨ä¸€ä¸ª echo+ç®¡é“ç¬¦ï¼Œè¾“å…¥ä¸€æ¬¡ sudo å‘½ä»¤ï¼ˆçŸ­æ—¶é—´å†…ä¸éœ€è¦å†é‡å¤è¾“å…¥ï¼Œæ‰€ä»¥æˆ‘åªå†™äº†ä¸€ä¸ªï¼‰</p><p>generate ä¸€ä¸‹ hexo æ–‡ä»¶</p><p>æäº¤åˆ°è¿œç¨‹ä»“åº“ï¼Œè¿™é‡Œéœ€è¦è¾“å…¥è¿œç¨‹ä»“åº“çš„å¯†ç ï¼Œæ‰€ä»¥æˆ‘ç”¨<code>spawn</code>æ ‡è®°è¿™å¥è¯</p><p>å½“ <code>expect</code>ï¼ˆå‘ç°ï¼‰åˆ°â€password:â€åæ‰§è¡Œ<code>send</code></p><p>å°†æˆ‘çš„å¯†ç  <code>send</code>ï¼ˆå‘é€åˆ°ï¼‰åˆ°æ§åˆ¶å°</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Shell</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœåŠ¡å™¨</tag>
      
      <tag>Shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æ—¥è®°ã€‘ä¸¤ä¸ªä¹°ç³–çš„å°å¥³å­©</title>
    <link href="/2022/06/25/%E6%97%A5%E8%AE%B0/%E3%80%90%E6%97%A5%E8%AE%B0%E3%80%91%E4%B8%A4%E4%B8%AA%E4%B9%B0%E7%B3%96%E7%9A%84%E5%B0%8F%E5%A5%B3%E5%AD%A9/"/>
    <url>/2022/06/25/%E6%97%A5%E8%AE%B0/%E3%80%90%E6%97%A5%E8%AE%B0%E3%80%91%E4%B8%A4%E4%B8%AA%E4%B9%B0%E7%B3%96%E7%9A%84%E5%B0%8F%E5%A5%B3%E5%AD%A9/</url>
    
    <content type="html"><![CDATA[<h4 id="2022-6-25-æ—¥è®°ï¼šä¸¤ä¸ªä¹°ç³–æœçš„å°å¥³å­©"><a href="#2022-6-25-æ—¥è®°ï¼šä¸¤ä¸ªä¹°ç³–æœçš„å°å¥³å­©" class="headerlink" title="2022.6.25 æ—¥è®°ï¼šä¸¤ä¸ªä¹°ç³–æœçš„å°å¥³å­©"></a>2022.6.25 æ—¥è®°ï¼šä¸¤ä¸ªä¹°ç³–æœçš„å°å¥³å­©</h4><br><hr><p>ä»Šå¤©å‘¨å…­ï¼Œå»æ¥¼ä¸‹è¶…å¸‚ä¹°äº†ç‚¹åƒçš„ï¼Œç»“è´¦çš„æ—¶å€™å‰é¢ç«™ç€ä¸¤ä¸ªå°å¥³å­©åœ¨ç­‰æ”¶é“¶å‘˜æ‰¾é›¶ï¼Œå°å¥³å­©æ¯”æ”¶é“¶å‘˜çš„æ¡Œå­é«˜ä¸äº†å¤šå°‘ï¼Œç«™åœ¨é‚£é‡Œå‘ä¸Šå¼ æœ›ç€æ•°é’±çš„æ”¶é“¶å‘˜ï¼Œè€Œæˆ‘åˆ™ç›¯ç€æ”¶é“¶å°ä¸Šçš„ç³–æœï¼šä¸€ä¸ªæ¯”å·´åœï¼Œä¸¤æ ¹æ£’æ£’ç³–ã€‚</p><br><p>æˆ‘å¹¶ä¸èƒ½ç›´æ¥çœ‹åˆ°æ”¶é“¶å‘˜çš„æ‰‹ï¼Œä½†æ˜¯èƒ½å¬åˆ°ä»–åœ¨ç”¨ä¸€åªæ‰‹ä»æŠ½å±‰é‡Œä¸€ä¸ªä¸€ä¸ªçš„æ‹¿ç€ç¡¬å¸ï¼Œç„¶åæ‰”åˆ°å¦ä¸€åªæ‰‹é‡Œã€‚</p><br><p>è¿™æ—¶å€™å‰é¢ä¸¤ä¸ªå¥³å­©å­è¯´è¯äº†ï¼Œå¥¹ä»¬å¤§æ¦‚éƒ½æ˜¯å°å­¦ç”Ÿï¼Œè¯­æ°”å¾ˆç¨šå«©ï¼Œè¯´è¯å´æœ‰ç‚¹â€¦å¯èƒ½è¯´æ˜¯éšçˆ¸å¦ˆã€‚</p><br><p>â€œè¦ä¸å°±è¿™æ ·å§â€¦â€å…¶ä¸­ä¸€ä¸ªå°å¥³å­©è¯´é“ï¼Œå¥¹çš„å£°éŸ³æœ‰ç‚¹æ€¯æ„ï¼Œæ„Ÿè§‰æ˜¯ç¬¬ä¸€æ¬¡å¹²è¿™ç§äº‹å„¿ï¼ˆä½†åˆä¸åƒï¼‰ï¼Œâ€ä¸ç”¨æ‰¾äº†ã€‚â€œ</p><br><p>ç»“åˆåˆšåˆšæ”¶é“¶å‘˜æ‰‹é‡Œä¼ æ¥çš„ç¡¬å¸ç”Ÿï¼Œæˆ‘å¾ˆç¡®ä¿¡ä»–æ­£åœ¨ä¸ç´§ä¸æ…¢çš„ä¸€è§’ä¸€è§’çš„æ•°ç€é›¶é’±ï¼Œè€Œè¿™ä¸¤ä½ååˆ†å¹´è½»çš„å¥³å£«æœ‰ç‚¹ä¸è€çƒ¦äº†ã€‚</p><br><p>â€œé‚£æ€ä¹ˆå¯ä»¥å‘¢ï¼Œé›¶é’±è¿˜æ˜¯è¦æ‰¾çš„ã€‚â€æ”¶é“¶å‘˜å¦‚æ˜¯è¯´é“ï¼Œé‚å‘ç”Ÿäº†æˆ‘æƒŠæ‰ä¸‹å·´çš„ä¸€å¹•ï¼šä»–æŠ¬èµ·æ‰‹ï¼Œæ‰¾ç»™å°å¥³å­© 13.5 å…ƒ RMBâ€¦..</p><br><p>æˆ‘å½“æ—¶çœŸçš„å†…å¿ƒä¸€ä¸‡å¤´xxxåœ¨è·‘ï¼Œæˆ‘æ‹¼å¤•å¤• 5 å—é’±ä¹°ä¸ªæ‰‹æœºå£³è¿˜è¦ç”±äºå¥½ä¸€ä¼šå„¿ï¼Œè¿™ä¿©å°å¯Œå©†ï¼ï¼ï¼</p><br><p>éšååˆ°æˆ‘äº†ï¼Œæˆ‘æ‹¿ä¸Šæ‰‹é‡Œçš„é”¡çº¸ï¼ˆè¿™æ˜¯æˆ‘ä¹°çš„å”¯ä¸€çš„å•†å“ï¼‰ï¼Œç„¶åè·Ÿæ”¶é“¶å‘˜è¯´ï¼šâ€œè¦ä¸å°±è¿™æ ·å§ï¼Œç®—äº†å§ï¼Œä¸ç”¨ç»™äº†ã€‚â€</p><br><p>ï¼ˆå°åŒºé—¨å£çš„è¶…å¸‚ï¼Œå¤©å¤©å»ï¼Œéƒ½è®¤è¯†äº†ï¼Œè¯·å‹¿æ¨¡ä»¿ã€‚ï¼‰</p><br><p>ç„¶åä»˜äº†é’±ï¼Œæˆ‘èµ°äº†ï¼Œå›å»è·Ÿæœ‹å‹è¯´äº†è¿™ä»¶äº‹ï¼Œä»–ä»¬è¯´ï¼šâ€œæˆ‘ä»¬åœ¨è¿™é‡ŒèŠ±å¥½å‡ åƒç§Ÿä¸€é—´æˆ¿å­ï¼Œä»–ä»¬ç”Ÿä¸‹æ¥å°±æœ‰è¿™é‡Œçš„æˆ¿å­ã€‚â€</p><br><p>æœ‹å‹è¯´çš„å¾ˆæœ‰é“ç†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯åšæŒå·±è§ï¼šå¯ä»¥ä¸ç©·å…»å­©å­ï¼Œä½†æ˜¯ä¸€å®šè¦æ•™è‚²å­©å­å‹¤ä¿­èŠ‚çº¦ï¼Œç”Ÿæ´»çš„ç¯å¢ƒå¾ˆé‡å•Šå“Ÿï¼Œæ•™è‚²ä¹Ÿå¾ˆé‡è¦ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ—¥è®°</tag>
      
      <tag>ç”Ÿæ´»ä¸­çš„è¶£äº‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æœªå®Œæˆã€‘Docker å­¦ä¹ ç¬”è®°</title>
    <link href="/2022/06/25/Docker%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/06/25/Docker%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="Docker-å­¦ä¹ ç¬”è®°"><a href="#Docker-å­¦ä¹ ç¬”è®°" class="headerlink" title="Docker å­¦ä¹ ç¬”è®°"></a>Docker å­¦ä¹ ç¬”è®°</h1><br><br><h2 id="ç›¸å…³ç½‘ç«™"><a href="#ç›¸å…³ç½‘ç«™" class="headerlink" title="ç›¸å…³ç½‘ç«™"></a>ç›¸å…³ç½‘ç«™</h2><p><a href="https://www.docker.com/">Dockerå®˜ç½‘</a></p><p><a href="https://hub.docker.com/_/tomcat">Docker Hub</a></p><p><a href="https://home.console.aliyun.com/">é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ï¼ˆæ¯ä¸€ä½ç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„é•œåƒåŠ é€Ÿå·¥å…·ï¼‰</a></p><br><br><br><h2 id="å®‰è£…å¹¶é…ç½®"><a href="#å®‰è£…å¹¶é…ç½®" class="headerlink" title="å®‰è£…å¹¶é…ç½®"></a>å®‰è£…å¹¶é…ç½®</h2><hr><h3 id="é…ç½®é•œåƒåŠ é€Ÿå™¨"><a href="#é…ç½®é•œåƒåŠ é€Ÿå™¨" class="headerlink" title="é…ç½®é•œåƒåŠ é€Ÿå™¨"></a>é…ç½®é•œåƒåŠ é€Ÿå™¨</h3><p><a href="https://home.console.aliyun.com/">é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ï¼ˆæ¯ä¸€ä½ç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„é•œåƒåŠ é€Ÿå·¥å…·ï¼‰</a></p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># åœ¨&#x2F;etcä¸‹åˆ›å»º&#x2F;dockerç›®å½•sudo mkdir -p &#x2F;etc&#x2F;docker # ä½¿ç”¨ vim åˆ›å»ºä¸€ä¸ª daemon.json æ–‡ä»¶sudo vim &#x2F;etc&#x2F;docker&#x2F;daemon.json&#123;  &quot;registry-mirrors&quot;: [&quot;é•œåƒåœ°å€&quot;] &#125; # é•œåƒé…ç½®ç”Ÿæ•ˆsudo systemctl daemon-reload # é‡å¯ dockersudo systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="å¯åŠ¨ã€å…³é—­ã€é‡å¯-Docker"><a href="#å¯åŠ¨ã€å…³é—­ã€é‡å¯-Docker" class="headerlink" title="å¯åŠ¨ã€å…³é—­ã€é‡å¯ Docker"></a>å¯åŠ¨ã€å…³é—­ã€é‡å¯ Docker</h2><ul><li>å¯åŠ¨ Docker</li></ul><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">sudo systemctl start docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>å…³é—­ Docker</li></ul><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">sudo systemctl stop docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>é‡å¯ Docker</li></ul><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">sudo systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h2 id="Docker-ç›¸å…³å‘½ä»¤"><a href="#Docker-ç›¸å…³å‘½ä»¤" class="headerlink" title="Docker ç›¸å…³å‘½ä»¤"></a>Docker ç›¸å…³å‘½ä»¤</h2><h4 id="1-å¸¸ç”¨å‘½ä»¤"><a href="#1-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="1. å¸¸ç”¨å‘½ä»¤"></a>1. å¸¸ç”¨å‘½ä»¤</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># æŸ¥æ‰¾é•œåƒåç§° ï¼ˆæˆ–è€…å¯ä»¥é€šè¿‡ Docker hub ç›´æ¥æœç´¢ï¼‰docker search é•œåƒåç§°# ä¸‹è½½é•œåƒdocker pull é•œåƒåç§°# å…·ä½“ä¸€äº›docker pull [é€‰é¡¹] [Docker Registey åœ°å€[:ç«¯å£å·]&#x2F;] é•œåƒå[:æ ‡ç­¾]# åˆ é™¤é•œåƒï¼ˆç¡®ä¿è¯¥é•œåƒæœªè¢«ä»»ä½•å®¹å™¨ä½¿ç”¨ï¼‰docker image rmi é•œåƒ&#x2F;ID# æŸ¥çœ‹å†å²é•œåƒæ“ä½œdocker history nginx# ç”¨ save å­å‘½ä»¤å°†æœ¬åœ°ä»“åº“çš„é•œåƒä¿å­˜åˆ°å½“å‰ç›®å½•ä¸‹docker save é•œåƒåç§°ï¼ˆæ­å»ºä¸€ä¸ªç§æœ‰çš„é•œåƒä»“åº“ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="2-æŸ¥çœ‹å®¹å™¨çŠ¶æ€"><a href="#2-æŸ¥çœ‹å®¹å™¨çŠ¶æ€" class="headerlink" title="2. æŸ¥çœ‹å®¹å™¨çŠ¶æ€"></a>2. æŸ¥çœ‹å®¹å™¨çŠ¶æ€</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">docker ps æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨docker ps -a æŸ¥çœ‹æ‰€æœ‰å®¹å™¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h4 id="3-Docker-å¯åŠ¨-å…³é—­-åˆ é™¤-å®¹å™¨"><a href="#3-Docker-å¯åŠ¨-å…³é—­-åˆ é™¤-å®¹å™¨" class="headerlink" title="3. Docker å¯åŠ¨/å…³é—­/åˆ é™¤ å®¹å™¨"></a>3. Docker å¯åŠ¨/å…³é—­/åˆ é™¤ å®¹å™¨</h4><p>å¯åŠ¨å®¹å™¨çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åŸºäºé•œåƒæ–°å»ºä¸€ä¸ªå®¹å™¨å¹¶å¯åŠ¨ï¼Œä¸€ç§æ˜¯å°†ç»ˆæ­¢çŠ¶æ€ï¼ˆstoppedï¼‰çš„å®¹å™¨é‡æ–°å¯åŠ¨</p><p><strong>docker run å‚æ•° é•œåƒåç§°:tag æ‰§è¡Œçš„å‘½ä»¤</strong></p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># -i ä¿æŒå’Œ docker å®¹å™¨å†…çš„äº¤äº’ï¼Œå¯åŠ¨å®¹å™¨æ—¶ï¼Œè¿è¡Œçš„å‘½ä»¤ç»“æŸåï¼Œå®¹å™¨ä¾ç„¶å­˜è´§ï¼Œæ²¡æœ‰é€€å‡ºï¼ˆé»˜è®¤æ˜¯ä¼šæ¨å‡ºï¼Œå³åœæ­¢çš„ï¼‰# -t ä¸ºå®¹å™¨çš„æ ‡å‡†è¾“å…¥è™šæ‹Ÿä¸€ä¸ª tty# -d åå°è¿è¡Œå®¹å™¨# --rf å®¹å™¨åœ¨å¯åŠ¨åï¼Œæ‰§è¡Œå®Œæˆå‘½ä»¤æˆ–ç¨‹åºåå°±é”€æ¯# --name ç»™å®¹å™¨èµ·ä¸€ä¸ªè‡ªå®šä¹‰çš„åå­—# -p å®¿ä¸»æœºï¼šå†…éƒ¨ç«¯å£docker run --rm -d --name tomcat1 -p 8080:8080 tomcat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="åœæ­¢å®¹å™¨"><a href="#åœæ­¢å®¹å™¨" class="headerlink" title="åœæ­¢å®¹å™¨"></a>åœæ­¢å®¹å™¨</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">## åœæ­¢æ‰€æœ‰å®¹å™¨docker stop name&#x2F;idï¼ˆå®¹å™¨ id æˆ–è€…å®¹å™¨åå­—ï¼‰docker stop $(docker ps -a -q)docker container stop name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">## åˆ é™¤å®¹å™¨ï¼ˆåˆ é™¤å‰è¦å…ˆå…³é—­ï¼‰docker rm å®¹å™¨ ID&#x2F;å®¹å™¨åç§°docker rm $(docker ps -a -q) åˆ é™¤æ‰€æœ‰å®¹å™¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h4 id="è¿›å…¥å®¹å™¨å†…éƒ¨"><a href="#è¿›å…¥å®¹å™¨å†…éƒ¨" class="headerlink" title="è¿›å…¥å®¹å™¨å†…éƒ¨"></a>è¿›å…¥å®¹å™¨å†…éƒ¨</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">docker exec -it å®¹å™¨åç§° bash  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><font size=2 color=darkgray>echo â€˜Hello Worldâ€™&gt;&gt;index.html</font></p><h5 id="æ‹·è´æ–‡ä»¶"><a href="#æ‹·è´æ–‡ä»¶" class="headerlink" title="æ‹·è´æ–‡ä»¶"></a>æ‹·è´æ–‡ä»¶</h5><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">docker cp åç§°:&#x2F;usr&#x2F;local&#x2F;åœ°å€ &#x2F;root<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h4 id="æ—¥å¿—æ“ä½œ"><a href="#æ—¥å¿—æ“ä½œ" class="headerlink" title="æ—¥å¿—æ“ä½œ"></a>æ—¥å¿—æ“ä½œ</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">docker logs å®¹å™¨åç§°&#x2F;ID docker logs -f -t --since&#x3D;&quot;2018-12-1&quot; --tail&#x3D;10 qfjy_exam <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h2 id="æ•°æ®å·"><a href="#æ•°æ®å·" class="headerlink" title="æ•°æ®å·"></a>æ•°æ®å·</h2><p>  <font size=2 color=red>å®¹å™¨å†…å¤–åŒæ­¥å˜æ›´</font></p>]]></content>
    
    
    <categories>
      
      <category>Docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Docker</tag>
      
      <tag>æœåŠ¡å™¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€éƒ¨ç½²ã€‘å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„è·¨åŸŸé—®é¢˜</title>
    <link href="/2022/06/25/%E3%80%90%E9%83%A8%E7%BD%B2%E3%80%91%E8%B7%A8%E5%9F%9F/"/>
    <url>/2022/06/25/%E3%80%90%E9%83%A8%E7%BD%B2%E3%80%91%E8%B7%A8%E5%9F%9F/</url>
    
    <content type="html"><![CDATA[<h1 id="è·¨åŸŸé—®é¢˜"><a href="#è·¨åŸŸé—®é¢˜" class="headerlink" title="è·¨åŸŸé—®é¢˜"></a>è·¨åŸŸé—®é¢˜</h1><h3 id="æ–¹å¼ä¸€-å‰ç«¯é¡¹ç›®ä¸­è®¾ç½®proxyã€‚"><a href="#æ–¹å¼ä¸€-å‰ç«¯é¡¹ç›®ä¸­è®¾ç½®proxyã€‚" class="headerlink" title="æ–¹å¼ä¸€  å‰ç«¯é¡¹ç›®ä¸­è®¾ç½®proxyã€‚"></a>æ–¹å¼ä¸€  å‰ç«¯é¡¹ç›®ä¸­è®¾ç½®proxyã€‚</h3><h3 id="æ³¨æ„ï¼Œæ­¤æ–¹æ³•åœ¨æ‰“åŒ…éƒ¨ç½²æ—¶ä¸ç®¡ç”¨"><a href="#æ³¨æ„ï¼Œæ­¤æ–¹æ³•åœ¨æ‰“åŒ…éƒ¨ç½²æ—¶ä¸ç®¡ç”¨" class="headerlink" title="æ³¨æ„ï¼Œæ­¤æ–¹æ³•åœ¨æ‰“åŒ…éƒ¨ç½²æ—¶ä¸ç®¡ç”¨"></a><font size=2 color=red>æ³¨æ„ï¼Œæ­¤æ–¹æ³•åœ¨æ‰“åŒ…éƒ¨ç½²æ—¶ä¸ç®¡ç”¨</font></h3><p>æœ€è¿‘ä¸€æ®µæ—¶é—´å› ä¸ºä¸Šæµ·ç–«æƒ…å°ç¦åœ¨å®¶é‡Œï¼Œæ— èŠçœ‹äº†ä¸‹å‰ç«¯ï¼Œè·Ÿç€å“”å“©å“”å“©æ‰‹æ•²äº†ä¸€é<a href="https://github.com/Jimecc/yeb">â€äº‘æ˜“åŠâ€œé¡¹ç›®</a>ï¼Œäºæ˜¯ä½¿ç”¨äº†åœ¨å‰ç«¯éƒ¨ç½² proxy çš„æ–¹å¼è¿›è¡Œè·¨åŸŸï¼Œç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p><p><code>vue/vue.config.js</code></p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> proxyObj<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>proxyObj<span class="token punctuation">[</span><span class="token string">'/'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span>    ws<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token comment">// ç›®æ ‡åœ°å€</span>    target<span class="token operator">:</span><span class="token string">'http://127.0.0.1:8081'</span><span class="token punctuation">,</span>    <span class="token comment">// å‘é€è¯·æ±‚å¤´ host ä¼šè¢«æ”¹æˆ target</span>    changeOrigin<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token comment">//ä¸é‡å†™è¯·æ±‚åœ°å€</span>    pathRewrite<span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token string">'^/'</span><span class="token operator">:</span> <span class="token string">'/'</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">&#123;</span>    devServer<span class="token operator">:</span><span class="token punctuation">&#123;</span>        host<span class="token operator">:</span><span class="token string">'localhost'</span><span class="token punctuation">,</span>        port<span class="token operator">:</span><span class="token number">8080</span><span class="token punctuation">,</span>        proxy<span class="token operator">:</span> proxyObj    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    lintOnSave<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    publicPath<span class="token operator">:</span><span class="token string">'./'</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ä»£ç è¿è¡Œå¾ˆæˆåŠŸï¼Œç”±äºæˆ‘æ˜¯å…ˆå†™çš„åç«¯ä»£ç ï¼Œï¼ˆæ„Ÿè§‰åŒæ—¶è¿è¡Œä¸€ä¸ªIDEA åç«¯å’Œä¸€ä¸ª WebStorm æœ‰ç‚¹åƒåŠ›ï¼‰äºæ˜¯æˆ‘å°±å°†åç«¯æ‰“æˆ jar åŒ…åæ”¾åœ¨äº†è‡ªå·±çš„æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ CentOS8ï¼‰ï¼Œå¹¶ä¸”å°† target ä¿®æ”¹ä¸ºæˆ‘çš„æœåŠ¡å™¨åœ°å€ï¼Œè¿è¡Œå¾ˆæµç•…ï¼Œä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚</p><p><font color=red >ä½†æ˜¯ï¼</font>åœ¨æˆ‘å®Œæˆå‰ç«¯ä»£ç ï¼Œ<code>npm run build</code>ç”Ÿæˆ dist æ–‡ä»¶åï¼Œæˆ‘å°† dist éƒ¨ç½²åˆ°æœåŠ¡å™¨å‡ºç°äº†ä¸€å®šçš„é—®é¢˜ï¼šæ‰€æœ‰çš„æ¥å£å…¨éƒ¨ 404 äº†ï¼Œåœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ NetWork çš„ URL å‘ç°è·¨åŸŸå¤±æ•ˆäº†ï¼Œåˆå˜æˆäº†è‡ªå·±çš„ç«¯å£ï¼Œå› æ­¤æŸ¥è¯¢èµ„æ–™ï¼ˆé¡ºä¾¿å…¥é—¨äº†ä¸‹ Nginxï¼‰åï¼Œæˆ‘é‡‡ç”¨äº†æ–¹æ³•äºŒè§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚</p><h2 id="æ–¹æ³•äºŒ-ä½¿ç”¨-Nginx-è·¨åŸŸ"><a href="#æ–¹æ³•äºŒ-ä½¿ç”¨-Nginx-è·¨åŸŸ" class="headerlink" title="æ–¹æ³•äºŒ ä½¿ç”¨ Nginx è·¨åŸŸ"></a>æ–¹æ³•äºŒ ä½¿ç”¨ Nginx è·¨åŸŸ</h2><p>è¯·å…ˆçœ‹å®Œï¼šåœ¨ b ç«™çš„è§†é¢‘ä¸­ï¼Œæœ‰ä¸€å¥è¯æˆ‘å°è±¡å¾ˆæ·±åˆ»ï¼Œé‚£å°±æ˜¯è®¾ç½®å››ç§åŸºæœ¬è¯·æ±‚çš„æ—¶å€™ï¼Œè€å¸ˆå¤šå†™äº†ä¸€ä¸ª baseï¼ˆä»£ç å¦‚ä¸‹ï¼‰å¹¶ä¸”è¯´åœ¨ä¼ä¸šä¸­å¾ˆå¯èƒ½ä¼šè®©ä½ çªç„¶åŠ ä¸€ä¸ªåŸºæœ¬åœ°å€é‚£å°±å¾ˆéš¾åŠã€‚</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> base <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">postRequest</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        method<span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>        url<span class="token operator">:</span>base<span class="token operator">+</span>url<span class="token punctuation">,</span>        data<span class="token operator">:</span>params    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">putRequest</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>params</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>        method<span class="token operator">:</span><span class="token string">'put'</span><span class="token punctuation">,</span>        url<span class="token operator">:</span>base<span class="token operator">+</span>url<span class="token punctuation">,</span>        data<span class="token operator">:</span>params    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>èµ·åˆä¸€ç›´æ²¡ææ‡‚è¿™ä¸ª base çš„ç”¨é€”ï¼Œåæ¥å‘ç°ï¼ŒåŸæ¥æ˜¯éƒ¨ç½²çš„æ—¶å€™æœ‰å¤§ç”¨ã€‚</p><h4 id="å¼€å§‹æ“ä½œ"><a href="#å¼€å§‹æ“ä½œ" class="headerlink" title="å¼€å§‹æ“ä½œ"></a>å¼€å§‹æ“ä½œ</h4><p>é¦–å…ˆæˆ‘ä»¬å°†è¿™ä¸ª base ä¸€ä¸ªå€¼ï¼Œæˆ‘è¿™é‡Œè®©ä»–å«åš<code>/baseproxy</code>ï¼Œå¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> base <span class="token operator">=</span> <span class="token string">'/baseproxy'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>éƒ¨ç½²ä¿å­˜åï¼Œæˆ‘ä»¬è®¿é—®åœ°å€çš„è·¯å¾„å‰é¢å°±ä¼šå¤šä¸Šè¿™æ ·ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// æˆ‘ä»¬è®¿é—®ä¸€ä¸‹'/login'ï¼ˆå‡ä½¿å‰ç«¯é¡¹ç›®è·‘åœ¨ 8081 ç«¯å£ï¼‰</span><span class="token comment">// æ²¡åŠ ä¹‹å‰</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8081</span><span class="token operator">/</span>login<span class="token comment">// åŠ äº†ä¹‹å</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8081</span><span class="token operator">/</span>baseproxy<span class="token operator">/</span>login<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ°åŠ äº†ä¹‹åå¤šäº†ä¸€ä¸ªåŸºæœ¬åœ°å€ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬åªè¦åœ¨ nginx çš„é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ä¸€ä¸‹ä»£ç†ï¼Œè®©è·³è½¬<code>/baseproxy</code>çš„è®¿é—®å…¨éƒ¨éƒ½è·³è½¬åˆ°å¦ä¸€ä¸ªåœ°æ–¹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨ server ä¸­åŠ ä¸€ä¸ª locationï¼Œå¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">location &#x2F;baseurl&#123;proxy_set_header Host $http_host;proxy_set_header X-Real-IP $remote_addr;proxy_set_header REMOTE-HOST $remote_addr;proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&#x2F;&#x2F; proxy_pass http:&#x2F;&#x2F;IP åœ°å€:ç«¯å£å·&#x2F;;  proxy_pass http:&#x2F;&#x2F;110.40.191.51:8081&#x2F;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="å®Œæˆåçš„æ•ˆæœ"><a href="#å®Œæˆåçš„æ•ˆæœ" class="headerlink" title="å®Œæˆåçš„æ•ˆæœ"></a>å®Œæˆåçš„æ•ˆæœ</h4><p>åŠ å®Œä¹‹åï¼Œæ•´ç«¯ server ä»£ç å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js">server<span class="token punctuation">&#123;</span>  listen <span class="token number">8080</span><span class="token punctuation">;</span>  server_name yeb<span class="token punctuation">;</span>  location <span class="token operator">/</span> <span class="token punctuation">&#123;</span>    root <span class="token operator">/</span>home<span class="token operator">/</span>www<span class="token operator">/</span>dist<span class="token punctuation">;</span>    index index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  location <span class="token operator">/</span>baseproxy<span class="token operator">/</span> <span class="token punctuation">&#123;</span>    proxy_set_header Host $http_host<span class="token punctuation">;</span>    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Real<span class="token operator">-</span><span class="token constant">IP</span> $remote_addr<span class="token punctuation">;</span>    proxy_set_header <span class="token constant">REMOTE</span><span class="token operator">-</span><span class="token constant">HOST</span> $remote_addr<span class="token punctuation">;</span>    proxy_set_header <span class="token constant">X</span><span class="token operator">-</span>Forwarded<span class="token operator">-</span>For $proxy_add_x_forwarded_for<span class="token punctuation">;</span>    proxy_pass http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">åç«¯IPåœ°å€:ç«¯å£å·</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  <span class="token operator">/</span><span class="token number">50</span>x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>  location <span class="token operator">=</span> <span class="token operator">/</span><span class="token number">50</span>x<span class="token punctuation">.</span>html <span class="token punctuation">&#123;</span>  root   html<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡æåˆ°äº†ä¸¤ç§è·¨åŸŸçš„æ–¹å¼ï¼Œç¬¬ä¸€ç§æ–¹å¼é€‚åˆå¼€å‘ç¯å¢ƒï¼Œæ¯”è¾ƒä¾¿æ·ï¼Œç¬¬äºŒç§æ–¹å¼æ¯”è¾ƒé€‚åˆé¡¹ç›®éƒ¨ç½²ï¼ˆæ¯•ç«Ÿå¼€å‘çš„æ—¶å€™è°ç”¨ nginx å—ï¼Ÿï¼‰ã€‚</p><p>ä½†æ˜¯ï¼Œçµæœºä¸€åŠ¨ï¼Œå¦‚æœå°†æ•´ä¸ª vue é¡¹ç›®å®Œæ•´ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶åä½¿ç”¨pm2 è¿›è¡Œæ‰˜ç®¡ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥ç”¨ç¬¬ä¸€ç§å‘¢ï¼Ÿç†è®ºä¸Šæ¥è¯´æ˜¯å¯ä»¥çš„ï¼Œå¯ä»¥è‡ªå·±å°è¯•ä¸€ä¸‹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å‰åç«¯åˆ†ç¦»</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å‰åç«¯åˆ†ç¦»</tag>
      
      <tag>nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Vue/Errorã€‘è§£å†³é¡µé¢ä¸æµè§ˆå™¨å››å‘¨å­˜åœ¨ä¸€å®šé—´è·çš„é—®é¢˜</title>
    <link href="/2022/06/23/%E5%89%8D%E7%AB%AF/vue/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%98%AF%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/"/>
    <url>/2022/06/23/%E5%89%8D%E7%AB%AF/vue/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E6%98%AF%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h2 id="ã€Errorã€‘Vue-é¡µé¢ä¸æµè§ˆå™¨å››å‘¨å­˜åœ¨ä¸€å®šé—´è·çš„é—®é¢˜"><a href="#ã€Errorã€‘Vue-é¡µé¢ä¸æµè§ˆå™¨å››å‘¨å­˜åœ¨ä¸€å®šé—´è·çš„é—®é¢˜" class="headerlink" title="ã€Errorã€‘Vue é¡µé¢ä¸æµè§ˆå™¨å››å‘¨å­˜åœ¨ä¸€å®šé—´è·çš„é—®é¢˜"></a>ã€Errorã€‘Vue é¡µé¢ä¸æµè§ˆå™¨å››å‘¨å­˜åœ¨ä¸€å®šé—´è·çš„é—®é¢˜</h2><p>å°†<code>/public/index.html</code>ä¸­çš„ body æ ‡ç­¾æ·»åŠ ä¸€ä¸ª styleï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span>  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">margin</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span><span class="token property">padding</span><span class="token punctuation">:</span>0px</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>We're sorry but &lt;%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- built files will be auto injected --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯</category>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue</tag>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘äº‘EåŠé¡¹ç›®åç«¯æŠ€æœ¯æ ˆæ•´åˆåŠä»£ç é˜…è¯»</title>
    <link href="/2022/06/17/%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF%E6%A0%88for%20CSDN/"/>
    <url>/2022/06/17/%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF%E6%A0%88for%20CSDN/</url>
    
    <content type="html"><![CDATA[<blockquote><p>é¡¹ç›®æ¥æºï¼š<a href="https://www.bilibili.com/video/BV1ff4y1M7XK?p=52&spm_id_from=333.880.my_history.page.click&vd_source=32c908a2f8edcccb3fa042cf11b101bc">Bilibili:å¸¦ä½ ä»0æ­å»ºä¸€ä¸ªspringboot+vueå‰åç«¯åˆ†ç¦»çš„javaé¡¹ç›®</a></p><p>æºç åœ°å€ï¼š<a href="https://github.com/Jimecc/yeb">https://github.com/Jimecc/yeb</a></p><p>æœ¬é¡¹ç›®çš„åç«¯éƒ¨åˆ†æˆ‘å·²ç»å®Œæ•´çš„éƒ¨ç½²åœ¨äº†æˆ‘çš„ä¸ªäººæœåŠ¡å™¨ä¸Šï¼Œå› æ­¤ï¼š</p><ul><li><p>Swagger2 æ¥å£æ–‡æ¡£ï¼š<a href="http://110.40.191.51:8081/doc.html">http://110.40.191.51:8081/doc.html</a></p></li><li><p>åªæƒ³å­¦å‰ç«¯çš„æœ‹å‹å¯ä»¥å°†è‡ªå·±çš„å‰ç«¯è·¨åŸŸåœ°å€è®¾ç½®ä¸º<code>http://110.40.191.51:8081</code>ï¼Œå…·ä½“æ–¹æ³•<a href="#å‰ç«¯è·¨åŸŸ">ç‚¹å‡»æ­¤å¤„</a></p></li></ul><p>å¼€å‘ç¯å¢ƒï¼šMacBook air 2020</p><ul><li>IDEA + WebStorm</li><li>MySQL æ•°æ®åº“</li></ul><p>æœåŠ¡å™¨ç¯å¢ƒï¼šè…¾è®¯äº‘ CentOS 8.0</p><p>ä¸ªäººåšå®¢åœ°å€ï¼š<a href="http://jime.cc/">Jime.cc</a></p></blockquote><br><br><br><img src="https://files.catbox.moe/h5sru1.png" style="border:3px solid #9c938a;width:90%;border-radius:10px 100px 10px 0px"><div style="size:13px;text-align:center"><a>ğŸ‘†å‰ç«¯æˆªå›¾</a></div><img src="https://files.catbox.moe/lef8ig.png" style="width:90%;box-shadow: 10px 10px 10px rgba(.5,.5,.5,.5);-moz-box-shadow: 10px 10px 10px rgba(0,0,0,.5);-webkit-box-shadow: 10px 10px 10px rgba(0,0,0,.5);" /><div style="size:13px;text-align:center"><a>ğŸ‘†ç»“æ„æ¦‚è¿°</a></div><h1 id="0">åç«¯æŠ€æœ¯æ ˆ</h2><table><thead><tr><th>æŠ€æœ¯åç§°</th><th>ä½œç”¨</th><th>å…³é”®ä»£ç </th></tr></thead><tbody><tr><td>Springboot</td><td>æ•´ä¸ªåç«¯é¡¹ç›®çš„æ¡†æ¶</td><td><a href="#1">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>Lombok</td><td>ç”¨æ³¨è§£ä»£æ›¿ç¹ççš„æ“ä½œã€ç®€åŒ–å¼€å‘</td><td><a href="#2">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>AutoGenerator</td><td>ä»£ç ç”Ÿæˆï¼ˆæ•°æ®åº“ç”Ÿæˆæœ€åŸºæœ¬çš„pojoã€mapperã€serviceã€controller æ–‡ä»¶ï¼‰</td><td><a href="#3">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>Swagger2</td><td>åç«¯æ¥å£æ–‡æ¡£ï¼ˆå¤šç”¨äºå¤šäººå¼€å‘æˆ–å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼‰</td><td><a href="#4">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>JWT</td><td>ç”Ÿæˆï¼ˆæˆ–åˆ·æ–°ï¼‰token</td><td><a href="#5">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>Kaptcha</td><td>è°·æ­Œçš„éªŒè¯ç ç”Ÿæˆå™¨</td><td><a href="#6">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>Redis</td><td>Menu æ“ä½œæ—¶ï¼Œå‡å°‘æ•°æ®åº“ååé‡ã€‚</td><td><a href="#6">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>EasyPOI</td><td>è¡¨æ ¼æ“ä½œï¼ˆå¯¼å‡ºå‘˜å·¥ä¿¡æ¯/å¯¼å…¥å‘˜å·¥ä¿¡æ¯å¹¶æ·»åŠ åˆ°æ•°æ®åº“ï¼‰</td><td><a href="#7">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>RabbitMQ</td><td>æ¶ˆæ¯é˜Ÿåˆ—æœºåˆ¶ï¼Œæˆ‘å°†éœ€è¦å¤„ç†çš„æ¶ˆæ¯ä»¥é˜Ÿåˆ—çš„å½¢å¼æ”¾å…¥ RabbitMQï¼Œéšåå†å»è¯»å–ã€‚</td><td><a href="#8">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>JavaMail</td><td>Javaå‘é€é‚®ä»¶ã€‚</td><td><a href="#9">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>@Scheduled</td><td>è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæŠ€æœ¯æ ˆï¼Œä½†æ˜¯ä¹Ÿå‡†å¤‡è®²ä¸€ä¸‹ã€‚</td><td><a href="#10">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>SpringSecurity</td><td>Springbootçš„å®‰å…¨æŠ€æœ¯ï¼Œç”¨äºåŠ å¯†ç­‰ã€‚</td><td><a href="#11">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>MyBatisPlus</td><td>è¿™ä¸ªå±äºæœ€åŸºç¡€çš„æŠ€æœ¯äº†ï¼Œè¿™é‡Œä¸å¤šå†™äº†ã€‚</td><td></td></tr><tr><td>FastDFS</td><td>ä¸€ä¸ªæ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œä¸»è¦ç”¨äºå­˜å‚¨ç”¨æˆ·å¤´åƒï¼Œå…¶ä¼˜ç‚¹å¯ä»¥æŸ¥çœ‹<a href="https://github.com/happyfish100/fastdfs">FastDFSå®˜ç½‘</a></td><td><a href="#13">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>WebSocket</td><td>æœåŠ¡å™¨å‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯ï¼Œä¸€èˆ¬éƒ½ç”¨äºå³æ—¶é€šè®¯å·¥å…·ï¼ˆåƒæ˜¯ QQã€å¾®ä¿¡ã€WhatsAppï¼‰</td><td><a href="#14">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr></tbody></table><p><br><br><br></p><h2 id="1">1.Springboot å…³é”®ä»£ç </h1><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YebApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">YebApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font color=darkgray size=2>å¯ä»¥è¯´æ•´ä¸ªåç«¯æœ‰å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯ Springboot çš„å…³é”®ä»£ç ï¼Œå› æ­¤æˆ‘åœ¨è¿™é‡Œåªå†™äº† Springboot çš„å¯åŠ¨ç±»ä»¥åŠæ³¨è§£ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="2">2.Lombok å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font size=2>ä»¥ä¸Šä¸º pom.xml çš„ dependencyÂ </font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token annotation punctuation">@RequiredArgsConstructor</span><span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>callSuper <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>of<span class="token operator">=</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">"t_position"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"Positionå¯¹è±¡"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Position</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"èŒä½"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Excel</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"èŒä½"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@NonNull</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"åˆ›å»ºæ—¶é—´"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">"yyy-MM-dd"</span><span class="token punctuation">,</span>timezone<span class="token operator">=</span><span class="token string">"Asia/Shanghai"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> createDate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"æ˜¯å¦å¯ç”¨"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> enabled<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>åœ¨å®ä½“ç±»ï¼ˆpojo/entityï¼‰ä¸­ä½¿ç”¨@Data å–ä»£ setter/getteræ–¹æ³•</font></p><p>ğŸ‘†<font size=2>ä½¿ç”¨ @NoArgsConstructor ä¸Â @AllArgsConstructor åˆ†åˆ«å–ä»£æ— å‚æ„é€ ä¸å…¨å‚æ„é€ å‡½æ•°ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdminController</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯ info æ—¥å¿—ä¿¡æ¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯ warnning æ—¥å¿—ä¿¡æ¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯ error æ—¥å¿—ä¿¡æ¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ä½¿ç”¨ @Slf4j ç”Ÿæˆlog æ—¥å¿—</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="3">3.AutoGenerator å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>generator</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">MybatisPlusException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>toolkit<span class="token punctuation">.</span></span><span class="token class-name">StringPool</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>toolkit<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span></span><span class="token class-name">AutoGenerator</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span></span><span class="token class-name">InjectionConfig</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">TableInfo</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>rules<span class="token punctuation">.</span></span><span class="token class-name">NamingStrategy</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">FreemarkerTemplateEngine</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span><span class="token comment">// t_admin,t_admin_role,t_appraise,t_department,t_employee,t_employee_ec,t_employee_remove,t_employee_train,t_joblevel,t_mail_log,t_menu,t_menu_role,t_nation,t_oplog,t_politics_status,t_position,t_role,t_salary,t_salary_adjust,t_sys_msg,t_sys_msg_content</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CodeGenerator</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * &lt;p>     * è¯»å–æ§åˆ¶å°å†…å®¹     * &lt;/p>     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">scanner</span><span class="token punctuation">(</span><span class="token class-name">String</span> tip<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StringBuilder</span> help <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        help<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥"</span> <span class="token operator">+</span> tip <span class="token operator">+</span> <span class="token string">"ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>help<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> ipt <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>ipt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> ipt<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">MybatisPlusException</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥æ­£ç¡®çš„"</span> <span class="token operator">+</span> tip <span class="token operator">+</span> <span class="token string">"ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// ä»£ç ç”Ÿæˆå™¨</span>        <span class="token class-name">AutoGenerator</span> mpg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AutoGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å…¨å±€é…ç½®</span>        <span class="token class-name">GlobalConfig</span> gc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">final</span> <span class="token class-name">String</span> projectPath <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"user.dir"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        gc<span class="token punctuation">.</span><span class="token function">setOutputDir</span><span class="token punctuation">(</span>projectPath <span class="token operator">+</span> <span class="token string">"/yeb-server/src/main/java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        gc<span class="token punctuation">.</span><span class="token function">setAuthor</span><span class="token punctuation">(</span><span class="token string">"jim"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä½œè€…</span>        gc<span class="token punctuation">.</span><span class="token function">setOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ˜¯å¦æ‰“å¼€ç›®å½•</span>        gc<span class="token punctuation">.</span><span class="token function">setBaseResultMap</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//xmlå¼€å¯BaseResultMap</span>        gc<span class="token punctuation">.</span><span class="token function">setBaseColumnList</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//xml å¼€å¯BaseColumn</span>        gc<span class="token punctuation">.</span><span class="token function">setSwagger2</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å®ä½“å±æ€§ Swagger2 æ³¨è§£</span>        mpg<span class="token punctuation">.</span><span class="token function">setGlobalConfig</span><span class="token punctuation">(</span>gc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ•°æ®æºé…ç½®</span>        <span class="token class-name">DataSourceConfig</span> dsc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://127.0.0.1:3306/yeb?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// dsc.setSchemaName("public");</span>        dsc<span class="token punctuation">.</span><span class="token function">setDriverName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"12345ioS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dsc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åŒ…é…ç½®</span>        <span class="token keyword">final</span> <span class="token class-name">PackageConfig</span> pc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PackageConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//pc.setModuleName(scanner("æ¨¡å—å"));</span>        pc<span class="token punctuation">.</span><span class="token function">setParent</span><span class="token punctuation">(</span><span class="token string">"com.jim.server"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span><span class="token string">"pojo"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setMapper</span><span class="token punctuation">(</span><span class="token string">"mapper"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setService</span><span class="token punctuation">(</span><span class="token string">"service"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setServiceImpl</span><span class="token punctuation">(</span><span class="token string">"service.impl"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setController</span><span class="token punctuation">(</span><span class="token string">"controller"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setPackageInfo</span><span class="token punctuation">(</span>pc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è‡ªå®šä¹‰é…ç½®</span>        <span class="token class-name">InjectionConfig</span> cfg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InjectionConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// to do nothing</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token comment">// å¦‚æœæ¨¡æ¿å¼•æ“æ˜¯ freemarker</span>        <span class="token class-name">String</span> templatePath <span class="token operator">=</span> <span class="token string">"/templates/mapper.xml.ftl"</span><span class="token punctuation">;</span>        <span class="token comment">// å¦‚æœæ¨¡æ¿å¼•æ“æ˜¯ velocity</span>        <span class="token comment">// String templatePath = "/templates/mapper.xml.vm";</span>        <span class="token comment">// è‡ªå®šä¹‰è¾“å‡ºé…ç½®</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileOutConfig</span><span class="token punctuation">></span></span> focList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è‡ªå®šä¹‰é…ç½®ä¼šè¢«ä¼˜å…ˆè¾“å‡º</span>        focList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutConfig</span><span class="token punctuation">(</span>templatePath<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">outputFile</span><span class="token punctuation">(</span><span class="token class-name">TableInfo</span> tableInfo<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶å ï¼Œ å¦‚æœä½  Entity è®¾ç½®äº†å‰åç¼€ã€æ­¤å¤„æ³¨æ„ xml çš„åç§°ä¼šè·Ÿç€å‘ç”Ÿå˜åŒ–ï¼ï¼</span>                <span class="token keyword">return</span> projectPath <span class="token operator">+</span> <span class="token string">"/yeb-server/src/main/resources/mapper/"</span> <span class="token operator">+</span> pc<span class="token punctuation">.</span><span class="token function">getModuleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                        <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> tableInfo<span class="token punctuation">.</span><span class="token function">getEntityName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"Mapper"</span> <span class="token operator">+</span> <span class="token class-name">StringPool</span><span class="token punctuation">.</span>DOT_XML<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">/*        cfg.setFileCreate(new IFileCreate() &#123;            @Override            public boolean isCreate(ConfigBuilder configBuilder, FileType fileType, String filePath) &#123;                // åˆ¤æ–­è‡ªå®šä¹‰æ–‡ä»¶å¤¹æ˜¯å¦éœ€è¦åˆ›å»º                checkDir("è°ƒç”¨é»˜è®¤æ–¹æ³•åˆ›å»ºçš„ç›®å½•ï¼Œè‡ªå®šä¹‰ç›®å½•ç”¨");                if (fileType == FileType.MAPPER) &#123;                    // å·²ç»ç”Ÿæˆ mapper æ–‡ä»¶åˆ¤æ–­å­˜åœ¨ï¼Œä¸æƒ³é‡æ–°ç”Ÿæˆè¿”å› false                    return !new File(filePath).exists();                &#125;                // å…è®¸ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶                return true;            &#125;        &#125;);        */</span>        cfg<span class="token punctuation">.</span><span class="token function">setFileOutConfigList</span><span class="token punctuation">(</span>focList<span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setCfg</span><span class="token punctuation">(</span>cfg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// é…ç½®æ¨¡æ¿</span>        <span class="token class-name">TemplateConfig</span> templateConfig <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TemplateConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// é…ç½®è‡ªå®šä¹‰è¾“å‡ºæ¨¡æ¿</span>        <span class="token comment">//æŒ‡å®šè‡ªå®šä¹‰æ¨¡æ¿è·¯å¾„ï¼Œæ³¨æ„ä¸è¦å¸¦ä¸Š.ftl/.vm, ä¼šæ ¹æ®ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“è‡ªåŠ¨è¯†åˆ«</span>        <span class="token comment">// templateConfig.setEntity("templates/entity2.java");</span>        <span class="token comment">// templateConfig.setService();</span>        <span class="token comment">// templateConfig.setController();</span>        templateConfig<span class="token punctuation">.</span><span class="token function">setXml</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setTemplate</span><span class="token punctuation">(</span>templateConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ç­–ç•¥é…ç½®</span>        <span class="token class-name">StrategyConfig</span> strategy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StrategyConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ•°æ®åº“è¡¨æ˜ å°„åˆ°å®ä½“çš„å‘½åç­–ç•¥</span>        strategy<span class="token punctuation">.</span><span class="token function">setNaming</span><span class="token punctuation">(</span><span class="token class-name">NamingStrategy</span><span class="token punctuation">.</span>underline_to_camel<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ•°æ®åº“è¡¨å­—æ®µæ˜ å°„åˆ°å®ä½“çš„å‘½åç­–ç•¥</span>        strategy<span class="token punctuation">.</span><span class="token function">setColumnNaming</span><span class="token punctuation">(</span><span class="token class-name">NamingStrategy</span><span class="token punctuation">.</span>no_change<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//strategy.setSuperEntityClass("ä½ è‡ªå·±çš„çˆ¶ç±»å®ä½“,æ²¡æœ‰å°±ä¸ç”¨è®¾ç½®!");</span>        <span class="token comment">//lombokæ¨¡å‹</span>        strategy<span class="token punctuation">.</span><span class="token function">setEntityLombokModel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç”ŸæˆRestController</span>        strategy<span class="token punctuation">.</span><span class="token function">setRestControllerStyle</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å…¬å…±çˆ¶ç±»</span>        <span class="token comment">//strategy.setSuperControllerClass("ä½ è‡ªå·±çš„çˆ¶ç±»æ§åˆ¶å™¨,æ²¡æœ‰å°±ä¸ç”¨è®¾ç½®!");</span>        <span class="token comment">// å†™äºçˆ¶ç±»ä¸­çš„å…¬å…±å­—æ®µ</span>        <span class="token comment">//strategy.setSuperEntityColumns("id");</span>        strategy<span class="token punctuation">.</span><span class="token function">setInclude</span><span class="token punctuation">(</span><span class="token function">scanner</span><span class="token punctuation">(</span><span class="token string">"è¡¨åï¼Œå¤šä¸ªè‹±æ–‡é€—å·åˆ†å‰²"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        strategy<span class="token punctuation">.</span><span class="token function">setControllerMappingHyphenStyle</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¡¨å‰ç¼€</span>        strategy<span class="token punctuation">.</span><span class="token function">setTablePrefix</span><span class="token punctuation">(</span><span class="token string">"t_"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setStrategy</span><span class="token punctuation">(</span>strategy<span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setTemplateEngine</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FreemarkerTemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>è¿™æ®µä»£ç ä¸­æœ‰ç‹¬ç«‹çš„ main å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œæ­¤ç±»ï¼Œè¿è¡Œååœ¨æ§åˆ¶å°è¾“å…¥æ•°æ®åº“è¡¨åç§°ï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆ<code>mapperã€serviceã€controllerã€pojo ç±»</code>ï¼ŒèŠ‚çœæ— æ•ˆå¼€å‘çš„æ—¶é—´ã€‚ï¼ˆæœ¬æŠ€æœ¯ä½¿ç”¨çš„æ˜¯ MyBatis-Plus çš„ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ï¼Œå…·ä½“å¯ä»¥å» MyBatis-Plus å®˜ç½‘æŸ¥çœ‹ï¼‰</font></p><p>ğŸ‘†<font size=2>ä»£ç è‡ªåŠ¨ç”Ÿæˆåœ¨é¡¹ç›®ä¸­ä¸ºä¸€ä¸ªå•ç‹¬çš„å­é¡¹ç›®ï¼Œåˆ›å»ºæ–¹å¼ï¼šåœ¨çˆ¶é¡¹ç›®ä¸­åˆ›å»ºç›¸ä¸€ä¸ªMaven é¡¹ç›®ï¼Œç„¶åå…³è”çˆ¶é¡¹ç›®ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="4">4.Swagger2 æ•ˆæœ/å…³é”®ä»£ç </h2><img src="https://files.catbox.moe/kqquye.png" title="pojo å¯¹è±¡" style="width:90%" /><div style="size:2;text-align:center"><a>ğŸ‘†Swagger å¯¹ pojo çš„å±•ç¤º</a></div><img src="https://files.catbox.moe/acui25.png"  style="width:90%"  /><div style="size:13px;text-align:center"><a>ğŸ‘†Swagger å¯¹ Controller æ¥å£çš„å±•ç¤º</a></div><p>ğŸ€ <font size=2>å…·ä½“æ“ä½œå¯ä»¥è®¿é—®<a href="http://110.40.191.51:8081/doc.html">-YebSwaggeræ¥å£æ–‡æ¡£-</a>è‡ªè¡Œå°è¯•</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// Swagger2 é…ç½®æ–‡ä»¶</span><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">ApiInfoBuilder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">PathSelectors</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">RequestHandlerSelectors</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>spi<span class="token punctuation">.</span></span><span class="token class-name">DocumentationType</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>spi<span class="token punctuation">.</span>service<span class="token punctuation">.</span>contexts<span class="token punctuation">.</span></span><span class="token class-name">SecurityContext</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>web<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span></span><span class="token class-name">Docket</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>swagger2<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">EnableSwagger2</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@EnableSwagger2</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Swagger2Config</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">Docket</span> <span class="token function">createRestApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Docket</span><span class="token punctuation">(</span><span class="token class-name">DocumentationType</span><span class="token punctuation">.</span>SWAGGER_2<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">apis</span><span class="token punctuation">(</span><span class="token class-name">RequestHandlerSelectors</span><span class="token punctuation">.</span><span class="token function">basePackage</span><span class="token punctuation">(</span><span class="token string">"com.jim.server.controller"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token class-name">PathSelectors</span><span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">securityContexts</span><span class="token punctuation">(</span><span class="token function">securityContexts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">securitySchemes</span><span class="token punctuation">(</span><span class="token function">securitySchemes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">ApiInfo</span> <span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ApiInfoBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"äº‘EåŠæ¥å£æ–‡æ¡£"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"äº‘EåŠæ¥å£æ–‡æ¡£"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">contact</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">"Jim"</span><span class="token punctuation">,</span><span class="token string">"http://localhost:8081/doc.html"</span><span class="token punctuation">,</span><span class="token string">"1234@qq.com"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">"1.0"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiKey</span><span class="token punctuation">></span></span> <span class="token function">securitySchemes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiKey</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ApiKey</span> apiKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApiKey</span><span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span><span class="token string">"Header"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SecurityContext</span><span class="token punctuation">></span></span> <span class="token function">securityContexts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// è®¾ç½®éœ€è¦ç™»å½•è®¤è¯çš„è·¯ç¨‹</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SecurityContext</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">getContextByPath</span><span class="token punctuation">(</span><span class="token string">"/hello/.*"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">SecurityContext</span> <span class="token function">getContextByPath</span><span class="token punctuation">(</span><span class="token class-name">String</span> pathRegex<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">SecurityContext</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">securityReferences</span><span class="token punctuation">(</span><span class="token function">defaultAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">forPaths</span><span class="token punctuation">(</span><span class="token class-name">PathSelectors</span><span class="token punctuation">.</span><span class="token function">regex</span><span class="token punctuation">(</span>pathRegex<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SecurityReference</span><span class="token punctuation">></span></span> <span class="token function">defaultAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SecurityReference</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">AuthorizationScope</span> authorizationScope <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AuthorizationScope</span><span class="token punctuation">(</span><span class="token string">"global"</span><span class="token punctuation">,</span><span class="token string">"accessEverything"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">AuthorizationScope</span><span class="token punctuation">[</span><span class="token punctuation">]</span> authorizationScopes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AuthorizationScope</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        authorizationScopes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> authorizationScope<span class="token punctuation">;</span>        result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SecurityReference</span><span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span>authorizationScopes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdminController</span> <span class="token punctuation">&#123;</span>      <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"è·å–æ‰€æœ‰æ“ä½œå‘˜"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Admin</span><span class="token punctuation">></span></span> <span class="token function">getAllAdmins</span><span class="token punctuation">(</span><span class="token class-name">String</span> keywords<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> adminService<span class="token punctuation">.</span><span class="token function">getAllAdmins</span><span class="token punctuation">(</span>keywords<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>åœ¨ Controller å±‚ä½¿ç”¨ <code>@ApiOperation(value = &quot;åç§°&quot;</code>) å¯¹æ¥å£è¿›è¡Œå‘½åï¼Œåç§°ä¸ºâ€œåç§°â€ï¼Œå¯ä»¥åœ¨æ¥å£æ–‡æ¡£æŸ¥çœ‹çš„æ—¶å€™çœ‹åˆ°æ­¤åç§°ï¼Œå¦‚æœä¸å†™åˆ™ä»¥æ–¹æ³•åç§°ä¸ºé»˜è®¤åç§°ï¼ˆç±»ä¸Šä¹Ÿå¯ä»¥ç”¨@Api(value=â€åç§°â€)</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"Adminå¯¹è±¡"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">UserDetails</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>åœ¨ pojo ç±»ä¸­ä½¿ç”¨<code>@ApiModel</code> æ³¨è§£è®© Swagger çŸ¥é“å½“å‰å†…å®¹æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»ï¼Œ<code>value</code>ä¸ºæ¥å£æ–‡æ¡£ä¸­æ˜¾ç¤ºçš„åç§°ï¼Œ<code>description</code>ä¸ºæ¥å£æ–‡æ¡£ä¸­æ˜¾ç¤ºçš„ç®€ä»‹ã€‚</font></p><p><font size=2>ğŸ‘†åœ¨æˆå‘˜å±æ€§ä¸­ç”¨<code>@ApiModelProperty(value = &quot;id&quot;)</code>æ³¨é‡Šæè¿°å±æ€§çš„åå­—ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="5">5.JWT å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>jsonwebtoken<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JwtTokenUtil</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> CLAIM_KEY_USERNAME <span class="token operator">=</span> <span class="token string">"sub"</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> CLAIM_KEY_CREATED <span class="token operator">=</span> <span class="token string">"created"</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.secret&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> secret<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.expiration&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Long</span> expiration<span class="token punctuation">;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: æ ¹æ®ç”¨æˆ·ä¿¡æ¯ç”Ÿæˆ TOKEN     * @Params:  public     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">generateToken</span><span class="token punctuation">(</span><span class="token class-name">UserDetails</span> userDetails<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> claims <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        claims<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>CLAIM_KEY_USERNAME<span class="token punctuation">,</span>userDetails<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        claims<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>CLAIM_KEY_CREATED<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>claims<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">generateToken</span><span class="token punctuation">(</span>claims<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: ä» token ä¸­è·å–ç™»å½•ç”¨æˆ·å     * @Params:      */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUserNameFromToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> username<span class="token punctuation">;</span>        <span class="token comment">// æ ¹æ® token æ‹¿ä¸€ä¸ªè·è½½</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Claims</span> claims <span class="token operator">=</span> <span class="token function">getClaimsFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>            username <span class="token operator">=</span> claims<span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            username <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> username<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: åˆ¤æ–­ token æ˜¯å¦æœ‰æ•ˆ     * @Params:     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">validateToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">,</span><span class="token class-name">UserDetails</span> userDetails<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token function">getUserNameFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> username<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>userDetails<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span> <span class="token function">isTokenExpired</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: åˆ¤æ–­ token æ˜¯å¦å¯ä»¥åˆ·æ–°     * @Params:     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">canRefresh</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">isTokenExpired</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: åˆ·æ–° token     * @Params:     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">refreshToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Claims</span> claims <span class="token operator">=</span> <span class="token function">getClaimsFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        claims<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>CLAIM_KEY_CREATED<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">generateToken</span><span class="token punctuation">(</span>claims<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: åˆ¤æ–­ token æ˜¯å¦å¤±æ•ˆ     * @Params:     */</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">isTokenExpired</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Date</span> expireDate <span class="token operator">=</span> <span class="token function">getExpiredDateFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> expireDate<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: ä» token ä¸­è·å–è¿‡æœŸæ—¶é—´     * @Params:     */</span>    <span class="token keyword">private</span> <span class="token class-name">Date</span> <span class="token function">getExpiredDateFromToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Claims</span> claims <span class="token operator">=</span> <span class="token function">getClaimsFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> claims<span class="token punctuation">.</span><span class="token function">getExpiration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: ä» token ä¸­è·å–è·è½½     * @Params:     */</span>    <span class="token keyword">private</span> <span class="token class-name">Claims</span> <span class="token function">getClaimsFromToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Claims</span> claims <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            claims <span class="token operator">=</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">parser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">setSigningKey</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">parseClaimsJws</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> claims<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: æ ¹æ®è·è½½ç”Ÿæˆ JWT TOKEN     * @Params:      */</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">generateToken</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> claims<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setClaims</span><span class="token punctuation">(</span>claims<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setExpiration</span><span class="token punctuation">(</span><span class="token function">generateExpirationDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">signWith</span><span class="token punctuation">(</span><span class="token class-name">SignatureAlgorithm</span><span class="token punctuation">.</span>HS512<span class="token punctuation">,</span>secret<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">compact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: ç”Ÿæˆ TOKEN å¤±æ•ˆæ—¶é—´     * @Params:     */</span>    <span class="token keyword">private</span> <span class="token class-name">Date</span> <span class="token function">generateExpirationDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>expiration<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>è¯¥ç±»ä¸º JWT çš„ä¸€ä¸ªåŸºæœ¬æ–¹æ³•ç±»ï¼Œä¸»è¦ä½¿ç”¨<code>Jwts.builder()</code>ç”Ÿæˆä¸€ä¸ª tokenï¼Œtoken ä¸­åŒ…å«ä¸€ä¸ªç”¨æˆ·åä¸åˆ›å»ºæ—¶é—´ï¼Œåç»­ï¼Œå‰ç«¯è®¿é—®åä¼šå°†è¯¥ token å­˜å‚¨åœ¨ windows.session ä¸­ï¼ˆä¹Ÿå°±æ˜¯ httpsession)ä¸­ï¼Œæ¯æ¬¡è®¿é—®åç«¯éƒ½ä¼šæºå¸¦è¯¥ sessionï¼Œåç«¯å¾—åˆ° session ä¹Ÿå°±å¾—åˆ°äº† tokenï¼Œå¯ä»¥è§£æå‡º username ä¸ Dateï¼Œä»¥æ­¤æ¥åˆ¤æ–­è¯¥ç”¨æˆ·æ˜¯å¦ç™»å½•ã€ç™»å½•æ˜¯å¦è¿‡æœŸã€‚</font></p><p>ğŸ‘†<font size=2>é¡ºä¾¿ä¸€æï¼Œé€€å‡ºç™»å½•åç«¯ä¸è¿›è¡Œä»»ä½•æ“ä½œï¼Œä»…è¿”å›ä¸€ä¸ªæˆåŠŸç 200ï¼Œå‰ç«¯å¾—åˆ°æˆåŠŸç ååˆ é™¤å‰ç«¯å­˜å‚¨çš„ session å°±å¯ä»¥äº†ï¼Œå†æ¬¡ä½¿ç”¨å°±ä¼šæé†’ä½ è¦ç™»å½•äº†ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span></span><span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SecurityContextHolder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetailsService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span></span><span class="token class-name">WebAuthenticationDetailsSource</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span><span class="token class-name">OncePerRequestFilter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">FilterChain</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JwtAuthencationTokenFilter</span> <span class="token keyword">extends</span> <span class="token class-name">OncePerRequestFilter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.tokenHeader&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> tokenHeader<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.tokenHead&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> tokenHead<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">JwtTokenUtil</span> jwtTokenUtil<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">UserDetailsService</span> userDetailsService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doFilterInternal</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> authHeader <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span>tokenHeader<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å­˜åœ¨ token</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> authHeader <span class="token operator">&amp;&amp;</span> authHeader<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>tokenHead<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> authToken <span class="token operator">=</span> authHeader<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>tokenHead<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">String</span> username <span class="token operator">=</span> jwtTokenUtil<span class="token punctuation">.</span><span class="token function">getUserNameFromToken</span><span class="token punctuation">(</span>authToken<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// token å­˜åœ¨ç”¨æˆ·åä½†æ˜¯æœªç™»å½•</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> username <span class="token operator">&amp;&amp;</span> <span class="token keyword">null</span> <span class="token operator">==</span> <span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAuthentication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span> userDetailsService<span class="token punctuation">.</span><span class="token function">loadUserByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>jwtTokenUtil<span class="token punctuation">.</span><span class="token function">validateToken</span><span class="token punctuation">(</span>authToken<span class="token punctuation">,</span>userDetails<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token class-name">UsernamePasswordAuthenticationToken</span> authenticationToken <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">(</span>userDetails<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span>userDetails<span class="token punctuation">.</span><span class="token function">getAuthorities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    authenticationToken<span class="token punctuation">.</span><span class="token function">setDetails</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebAuthenticationDetailsSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">buildDetails</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAuthentication</span><span class="token punctuation">(</span>authenticationToken<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ€<font size=2>è¿˜ç”¨åˆ°äº†ä¸€äº›ç›¸å…³çš„è¿‡æ»¤å™¨ï¼Œå¯ä»¥ä¸‹è½½æºç åæŸ¥çœ‹ã€‚</font></p><hr><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="6">6.Kaptcha å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>code<span class="token punctuation">.</span>kaptcha<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">DefaultKaptcha</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>code<span class="token punctuation">.</span>kaptcha<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span><span class="token punctuation">;</span><span class="token comment">/** * éªŒè¯ç é…ç½®ç±» * @author Jim * @since 1.0.0 */</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CaptchaConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">DefaultKaptcha</span> <span class="token function">defaultKaptcha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//éªŒè¯ç ç”Ÿæˆå™¨</span>        <span class="token class-name">DefaultKaptcha</span> defaultKaptcha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultKaptcha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é…ç½®</span>        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ˜¯å¦æœ‰è¾¹æ¡†</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.border"</span><span class="token punctuation">,</span> <span class="token string">"yes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®è¾¹æ¡†é¢œè‰²</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.border.color"</span><span class="token punctuation">,</span> <span class="token string">"105,179,90"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¾¹æ¡†ç²—ç»†åº¦ï¼Œé»˜è®¤ä¸º1</span>        <span class="token comment">// properties.setProperty("kaptcha.border.thickness","1");</span>        <span class="token comment">//éªŒè¯ç </span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.session.key"</span><span class="token punctuation">,</span><span class="token string">"code"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ç æ–‡æœ¬å­—ç¬¦é¢œè‰² é»˜è®¤ä¸ºé»‘è‰²</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.font.color"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®å­—ä½“æ ·å¼</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.font.names"</span><span class="token punctuation">,</span> <span class="token string">"å®‹ä½“,æ¥·ä½“,å¾®è½¯é›…é»‘"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å­—ä½“å¤§å°ï¼Œé»˜è®¤40</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.font.size"</span><span class="token punctuation">,</span> <span class="token string">"30"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ç æ–‡æœ¬å­—ç¬¦å†…å®¹èŒƒå›´ é»˜è®¤ä¸ºabced2345678gfynmnpwx</span>        <span class="token comment">// properties.setProperty("kaptcha.textproducer.char.string", "");</span>        <span class="token comment">//å­—ç¬¦é•¿åº¦ï¼Œé»˜è®¤ä¸º5</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.char.length"</span><span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å­—ç¬¦é—´è· é»˜è®¤ä¸º2</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.char.space"</span><span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ç å›¾ç‰‡å®½åº¦ é»˜è®¤ä¸º200</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.image.width"</span><span class="token punctuation">,</span> <span class="token string">"100"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ç å›¾ç‰‡é«˜åº¦ é»˜è®¤ä¸º40</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.image.height"</span><span class="token punctuation">,</span> <span class="token string">"40"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Config</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Config</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>        defaultKaptcha<span class="token punctuation">.</span><span class="token function">setConfig</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> defaultKaptcha<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ä»¥ä¸Šä¸º <code>Kaptcha</code> çš„é…ç½®ç±»ï¼Œä¸»è¦æ“ä½œä¸ºåˆ›å»ºä¸€ä¸ª<code>DefaultKaptcha</code>å¯¹è±¡ï¼Œå¹¶å¯¹å¯¹è±¡è¿›è¡Œé…ç½®ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>code<span class="token punctuation">.</span>kaptcha<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">DefaultKaptcha</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiOperation</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>imageio<span class="token punctuation">.</span></span><span class="token class-name">ImageIO</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletOutputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>image<span class="token punctuation">.</span></span><span class="token class-name">BufferedImage</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token comment">/** * éªŒè¯ç  * * @author zhoubin * @since 1.0.0 */</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CaptchaController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">DefaultKaptcha</span> defaultKaptcha<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"éªŒè¯ç "</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/captcha"</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token string">"image/jpeg"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">captcha</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// å®šä¹‰responseè¾“å‡ºç±»å‹ä¸ºimage/jpegç±»å‹</span>        response<span class="token punctuation">.</span><span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token string">"Expires"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// Set standard HTTP/1.1 no-cache headers.</span>        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Cache-Control"</span><span class="token punctuation">,</span> <span class="token string">"no-store, no-cache, must-revalidate"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// Set IE extended HTTP/1.1 no-cache headers (use addHeader).</span>        response<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">"Cache-Control"</span><span class="token punctuation">,</span> <span class="token string">"post-check=0, pre-check=0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// Set standard HTTP/1.0 no-cache header.</span>        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Pragma"</span><span class="token punctuation">,</span> <span class="token string">"no-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// return a jpeg</span>        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"image/jpeg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//-------------------ç”ŸæˆéªŒè¯ç  begin --------------------------</span>        <span class="token comment">//è·å–éªŒè¯ç æ–‡æœ¬å†…å®¹</span>        <span class="token class-name">String</span> text <span class="token operator">=</span> defaultKaptcha<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"éªŒè¯ç å†…å®¹ï¼š"</span><span class="token operator">+</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å°†éªŒè¯ç æ–‡æœ¬å†…å®¹æ”¾å…¥session</span>        request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"captcha"</span><span class="token punctuation">,</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ ¹æ®æ–‡æœ¬éªŒè¯ç å†…å®¹åˆ›å»ºå›¾å½¢éªŒè¯ç </span>        <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> defaultKaptcha<span class="token punctuation">.</span><span class="token function">createImage</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ServletOutputStream</span> outputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            outputStream <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è¾“å‡ºæµè¾“å‡ºå›¾ç‰‡ï¼Œæ ¼å¼ä¸ºjpg</span>            <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token string">"jpg"</span><span class="token punctuation">,</span>outputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>            outputStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span><span class="token operator">!=</span>outputStream<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                    outputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//-------------------ç”ŸæˆéªŒè¯ç  end --------------------------</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>Controller è·å–ä¸€ä¸ªéªŒè¯ç ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">RespBean</span> login <span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">AdminLoginParam</span> adminLoginParam<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> adminService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>adminLoginParam<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>adminLoginParam<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>adminLoginParam<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ç™»å½•æ¥å£ï¼ŒéªŒè¯ç”¨æˆ·åã€å¯†ç ã€éªŒè¯ç ã€‚</font></p><p>ğŸ€<font size=2>è¯·æ³¨æ„ï¼Œå½“ä¸¤ä¸ªç”¨æˆ·åŒæ—¶ç™»å½•çš„æ—¶å€™ï¼Œåç«¯ä¼šç”Ÿæˆä¸¤ä¸ªéªŒè¯ç ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯æˆ‘è‹¥æ˜¯ä¹±è¾“å…¥ï¼Œè¾“äº†å…¶ä»–ç”¨æˆ·çš„éªŒè¯ç ä¹Ÿä¼šç”Ÿæ•ˆå‘¢ï¼Ÿè¿™å½“ç„¶æ˜¯ä¸å¯èƒ½çš„ï¼Œå¦‚ä½•åˆ¤æ–­ A è¾“å…¥çš„éªŒè¯ç å°±æ˜¯åå°ä¸º A ç”Ÿæˆçš„éªŒè¯ç ï¼ˆè€Œä¸æ˜¯ä¸ºå…¶ä»–ç”¨æˆ·ç”Ÿæˆçš„éªŒè¯ç ï¼‰å‘¢ï¼Ÿå…¶å®åœ¨è·å–éªŒè¯ç çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯å•çº¯åœ°ä»…è¿”å›äº†ä¸€ä¸ªå›¾ç‰‡ï¼Œè€Œæ˜¯å°†éªŒè¯ç çš„å†…å®¹æ”¾åœ¨äº†HttpServletRequestä¸­ï¼Œç™»é™†çš„æ—¶å€™ï¼Œä¼šå¸¦ç€HttpServletRequestå†å›æ¥ï¼Œè¿™æ ·å°±å¯ä»¥ç¡®å®šè¯¥ç”¨æˆ·çš„éªŒè¯ç æ˜¯å¤šå°‘ï¼Œæ‰§è¡Œç™»å½•çš„æ—¶å€™ï¼Œåˆ™ä¼šåˆ¤æ–­ request ä¸­çš„éªŒè¯ç ä¸ç”¨æˆ·è¾“å…¥çš„éªŒè¯ç æ˜¯å¦ä¸€è‡´ï¼Œå…·ä½“å¯ä»¥ä¸‹è½½æºç åæŸ¥çœ‹ LoginServiceã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="7">7.Redis å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>lettuce<span class="token punctuation">.</span></span><span class="token class-name">LettuceConnectionFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">GenericJackson2JsonRedisSerializer</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">StringRedisSerializer</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">redisTemplate</span><span class="token punctuation">(</span><span class="token class-name">LettuceConnectionFactory</span> connectionFactory<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setKeySerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setValueSerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GenericJackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setHashKeySerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setValueSerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GenericJackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>connectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> template<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>é…ç½® Redis</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>toolkit<span class="token punctuation">.</span></span><span class="token class-name">CollectionUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">ServiceImpl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">AdminUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">MenuMapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Menu</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IMenuService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">ValueOperations</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token comment">/** * &lt;p> *  æœåŠ¡å®ç°ç±» * &lt;/p> * * @author jim * @since 2022-05-11 */</span><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MenuServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MenuMapper</span><span class="token punctuation">,</span> <span class="token class-name">Menu</span><span class="token punctuation">></span></span> <span class="token keyword">implements</span> <span class="token class-name">IMenuService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">MenuMapper</span> menuMapper<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: æ ¹æ®ç”¨æˆ·id æŸ¥è¯¢èœå•åˆ—è¡¨     * @Params:     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Menu</span><span class="token punctuation">></span></span> <span class="token function">getMenuByAdminId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Integer</span> adminId <span class="token operator">=</span> <span class="token class-name">AdminUtils</span><span class="token punctuation">.</span><span class="token function">getCurrentAdmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ValueOperations</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> valueOperations <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Menu</span><span class="token punctuation">></span></span> menus <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Menu</span><span class="token punctuation">></span></span><span class="token punctuation">)</span> valueOperations<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"menu_"</span><span class="token operator">+</span>adminId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">CollectionUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>menus<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            menus <span class="token operator">=</span> menuMapper<span class="token punctuation">.</span><span class="token function">getMenusByAdminId</span><span class="token punctuation">(</span>adminId<span class="token punctuation">)</span><span class="token punctuation">;</span>            valueOperations<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"menu_"</span><span class="token operator">+</span>adminId<span class="token punctuation">,</span>menus<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> menus<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ç”¨æˆ·ç™»å½•åä¼šè·å– menu èœå•ï¼Œä¸ºäº†é˜²æ­¢åå¤æ¸²æŸ“é€ æˆæ•°æ®åº“ååé‡è¾ƒå¤§ï¼Œå› æ­¤æ¯æ¬¡ç”¨æˆ·è·å– menu æ—¶ä¼šç°åœ¨ Redis ä¸­å¯»æ‰¾<code>&quot;menu_&quot;+adminId</code>å¦‚æœæœ‰åˆ™ç›´æ¥ä» Redis ä¸­è·å–ï¼Œå¦åˆ™å°±ä»æ•°æ®åº“ä¸­è¯»å–å¹¶å­˜å‚¨åœ¨ Redis ä¸­ï¼Œå­˜å‚¨åç§°ä¾æ—§æ˜¯<code>&quot;menu_&quot;+adminId</code>ï¼ˆå¾—åšåˆ°ä¸€è‡´å˜›ï¼Œä¸ç„¶å­˜å‚¨å’Œè¯»å–ä¸ä¸€è‡´ï¼Œä½ æ€ä¹ˆå­˜éƒ½è¯»å–ä¸åˆ°ï¼‰ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="8">8.EasyPOI å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.afterturn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>easypoi-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.1.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>Maven ä¾èµ–</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>afterturn<span class="token punctuation">.</span>easypoi<span class="token punctuation">.</span>excel<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Excel</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>afterturn<span class="token punctuation">.</span>easypoi<span class="token punctuation">.</span>excel<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ExcelEntity</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">IdType</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">TableField</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">TableId</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">TableName</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModel</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModelProperty</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">EqualsAndHashCode</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>experimental<span class="token punctuation">.</span></span><span class="token class-name">Accessors</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDate</span><span class="token punctuation">;</span><span class="token comment">/** * &lt;p> *  * &lt;/p> * * @author jim * @since 2022-05-11 */</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>callSuper <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Accessors</span><span class="token punctuation">(</span>chain <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">"t_employee"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"Employeeå¯¹è±¡"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"å‘˜å·¥ç¼–å·"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"å‘˜å·¥å§“å"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Excel</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"å‘˜å·¥å§“å"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>  <span class="token comment">// ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œè¿™é‡Œçœç•¥äº†å¾ˆå¤šä»£ç ï¼ˆæ³¨è§£éƒ½è·Ÿã€å‘˜å·¥å§“åã€‘æ˜¯ä¸€æ ·çš„ï¼‰</span>       <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"æ°‘æ—"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>exist <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@ExcelEntity</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"æ°‘æ—"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Nation</span> nation<span class="token punctuation">;</span>    <span class="token comment">// ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œè¿™é‡Œçœç•¥äº†å¾ˆå¤šä»£ç ï¼ˆæ³¨è§£éƒ½è·Ÿã€æ°‘æ—ã€‘æ˜¯ä¸€æ ·çš„ï¼‰</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"å·¥èµ„è´¦å¥—"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>exist <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Salary</span> salary<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œå…·ä½“æ³¨è§£çœ‹ä¸‹æ–¹è¡¨æ ¼</font></p><table><thead><tr><th>æ³¨è§£</th><th>ç”¨é€”</th><th>ä½¿ç”¨ä½ç½®</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>@TableName(â€œt_employeeâ€)</td><td>å¯¹åº”å“ªä¸€å¼ æ•°æ®åº“è¡¨</td><td>ç±»</td><td></td></tr><tr><td>@Excel(name=â€å·¥é¾„â€)</td><td>å¯¼å…¥å¯¼å‡ºæ—¶çºµåæ ‡çš„æ ‡é¢˜åå­—ï¼ˆä¹Ÿå°±æ˜¯â€œå§“åã€å¹´é¾„â€é‚£ä¸€äº›ä¸œè¥¿ï¼‰</td><td>æˆå‘˜å±æ€§</td><td></td></tr><tr><td>@TableField(exist = false)</td><td>æ•°æ®åº“ä¸­ä¸å­˜åœ¨ï¼Œæ˜¯å…¶ä»–çš„å®ä½“ç±»ã€‚</td><td>æˆå‘˜å±æ€§</td><td></td></tr><tr><td>@ExcelEntity(name=â€èŒä½â€)</td><td>ä¸<code>@Excel</code>ä¸€æ ·ï¼Œä½†æ˜¯è¿™ä¸ªç”¨äºæ³¨é‡Šæ•°æ®åº“ä¸­æ²¡æœ‰ï¼Œè¯¥ pojo ä¸­å¼•ç”¨äº†å…¶ä»–çš„ pojo ç±»ã€‚</td><td>æˆå‘˜å±æ€§</td><td></td></tr></tbody></table><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token annotation punctuation">@RequiredArgsConstructor</span><span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>callSuper <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>of <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">"t_nation"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"Nationå¯¹è±¡"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Nation</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"æ°‘æ—"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Excel</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"æ°‘æ—"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@NonNull</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ€<font size=2><font color=red>æ³¨æ„ï¼š</font>å¯ä»¥çœ‹åˆ°ï¼Œç”±äºEmployee æ•°æ®åº“è¡¨ä¸­å¹¶æ²¡æœ‰Nationä½†æ˜¯å¯¼å‡ºçš„æ—¶å€™æœ‰éœ€è¦ç”¨åˆ° <code>Nation.name</code>å› æ­¤ï¼Œåœ¨ Employee çš„æˆå‘˜å±æ€§ Nation ä¸­å¹¶ä¸æ˜¯<code>@Excel</code>è€Œæ˜¯<code>@ExcelEntity</code>ï¼Œç„¶åå†åœ¨ Nation ç±»ä¸­çš„ name ä¸Šå†™ä¸€ä¸‹<code>@Excel</code>ï¼Œè¿™æ ·æ‰§è¡Œå¯¼å…¥å¯¼å‡ºçš„æ—¶å€™ï¼Œè¯»å–åˆ° Nation æ—¶ï¼Œå°±ä¼šå»å¯»æ‰¾ Nation è¿™ä¸ª pojo ç±»ï¼Œç„¶åå†åœ¨ Nation ä¸­æ‰¾<code>@Excel</code>ä¸‹çš„æˆå‘˜æ–¹æ³•ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="9">9.RabbitMQ å…³é”®ä»£ç </h2><h2 id="9.1">æ¶ˆæ¯å‘é€ç«¯</h2><p>ğŸ€æ³¨æ„ï¼šè¿™é‡Œçš„â€œæ¶ˆæ¯å‘é€â€å¹¶ä¸æ˜¯æŒ‡ â€œæˆ‘ç»™ä½ å‘é€ä¸€ä¸ªæ¶ˆæ¯â€ï¼Œè€Œæ˜¯â€œæˆ‘ç»™ RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—å‘é€ä¸€ä¸ªæ¶ˆæ¯â€ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>conditions<span class="token punctuation">.</span>update<span class="token punctuation">.</span></span><span class="token class-name">UpdateWrapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">MailConstants</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">MailLog</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IMailLogService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Binding</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">BindingBuilder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">DirectExchange</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Queue</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span><span class="token class-name">CachingConnectionFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RabbitTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token comment">/** * @author Jim * @Description rabbitmqé…ç½® * @createTime 2022å¹´05æœˆ24æ—¥ */</span><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RabbitMQConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">CachingConnectionFactory</span> cachingConnectionFactory<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">IMailLogService</span> mailLogService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">RabbitTemplate</span> <span class="token function">rabbitTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">RabbitTemplate</span> rabbitTemplate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RabbitTemplate</span><span class="token punctuation">(</span>cachingConnectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">/**         * æ¶ˆæ¯ç¡®è®¤æ¯æ‰ï¼Œç¡®è®¤æ¶ˆæ¯æ˜¯å¦åˆ°è¾¾ borker         * data: æ¶ˆæ¯å”¯ä¸€æ ‡è¯†         * ackï¼š ç¡®è®¤ç»“æœ         * causeï¼šå¤±è´¥åŸå›           */</span>        rabbitTemplate<span class="token punctuation">.</span><span class="token function">setConfirmCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>ack<span class="token punctuation">,</span>cause<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> msgId <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>ack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"suc1-- &#123;&#125;========>æ¶ˆæ¯å‘é€æˆåŠŸ"</span><span class="token punctuation">,</span>msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>                mailLogService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UpdateWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MailLog</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"msgId"</span><span class="token punctuation">,</span>msgId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>                log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"err1-- &#123;&#125;========>æ¶ˆæ¯å‘é€å¤±è´¥"</span><span class="token punctuation">,</span>msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">/**         * æ¶ˆæ¯å¤±è´¥å›è°ƒ         * msgï¼š æ¶ˆæ¯ä¸»é¢˜         * repCodeï¼šå“åº”ç          * repTextï¼šå“åº”æ–‡æœ¬         * exchangeï¼šäº¤æ¢æœº         * routingkeyï¼šè·¯ç”±é”®         */</span>        rabbitTemplate<span class="token punctuation">.</span><span class="token function">setReturnCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span>repCode<span class="token punctuation">,</span>repText<span class="token punctuation">,</span>exchange<span class="token punctuation">,</span>routingkey<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"err2-- &#123;&#125;========>æ¶ˆæ¯å‘é€queueæ—¶å¤±è´¥"</span><span class="token punctuation">,</span>msg<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> rabbitTemplate<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_QUEUE_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">DirectExchange</span> <span class="token function">directExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DirectExchange</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_EXCHANGE_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">Binding</span> <span class="token function">binding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">BindingBuilder</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token function">directExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_ROUTING_KEY_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ä»¥ä¸Šå†…å®¹ä¸ºRabbitMQ çš„é…ç½®æ–‡ä»¶</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>conditions<span class="token punctuation">.</span>query<span class="token punctuation">.</span></span><span class="token class-name">QueryWrapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>metadata<span class="token punctuation">.</span></span><span class="token class-name">IPage</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>pagination<span class="token punctuation">.</span></span><span class="token class-name">Page</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">ServiceImpl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">MailLogMapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IEmployeeService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span><span class="token class-name">CorrelationData</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RabbitTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">DecimalFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>temporal<span class="token punctuation">.</span></span><span class="token class-name">ChronoUnit</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>UUID<span class="token punctuation">;</span><span class="token comment">/** * &lt;p> *  æœåŠ¡å®ç°ç±» * &lt;/p> * * @author jim * @since 2022-05-11 */</span><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EmployeeServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">,</span> <span class="token class-name">Employee</span><span class="token punctuation">></span></span> <span class="token keyword">implements</span> <span class="token class-name">IEmployeeService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">EmployeeMapper</span> employeeMapper<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RabbitTemplate</span> rabbitTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">MailLogMapper</span> mailLogMapper<span class="token punctuation">;</span>  <span class="token comment">// æ·»åŠ å‘˜å·¥å¹¶å‘é€é‚®ä»¶</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">RespBean</span> <span class="token function">addEmp</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> employee<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å¤„ç†åˆåŒæœŸé™ï¼ˆä¿ç•™ä¸¤ä½å°æ•°ï¼‰</span>        <span class="token class-name">LocalDate</span> beginContract <span class="token operator">=</span> employee<span class="token punctuation">.</span><span class="token function">getBeginContract</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">LocalDate</span> endContract <span class="token operator">=</span> employee<span class="token punctuation">.</span><span class="token function">getEndContract</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> days <span class="token operator">=</span> beginContract<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>endContract<span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span>DAYS<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">DecimalFormat</span> decimalFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"##.00"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        employee<span class="token punctuation">.</span><span class="token function">setContractTerm</span><span class="token punctuation">(</span><span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>decimalFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>days<span class="token operator">/</span><span class="token number">365.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> employeeMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">Employee</span> emp <span class="token operator">=</span> employeeMapper<span class="token punctuation">.</span><span class="token function">getEmployee</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// æ•°æ®åº“ä¸­è®°å½•æ¶ˆæ¯</span>            <span class="token class-name">String</span> msgId <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">MailLog</span> mailLog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MailLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setMsgId</span><span class="token punctuation">(</span>msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setEid</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setRouteKey</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_ROUTING_KEY_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setExchange</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_EXCHANGE_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setTryTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">plusMinutes</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MSG_TIMEOUT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setUpdateTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLogMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>mailLog<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// å‘é€ä¿¡æ¯</span>            rabbitTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_EXCHANGE_NAME<span class="token punctuation">,</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_ROUTING_KEY_NAME<span class="token punctuation">,</span>emp<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">CorrelationData</span><span class="token punctuation">(</span>msgId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token class-name">RespBean</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">"æ·»åŠ æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">RespBean</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"æ·»åŠ å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>æ’å…¥å‘˜å·¥çš„åŒæ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªé‚®ä»¶æ—¥å¿—å¯¹è±¡<code>MailLog</code>ï¼Œå¹¶å°†è¯¥å¯¹è±¡æ’å…¥åˆ°æ•°æ®åº“ä¸­ï¼Œç„¶åè°ƒç”¨<code>rabbitTemplate.convertAndSend()</code>æ–¹æ³•</font></p><p>ğŸ‘†<font size=2>ä»”ç»†æ¨æ•²ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•çš„è¯ï¼Œå¯ä»¥å‘ç°è¿™å¹¶ä¸æ˜¯æ‰§è¡Œäº†ä¸€æ¬¡â€˜å‘é€â€™ï¼Œè€Œæ˜¯æ‰§è¡Œäº†ä¸€æ¬¡å†™å…¥ï¼Œè¿™ä¸¤è€…ä¹‹é—´è¿˜æ˜¯æœ‰äº›åŒºåˆ«çš„ï¼›æˆ‘ç»™ä½ â€œå‘é€â€ä¸€å°é‚®ä»¶ï¼Œä½ ä¼šæ”¶åˆ°è¿™å°é‚®ä»¶ï¼Œä½†æ˜¯æˆ‘å°†ä¸€å°é‚®ä»¶æ‰§è¡Œäº†ä¸€æ¬¡â€œå†™å…¥â€ï¼Œé‚£ä¹ˆä»–è¿˜æ˜¯åœ¨æˆ‘æœ¬åœ°çš„ç”µè„‘ä¸­ï¼Œå¹¶æ²¡æœ‰å‘ç»™ä½ ã€‚</font></p><p>ğŸ‘†<font size=2>è‡³äºè¿™ä¸ªé‚®ä»¶å†™å…¥åˆ°äº†å“ªé‡Œäº†å‘¢ï¼Ÿé‚£å½“ç„¶æ˜¯ RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå…³äº RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—çš„è¯¦ç»†ä¿¡æ¯å¯ä»¥æŸ¥çœ‹<a href="https://www.rabbitmq.com/">å®˜ç½‘</a>ï¼Œä¸‹è½½å®‰è£…å¯ä»¥æŸ¥çœ‹<a href="https://blog.csdn.net/weixin_40584261/article/details/106826044">è¯¥åšå®¢</a>ã€‚ç”± RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—æ”¶åˆ°äº†è¿™å°é‚®ä»¶çš„ä¿¡æ¯ä¹‹åï¼Œæ¶ˆæ¯ä¼šå­˜å‚¨åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œéšåé€šè¿‡å…¶ä»–çš„é¡¹ç›®å»ç›‘å¬ RabbitMQ ä¸­çš„å†…å®¹ï¼Œåªè¦æ¶ˆæ¯é˜Ÿåˆ—é‡Œé¢æœ‰äº†æ–°çš„æ¶ˆæ¯ï¼Œé‚£ä¹ˆæˆ‘å°±æ‰§è¡Œä¸€æ¬¡å‘é€æ¶ˆæ¯ï¼ˆè¿™é‡Œä½¿ç”¨çš„æ˜¯<a href="#Java-Mail å…³é”®ä»£ç ">Java-Mail</a>ï¼‰</font>ã€‚</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><h2 id="9.2">ğŸ‘‡ä»¥ä¸‹å†…å®¹åŒ…å«ï¼šRabbitMQ ç›‘å¬ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªä¸ yeb-server åŒçº§çš„é¡¹ç›®ï¼Œè¿è¡Œç«¯å£æ˜¯ 8082</h2><p>ğŸ€æ³¨æ„ï¼šè¿™é‡Œæ˜¯æ¶ˆæ¯æ¥æ”¶ç«¯ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯â€œæˆ‘æ¥æ”¶ä½ çš„æ¶ˆæ¯â€ï¼Œè€Œæ˜¯â€œæˆ‘æ¥æ”¶ RabbitMQ çš„æ¶ˆæ¯â€</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>mail<span class="token punctuation">.</span>mail</span><span class="token punctuation">;</span><span class="token comment">/** * @author Jim * @Description æ¥æ”¶é‚®ä»¶ * @createTime 2022å¹´05æœˆ24æ—¥ */</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MailReceiver</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * author Jim     * ç«¯å£ç›‘å¬     */</span>    <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_QUEUE_NAME<span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token class-name">Message</span> message<span class="token punctuation">,</span> <span class="token class-name">Channel</span> channel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Message:"</span><span class="token operator">+</span>message<span class="token operator">+</span><span class="token string">"\nChannel"</span><span class="token operator">+</span>channel<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>è¿™ä¸ªæ–¹æ³•å…¶å®å¾ˆç®€å•ï¼Œï¼ˆå¹¶ä¸æ˜¯åŸé¡¹ç›®ä¸­çš„æ–¹æ³•ï¼Œæˆ‘åˆ é™¤äº†å¤§éƒ¨åˆ†å…³äº Java-Mail çš„ï¼Œæ”¾åœ¨ä¸‹é¢çš„éƒ¨åˆ†ï¼‰ï¼Œå½“ RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—ä¸­æœ‰äº†æ–°çš„æ¶ˆæ¯çš„æ—¶å€™ï¼Œ<code>@RabbitListener</code>å°±ä¼šç›‘å¬åˆ°ï¼Œæ³¨æ„æˆ‘ä»¬åœ¨ä¸Šé¢äº›æ¶ˆæ¯é˜Ÿåˆ—çš„æ—¶å€™ï¼Œç”¨çš„ queue ä¸æ­¤å¤„ç›‘å¬çš„ queue ä¸€å®šè¦ä¸€è‡´ï¼Œç›‘å¬åˆ°æ¶ˆæ¯åè·å–ä¸€ä¸ª message ä»¥åŠä¸€ä¸ªchannelï¼Œéšåè¾“å‡º message ä¸ channelã€‚</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br><br></p><h2 id="10">10.Java-Mail å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">    <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_QUEUE_NAME<span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token class-name">Message</span> message<span class="token punctuation">,</span> <span class="token class-name">Channel</span> channel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Employee</span> employee <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span><span class="token punctuation">)</span> message<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MailReceiver:  employee = "</span> <span class="token operator">+</span> employee<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">MessageHeaders</span> headers <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> tag <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">AmqpHeaders</span><span class="token punctuation">.</span>DELIVERY_TAG<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"tag = "</span> <span class="token operator">+</span> tag<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> msgId <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"spring_returned_message_correlation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"msgId = "</span> <span class="token operator">+</span> msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HashOperations</span> hash <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token string">"mail_log"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>msgId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//redisä¸­åŒ…å«keyï¼Œè¯´æ˜æ¶ˆæ¯å·²ç»è¢«æ¶ˆè´¹</span>                logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆæ¯å·²ç»è¢«æ¶ˆè´¹========>&#123;&#125;"</span><span class="token punctuation">,</span> msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">/**                 * æ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯                 * tag:æ¶ˆæ¯åºå·                 * multiple:æ˜¯å¦å¤šæ¡                 */</span>                channel<span class="token punctuation">.</span><span class="token function">basicAck</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">MimeMessage</span> msg <span class="token operator">=</span> javaMailSender<span class="token punctuation">.</span><span class="token function">createMimeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">MimeMessageHelper</span> helper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MimeMessageHelper</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span>mailProperties<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setTo</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token string">"å…¥èŒé‚®ä»¶"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setSentDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Context</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            context<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            context<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"posName"</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            context<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"joblevelName"</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span><span class="token function">getJoblevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            context<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"departmentName"</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span><span class="token function">getDepartment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">String</span> mail <span class="token operator">=</span> templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">"mail"</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mail<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å‘é€é‚®ä»¶</span>            javaMailSender<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"é‚®ä»¶å‘é€æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å°†æ¶ˆæ¯idå­˜å…¥redis</span>            hash<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"mail_log"</span><span class="token punctuation">,</span> msgId<span class="token punctuation">,</span> <span class="token string">"OK"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MailReceiver: redis---> msgId = "</span> <span class="token operator">+</span> msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//æ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯</span>            channel<span class="token punctuation">.</span><span class="token function">basicAck</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                channel<span class="token punctuation">.</span><span class="token function">basicNack</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioException<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//ioException.printStackTrace();</span>                logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆæ¯ç¡®è®¤å¤±è´¥=====>&#123;&#125;"</span><span class="token punctuation">,</span> ioException<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"MailReceiver + é‚®ä»¶å‘é€å¤±è´¥========&#123;&#125;"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><br><h2 id="10.1">@Scheduled å…³é”®ä»£ç </h2><p>ğŸªµ ç”±äºæˆ‘ä»¬æ‰§è¡Œå‘é€é‚®ä»¶çš„æ—¶å€™ï¼Œä¸ä¸€å®šå¯ä»¥ä¸€æ¬¡æ€§å‘é€æˆåŠŸï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘å°±ä¸å‘äº†ï¼Ÿé‚£ä¸å¤ªåˆé€‚å§ï¼›æˆ‘ä¸€ç›´å°è¯•å‘é€ï¼Œä¹Ÿä¸å¤ªåˆé€‚ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨<code>@Scheduled</code>æ³¨è§£ï¼Œè®©ä¸€ä¸ªæ–¹æ³•æ¯éš”ä¸€æ®µæ—¶é—´æ‰«æä¸€æ¬¡ MailLog æ•°æ®åº“è¡¨ï¼Œå¦‚æœé‡Œé¢æœ‰çŠ¶æ€ä¸ºâ€˜æ­£åœ¨å‘é€â€™çš„ï¼Œé‚£å°±é‡æ–°å‘é€ä¸€æ¬¡ï¼Œå¦‚æœè¶…è¿‡ä¸‰æ¬¡éƒ½å¤±è´¥äº†ï¼Œå°±å°†çŠ¶æ€æ ‡è®°ä¸ºâ€˜å‘é€å¤±è´¥â€™ã€‚</p><p><font color=darkgray size=2>ä¸ºäº†ç®€åŒ–é˜…è¯»ï¼Œè¿™é‡Œå°†æ–¹æ³•ä¿®æ”¹ä¸ºï¼šæ¯éš”åç§’è¾“å‡ºä¸€æ¬¡â€œæˆ‘å¾ªç¯äº†â€¦â€,å…·ä½“ä»£ç å¯ä»¥ç§»æ­¥è‡³<a href="https://github.com/Jimecc">æˆ‘çš„ GitHub</a> æŸ¥çœ‹ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">"0/10 * * * * ?"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mailTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æˆ‘å¾ªç¯äº†...."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ€ <font color=red size=2>æ³¨æ„ï¼šè¦åœ¨ Main æ–¹æ³•çš„å¯åŠ¨ç±»ä¸ŠåŠ å…¥<code>@EnableScheduling</code>æ³¨è§£æ‰å¯ä»¥ã€‚</font> ğŸ‘‡</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableScheduling</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YebApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">YebApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br><br></p><h2 id="11">11.JavaSecurity</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security<span class="token punctuation">.</span>component<span class="token punctuation">.</span></span><span class="token class-name">CustomFilter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security<span class="token punctuation">.</span>component<span class="token punctuation">.</span></span><span class="token class-name">CustomUrlDecisionManager</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Admin</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IAdminService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ObjectPostProcessor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">AuthenticationManagerBuilder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">HttpSecurity</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">WebSecurity</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">WebSecurityConfigurerAdapter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">SessionCreationPolicy</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetailsService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>bcrypt<span class="token punctuation">.</span></span><span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>password<span class="token punctuation">.</span></span><span class="token class-name">PasswordEncoder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>access<span class="token punctuation">.</span>intercept<span class="token punctuation">.</span></span><span class="token class-name">FilterSecurityInterceptor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span></span><span class="token class-name">UsernamePasswordAuthenticationFilter</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">IAdminService</span> adminService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RestfulAccessDeniedHandler</span> restfulAccessDeniedHandler<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RestAuthorizationEntryPoint</span> restAuthorizationEntryPoint<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">CustomUrlDecisionManager</span> customUrlDecisionManager<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">CustomFilter</span> customFilter<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationManagerBuilder</span> auth<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>        auth<span class="token punctuation">.</span><span class="token function">userDetailsService</span><span class="token punctuation">(</span><span class="token function">userDetailsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">WebSecurity</span> web<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        web<span class="token punctuation">.</span><span class="token function">ignoring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span>                <span class="token string">"/login"</span><span class="token punctuation">,</span>                <span class="token string">"/logout"</span><span class="token punctuation">,</span>                <span class="token string">"/css/**"</span><span class="token punctuation">,</span>                <span class="token string">"/js/**"</span><span class="token punctuation">,</span>                <span class="token string">"/index.html"</span><span class="token punctuation">,</span>                <span class="token string">"favicon.ico"</span><span class="token punctuation">,</span>                <span class="token string">"/doc.html"</span><span class="token punctuation">,</span>                <span class="token string">"/webjars/**"</span><span class="token punctuation">,</span>                <span class="token string">"/swagger-resources/**"</span><span class="token punctuation">,</span>                <span class="token string">"/v2/api-docs/**"</span><span class="token punctuation">,</span>                <span class="token string">"/captcha"</span><span class="token punctuation">,</span>                <span class="token string">"/ws/**"</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>        http<span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">sessionManagement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">sessionCreationPolicy</span><span class="token punctuation">(</span><span class="token class-name">SessionCreationPolicy</span><span class="token punctuation">.</span>STATELESS<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment">// æ‰€æœ‰çš„è¯·æ±‚éƒ½è¦æ±‚è®¤è¯</span>                <span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">withObjectPostProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ObjectPostProcessor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FilterSecurityInterceptor</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token annotation punctuation">@Override</span>                    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">O</span> <span class="token keyword">extends</span> <span class="token class-name">FilterSecurityInterceptor</span><span class="token punctuation">></span></span> <span class="token class-name">O</span> <span class="token function">postProcess</span><span class="token punctuation">(</span><span class="token class-name">O</span> o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        o<span class="token punctuation">.</span><span class="token function">setAccessDecisionManager</span><span class="token punctuation">(</span>customUrlDecisionManager<span class="token punctuation">)</span><span class="token punctuation">;</span>                        o<span class="token punctuation">.</span><span class="token function">setSecurityMetadataSource</span><span class="token punctuation">(</span>customFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span> o<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">cacheControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        http<span class="token punctuation">.</span><span class="token function">addFilterBefore</span><span class="token punctuation">(</span><span class="token function">jwtAuthencationTokenFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">UsernamePasswordAuthenticationFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        http<span class="token punctuation">.</span><span class="token function">exceptionHandling</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">accessDeniedHandler</span><span class="token punctuation">(</span>restfulAccessDeniedHandler<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">authenticationEntryPoint</span><span class="token punctuation">(</span>restAuthorizationEntryPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">UserDetailsService</span> <span class="token function">userDetailsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> username <span class="token operator">-></span><span class="token punctuation">&#123;</span>            <span class="token class-name">Admin</span> admin <span class="token operator">=</span> adminService<span class="token punctuation">.</span><span class="token function">getAdminByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token operator">!=</span>admin<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                admin<span class="token punctuation">.</span><span class="token function">setRoles</span><span class="token punctuation">(</span>adminService<span class="token punctuation">.</span><span class="token function">getRoles</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> admin<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·åæˆ–å¯†ç ä¸æ­£ç¡®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">PasswordEncoder</span> <span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">JwtAuthencationTokenFilter</span> <span class="token function">jwtAuthencationTokenFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">JwtAuthencationTokenFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†é…ç½®æ–‡ä»¶ï¼šç›¸å…³å†…å®¹é‡Œå¯ä»¥æŸ¥çœ‹æ³¨è§£ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span> userDetailsService<span class="token punctuation">.</span><span class="token function">loadUserByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> userDetails <span class="token operator">||</span> <span class="token operator">!</span> passwordEncoder<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span>userDetails<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token class-name">RespBean</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·åæˆ–å¯†ç ä¸æ­£ç¡®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>userDetails<span class="token punctuation">.</span><span class="token function">isEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token class-name">RespBean</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"è´¦å·è¢«ç¦ç”¨ï¼Œè¯·è”ç³»ç®¡ç†å‘˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†ä»¥ä¸Šæ˜¯ç™»å½•éªŒè¯ï¼šé€šè¿‡ JavaSecurity ä¸­çš„ UserDetails æ¥åˆ¤æ–­ç”¨æˆ·åä¸å¯†ç æ˜¯å¦æ­£ç¡®</p><p>ğŸ€æ³¨æ„ï¼šPasswordEncoder ä¹Ÿæ˜¯å±äº JavaSecurity ä¸­çš„ä¸€ä¸ªç±»ï¼Œä¸»è¦ç”¨äºåŠ å¯†ã€‚</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="12">12.FastDFS å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>csource<span class="token punctuation">.</span>fastdfs<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">ClassPathResource</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span><span class="token punctuation">;</span><span class="token comment">/** * æ–‡ä»¶ä¸Šä¼ å·¥å…·ç±» * * @author zhanglishen * @since 1.0.0 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FastDFSUtils</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">FastDFSUtils</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> filePath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathResource</span><span class="token punctuation">(</span><span class="token string">"fdfs_client.conf"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">ClientGlobal</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"FastDFS Client Init Fail! "</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ä¸Šä¼ æ–‡ä»¶     * @param file     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> filename <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"File Name :"</span> <span class="token operator">+</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> uploadResults <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–storageå®¢æˆ·ç«¯</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            storageClient <span class="token operator">=</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//ä¸Šä¼ </span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                uploadResults <span class="token operator">=</span> storageClient<span class="token punctuation">.</span><span class="token function">upload_file</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>filename<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>filename<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"IO Exception when uploadind the file:"</span> <span class="token operator">+</span> filename<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Non IO Exception when uploadind the file:"</span> <span class="token operator">+</span> filename<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"upload_file time used:"</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" ms"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ä¸Šä¼ ç»“æœ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>uploadResults <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> storageClient <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"upload file fail, error code:"</span> <span class="token operator">+</span> storageClient<span class="token punctuation">.</span><span class="token function">getErrorCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//ä¸Šä¼ æˆåŠŸè¿”å›groupName</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"upload file successfully!!!"</span> <span class="token operator">+</span> <span class="token string">"group_name:"</span> <span class="token operator">+</span> uploadResults<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">", remoteFileName:"</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> uploadResults<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> uploadResults<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–æ–‡ä»¶ä¿¡æ¯     * @param groupName     * @param remoteFileName     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">FileInfo</span> <span class="token function">getFileInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupName<span class="token punctuation">,</span><span class="token class-name">String</span> remoteFileName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> storageClient<span class="token punctuation">.</span><span class="token function">get_file_info</span><span class="token punctuation">(</span>groupName<span class="token punctuation">,</span>remoteFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"IO Exception: Get File from Fast DFS failed"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Non IO Exception: Get File from Fast DFS failed"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ä¸‹è½½     * @param groupName     * @param remoteFileName     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">InputStream</span> <span class="token function">downFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupName<span class="token punctuation">,</span><span class="token class-name">String</span> remoteFileName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> storageClient<span class="token punctuation">.</span><span class="token function">download_file</span><span class="token punctuation">(</span>groupName<span class="token punctuation">,</span> remoteFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> inputStream<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"IO Exception: Get File from Fast DFS failed"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Non IO Exception: Get File from Fast DFS failed"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ é™¤æ–‡ä»¶     * @param groupName     * @param remoteFileName     * @throws Exception     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">deleteFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupName<span class="token punctuation">,</span><span class="token class-name">String</span> remoteFileName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> storageClient<span class="token punctuation">.</span><span class="token function">delete_file</span><span class="token punctuation">(</span>groupName<span class="token punctuation">,</span> remoteFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"delete file successfully!!!"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç”ŸæˆStorageå®¢æˆ·ç«¯     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">StorageClient</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">TrackerServer</span> trackerServer <span class="token operator">=</span> <span class="token function">getTrackerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StorageClient</span><span class="token punctuation">(</span>trackerServer<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> storageClient<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç”ŸæˆTrackeræœåŠ¡å™¨ç«¯     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">TrackerServer</span> <span class="token function">getTrackerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">TrackerClient</span> trackerClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrackerClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">TrackerServer</span> trackerServer <span class="token operator">=</span> trackerClient<span class="token punctuation">.</span><span class="token function">getTrackerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> trackerServer<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–æ–‡ä»¶è·¯å¾„     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getTrackerUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">TrackerClient</span> trackerClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrackerClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">TrackerServer</span> trackerServer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">StorageServer</span> storageServer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            trackerServer <span class="token operator">=</span> trackerClient<span class="token punctuation">.</span><span class="token function">getTrackerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            storageServer <span class="token operator">=</span> trackerClient<span class="token punctuation">.</span><span class="token function">getStoreStorage</span><span class="token punctuation">(</span>trackerServer<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token string">"http://"</span><span class="token operator">+</span>storageServer<span class="token punctuation">.</span><span class="token function">getInetSocketAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":8888/"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†å°±æ˜¯ä¸€äº›ç®€å•çš„é…ç½®ï¼Œä¸»è¦åŠŸèƒ½ä¸ºï¼šä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤æ–‡ä»¶ï¼›ä»¥åŠä¸€äº›æœåŠ¡äºè¿™ä¸‰ä¸ªåŠŸèƒ½çš„æ–¹æ³•ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"æ›´æ–°ç”¨æˆ·å¤´åƒ"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/admin/userface"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">RespBean</span> <span class="token function">updateAdminUserFace</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span><span class="token class-name">Authentication</span> authentication<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> filePath <span class="token operator">=</span> <span class="token class-name">FastDFSUtils</span><span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token class-name">FastDFSUtils</span><span class="token punctuation">.</span><span class="token function">getTrackerUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>filePath<span class="token operator">+</span><span class="token string">"/"</span><span class="token operator">+</span>filePath<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> adminService<span class="token punctuation">.</span><span class="token function">updateAdminUserFace</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>id<span class="token punctuation">,</span>authentication<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†åœ¨AdminInfoController ä¸­è°ƒç”¨FastDFSUtilså®ç°ä¸Šä¼ å¤´åƒçš„åŠŸèƒ½ã€‚</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br><br></p><h2 id="13">13.WebSocket å…³é”®ä»£ç </h2><h2 id="13.1">é…ç½®æ–‡ä»¶</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span><span class="token class-name">JwtTokenUtil</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">Message</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">MessageChannel</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>simp<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">ChannelRegistration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>simp<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">MessageBrokerRegistry</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>simp<span class="token punctuation">.</span>stomp<span class="token punctuation">.</span></span><span class="token class-name">StompCommand</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>simp<span class="token punctuation">.</span>stomp<span class="token punctuation">.</span></span><span class="token class-name">StompHeaderAccessor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">ChannelInterceptor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">MessageHeaderAccessor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span></span><span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SecurityContextHolder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetailsService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>socket<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">EnableWebSocketMessageBroker</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>socket<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">StompEndpointRegistry</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>socket<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebSocketMessageBrokerConfigurer</span><span class="token punctuation">;</span><span class="token comment">/** * @author Jim * @Description WebSocket é…ç½®ç±» * @createTime 2022å¹´05æœˆ26æ—¥ */</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@EnableWebSocketMessageBroker</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSocketConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebSocketMessageBrokerConfigurer</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.tokenHead&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> tokenHead<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">JwtTokenUtil</span> jwtTokenUtil<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">UserDetailsService</span> userDetailsService<span class="token punctuation">;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: æ·»åŠ è¿™ä¸ª EndPointï¼Œè¿™æ ·å¯ä»¥åœ¨ç½‘é¡µé€šè¿‡ websocket è¿æ¥ä¸ŠæœåŠ¡     * ä¹Ÿå°±æ˜¯æˆ‘ä»¬é…ç½® websocket æœåŠ¡å¤åˆ¶ï¼Œå¹¶ä¸”å¯ä»¥æŒ‡å®šæ˜¯å¦ä½¿ç”¨ socketJS     * @param registry     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerStompEndpoints</span><span class="token punctuation">(</span><span class="token class-name">StompEndpointRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/**         * 1.å°† ws/epè·¯å¾„æ³¨å†Œä¸º stomp çš„ç«¯ç‚¹ï¼Œç”¨æˆ·é“¾æ¥äº†è¿™ä¸ªç«¯ç‚¹å°±å¯ä»¥è¿›è¡Œ websocket é€šè®¯ï¼Œæ”¯æŒ socketJS         * 2.setAllowedOrigins("*")å…è®¸è·¨åŸŸ         * wethSockJS() æ”¯æŒ socketJS è®¿é—®         */</span>        registry<span class="token punctuation">.</span><span class="token function">addEndpoint</span><span class="token punctuation">(</span><span class="token string">"/ws/ep"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAllowedOrigins</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withSockJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è¾“å…¥é€šé“å‚æ•°é…ç½®     * @param registration     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureClientInboundChannel</span><span class="token punctuation">(</span><span class="token class-name">ChannelRegistration</span> registration<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        registration<span class="token punctuation">.</span><span class="token function">interceptors</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChannelInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token class-name">Message</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> <span class="token function">preSend</span><span class="token punctuation">(</span><span class="token class-name">Message</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> message<span class="token punctuation">,</span> <span class="token class-name">MessageChannel</span> channel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">StompHeaderAccessor</span> accessor <span class="token operator">=</span> <span class="token class-name">MessageHeaderAccessor</span><span class="token punctuation">.</span><span class="token function">getAccessor</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token class-name">StompHeaderAccessor</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//åˆ¤æ–­æ˜¯å¦ä¸ºè¿æ¥ï¼Œå¦‚æœæ˜¯ï¼Œéœ€è¦è·å–tokenï¼Œå¹¶ä¸”è®¾ç½®ç”¨æˆ·å¯¹è±¡</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StompCommand</span><span class="token punctuation">.</span>CONNECT<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>accessor<span class="token punctuation">.</span><span class="token function">getCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token class-name">String</span> token <span class="token operator">=</span> accessor<span class="token punctuation">.</span><span class="token function">getFirstNativeHeader</span><span class="token punctuation">(</span><span class="token string">"Auth-Token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                        <span class="token class-name">String</span> authToken <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>tokenHead<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token class-name">String</span> username <span class="token operator">=</span> jwtTokenUtil<span class="token punctuation">.</span><span class="token function">getUserNameFromToken</span><span class="token punctuation">(</span>authToken<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//tokenä¸­å­˜åœ¨ç”¨æˆ·å</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                            <span class="token comment">//ç™»å½•</span>                            <span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span> userDetailsService<span class="token punctuation">.</span><span class="token function">loadUserByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">//éªŒè¯tokenæ˜¯éƒ½æœ‰æ•ˆ</span>                            <span class="token keyword">if</span> <span class="token punctuation">(</span>jwtTokenUtil<span class="token punctuation">.</span><span class="token function">validateToken</span><span class="token punctuation">(</span>authToken<span class="token punctuation">,</span>userDetails<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                                <span class="token class-name">UsernamePasswordAuthenticationToken</span> authenticationToken <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">(</span>userDetails<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> userDetails<span class="token punctuation">.</span><span class="token function">getAuthorities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAuthentication</span><span class="token punctuation">(</span>authenticationToken<span class="token punctuation">)</span><span class="token punctuation">;</span>                                accessor<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>authenticationToken<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token punctuation">&#125;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> message<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: é…ç½®æ¶ˆæ¯ä»£ç†     * @param registry     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureMessageBroker</span><span class="token punctuation">(</span><span class="token class-name">MessageBrokerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// é…ç½®ä»£ç†åŸŸï¼Œå¯ä»¥é…ç½®å¤šä¸ªï¼Œé…ç½®ä»£ç†çš„ç›®çš„åœ°å‰ç¼€ä¸º/queue,å¯ä»¥åœ¨é…ç½®åŸŸä¸Šå‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯</span>        registry<span class="token punctuation">.</span><span class="token function">enableSimpleBroker</span><span class="token punctuation">(</span><span class="token string">"/queue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="13.2">å®ç°èŠå¤©åŠŸèƒ½</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@MessageMapping</span><span class="token punctuation">(</span><span class="token string">"/ws/chat"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleMsg</span><span class="token punctuation">(</span><span class="token class-name">Authentication</span> authentication<span class="token punctuation">,</span> <span class="token class-name">ChatMsg</span> chatMsg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Admin</span> admin <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">)</span> authentication<span class="token punctuation">.</span><span class="token function">getPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    chatMsg<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    chatMsg<span class="token punctuation">.</span><span class="token function">setFromNickName</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    chatMsg<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    simpMessagingTemplate<span class="token punctuation">.</span><span class="token function">convertAndSendToUser</span><span class="token punctuation">(</span>chatMsg<span class="token punctuation">.</span><span class="token function">getTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"/queue/chat"</span><span class="token punctuation">,</span>chatMsg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†ä½¿ç”¨simpMessagingTemplateå‘é€æ¶ˆæ¯</p><h3 id="13.3">è·å–æ‰€æœ‰ç®¡ç†å‘˜ï¼ˆèŠå¤©åˆ—è¡¨ï¼‰</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">package com.jim.server.controller;import com.jim.server.pojo.Admin;import com.jim.server.service.IAdminService;import io.swagger.annotations.ApiOperation;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import java.util.List;&#x2F;** * @author Jim * @Description å¯ä»¥è·Ÿè°èŠå¤© * @createTime 2022å¹´05æœˆ26æ—¥ *&#x2F;@RestController@RequestMapping(&quot;&#x2F;chat&quot;)public class ChatController &#123;    @Autowired    private IAdminService adminService;    @ApiOperation(value&#x3D;&quot;è·å–æ‰€æœ‰æ“ä½œå‘˜&quot;)    @GetMapping(&quot;&#x2F;admin&quot;)    public List&lt;Admin&gt; getAllAdmins(String keywords)&#123;        return adminService.getAllAdmins(keywords);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><h1 id="å‰ç«¯è·¨åŸŸ"><a href="#å‰ç«¯è·¨åŸŸ" class="headerlink" title="å‰ç«¯è·¨åŸŸ"></a>å‰ç«¯è·¨åŸŸ</h1><p>ç”±äºé¡¹ç›®å‰åç«¯åˆ†ç¦»ï¼Œå‰ç«¯å¿…é¡»è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜ä¾¿æ˜¯è·¨åŸŸï¼Œå¦åˆ™å‰åç«¯æ— æ³•è¿›è¡Œè”è°ƒï¼Œå› æ­¤åœ¨<a href="https://www.bilibili.com/video/BV1ff4y1M7XK?p=7&vd_source=32c908a2f8edcccb3fa042cf11b101bc">è§†é¢‘ç¬¬ä¸ƒé›†</a>çš„ä½ç½®è¯´æ˜äº†å¦‚ä½•å®ç°è·¨åŸŸï¼Œå…·ä½“æ–¹æ³•åœ¨è§†é¢‘ä¸­æœ‰ä»‹ç»ï¼Œç®€å•æè¿°å°±æ˜¯ï¼šåœ¨ Vue é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª vue.config.js æ–‡ä»¶ ğŸ‘‰ğŸ» åœ¨é‡Œé¢é…ç½® proxy ä»¥åŠ target ç›®æ ‡åœ°å€ï¼›</p><p>è¿™æ—¶å€™ä»…éœ€è¦å°† targetæ”¹æˆ <code>http://110.40.191.51:8081</code>ä¾¿å¯ä»¥ä»¥æˆ‘çš„æœåŠ¡å™¨ä¸ºåç«¯è¿›è¡Œè”è°ƒå¼€å‘ï¼Œå…·ä½“å®ç°æ•ˆæœå¦‚ä¸‹ï¼š</p><img src="https://files.catbox.moe/xy2sry.png" style="width:90%" /><p>å®ç°è·¨åŸŸçš„æ–¹å¼è¿˜æœ‰å¾ˆå¤šç§ï¼Œè¿™æ˜¯å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒæ–¹ä¾¿çš„ä¸€ç§ã€‚</p><p><font color=red size=4>å…¬ç›Šå¼€æ”¾åç«¯ï¼Œè¯·å‹¿éšä¾¿ä¿®æ”¹æœåŠ¡å™¨æ•°æ®ï¼ˆä¸ºäº†æ–¹ä¾¿åˆ«äººè®¿é—®ï¼Œæ”¹äº†è¯·æ”¹å›æ¥å“¦ï¼‰</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><h1 id="ç”Ÿæ´»"><a href="#ç”Ÿæ´»" class="headerlink" title="ç”Ÿæ´»"></a>ç”Ÿæ´»</h1><p>æ”¾ä¸€å¼ æˆ‘èƒ–å„¿çš„å¸…ç…§ï¼š</p><div style="text-align:center"><img  src="https://files.catbox.moe/q3ztct.png" style="width:50%;border-radius:1110px 1110px" /></div><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>ä»£ç é˜…è¯»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘äº‘EåŠé¡¹ç›®åç«¯æŠ€æœ¯æ ˆæ•´åˆåŠä»£ç é˜…è¯»</title>
    <link href="/2022/06/17/%E3%80%90%E9%A1%B9%E7%9B%AE%E3%80%91yeb%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF%E6%A0%88for%20CSDN/"/>
    <url>/2022/06/17/%E3%80%90%E9%A1%B9%E7%9B%AE%E3%80%91yeb%E5%90%8E%E7%AB%AF%E6%8A%80%E6%9C%AF%E6%A0%88for%20CSDN/</url>
    
    <content type="html"><![CDATA[<blockquote><p>é¡¹ç›®æ¥æºï¼š<a href="https://www.bilibili.com/video/BV1ff4y1M7XK?p=52&spm_id_from=333.880.my_history.page.click&vd_source=32c908a2f8edcccb3fa042cf11b101bc">Bilibili:å¸¦ä½ ä»0æ­å»ºä¸€ä¸ªspringboot+vueå‰åç«¯åˆ†ç¦»çš„javaé¡¹ç›®</a></p><p>æºç åœ°å€ï¼š<a href="https://github.com/Jimecc/yeb">https://github.com/Jimecc/yeb</a></p><p>æœ¬é¡¹ç›®çš„åç«¯éƒ¨åˆ†æˆ‘å·²ç»å®Œæ•´çš„éƒ¨ç½²åœ¨äº†æˆ‘çš„ä¸ªäººæœåŠ¡å™¨ä¸Šï¼Œå› æ­¤ï¼š</p><ul><li><p>Swagger2 æ¥å£æ–‡æ¡£ï¼š<a href="http://110.40.191.51:8081/doc.html">http://110.40.191.51:8081/doc.html</a></p></li><li><p>åªæƒ³å­¦å‰ç«¯çš„æœ‹å‹å¯ä»¥å°†è‡ªå·±çš„å‰ç«¯è·¨åŸŸåœ°å€è®¾ç½®ä¸º<code>http://110.40.191.51:8081</code>ï¼Œå…·ä½“æ–¹æ³•<a href="#å‰ç«¯è·¨åŸŸ">ç‚¹å‡»æ­¤å¤„</a></p></li></ul><p>å¼€å‘ç¯å¢ƒï¼šMacBook air 2020</p><ul><li>IDEA + WebStorm</li><li>MySQL æ•°æ®åº“</li></ul><p>æœåŠ¡å™¨ç¯å¢ƒï¼šè…¾è®¯äº‘ CentOS 8.0</p><p>ä¸ªäººåšå®¢åœ°å€ï¼š<a href="http://jime.cc/">Jime.cc</a></p></blockquote><br><br><br><img src="https://files.catbox.moe/h5sru1.png" style="border:3px solid #9c938a;width:90%;border-radius:10px 100px 10px 0px"><div style="size:13px;text-align:center"><a>ğŸ‘†å‰ç«¯æˆªå›¾</a></div><img src="https://files.catbox.moe/lef8ig.png" style="width:90%;box-shadow: 10px 10px 10px rgba(.5,.5,.5,.5);-moz-box-shadow: 10px 10px 10px rgba(0,0,0,.5);-webkit-box-shadow: 10px 10px 10px rgba(0,0,0,.5);" /><div style="size:13px;text-align:center"><a>ğŸ‘†ç»“æ„æ¦‚è¿°</a></div><h1 id="0">åç«¯æŠ€æœ¯æ ˆ</h2><table><thead><tr><th>æŠ€æœ¯åç§°</th><th>ä½œç”¨</th><th>å…³é”®ä»£ç </th></tr></thead><tbody><tr><td>Springboot</td><td>æ•´ä¸ªåç«¯é¡¹ç›®çš„æ¡†æ¶</td><td><a href="#1">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>Lombok</td><td>ç”¨æ³¨è§£ä»£æ›¿ç¹ççš„æ“ä½œã€ç®€åŒ–å¼€å‘</td><td><a href="#2">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>AutoGenerator</td><td>ä»£ç ç”Ÿæˆï¼ˆæ•°æ®åº“ç”Ÿæˆæœ€åŸºæœ¬çš„pojoã€mapperã€serviceã€controller æ–‡ä»¶ï¼‰</td><td><a href="#3">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>Swagger2</td><td>åç«¯æ¥å£æ–‡æ¡£ï¼ˆå¤šç”¨äºå¤šäººå¼€å‘æˆ–å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼‰</td><td><a href="#4">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>JWT</td><td>ç”Ÿæˆï¼ˆæˆ–åˆ·æ–°ï¼‰token</td><td><a href="#5">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>Kaptcha</td><td>è°·æ­Œçš„éªŒè¯ç ç”Ÿæˆå™¨</td><td><a href="#6">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>Redis</td><td>Menu æ“ä½œæ—¶ï¼Œå‡å°‘æ•°æ®åº“ååé‡ã€‚</td><td><a href="#6">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>EasyPOI</td><td>è¡¨æ ¼æ“ä½œï¼ˆå¯¼å‡ºå‘˜å·¥ä¿¡æ¯/å¯¼å…¥å‘˜å·¥ä¿¡æ¯å¹¶æ·»åŠ åˆ°æ•°æ®åº“ï¼‰</td><td><a href="#7">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>RabbitMQ</td><td>æ¶ˆæ¯é˜Ÿåˆ—æœºåˆ¶ï¼Œæˆ‘å°†éœ€è¦å¤„ç†çš„æ¶ˆæ¯ä»¥é˜Ÿåˆ—çš„å½¢å¼æ”¾å…¥ RabbitMQï¼Œéšåå†å»è¯»å–ã€‚</td><td><a href="#8">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>JavaMail</td><td>Javaå‘é€é‚®ä»¶ã€‚</td><td><a href="#9">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>@Scheduled</td><td>è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæŠ€æœ¯æ ˆï¼Œä½†æ˜¯ä¹Ÿå‡†å¤‡è®²ä¸€ä¸‹ã€‚</td><td><a href="#10">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>SpringSecurity</td><td>Springbootçš„å®‰å…¨æŠ€æœ¯ï¼Œç”¨äºåŠ å¯†ç­‰ã€‚</td><td><a href="#11">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>MyBatisPlus</td><td>è¿™ä¸ªå±äºæœ€åŸºç¡€çš„æŠ€æœ¯äº†ï¼Œè¿™é‡Œä¸å¤šå†™äº†ã€‚</td><td></td></tr><tr><td>FastDFS</td><td>ä¸€ä¸ªæ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œä¸»è¦ç”¨äºå­˜å‚¨ç”¨æˆ·å¤´åƒï¼Œå…¶ä¼˜ç‚¹å¯ä»¥æŸ¥çœ‹<a href="https://github.com/happyfish100/fastdfs">FastDFSå®˜ç½‘</a></td><td><a href="#13">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr><tr><td>WebSocket</td><td>æœåŠ¡å™¨å‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯ï¼Œä¸€èˆ¬éƒ½ç”¨äºå³æ—¶é€šè®¯å·¥å…·ï¼ˆåƒæ˜¯ QQã€å¾®ä¿¡ã€WhatsAppï¼‰</td><td><a href="#14">è·³è½¬è‡³å…³é”®ä»£ç </a></td></tr></tbody></table><p><br><br><br></p><h2 id="1">1.Springboot å…³é”®ä»£ç </h1><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YebApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">YebApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font color=darkgray size=2>å¯ä»¥è¯´æ•´ä¸ªåç«¯æœ‰å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯ Springboot çš„å…³é”®ä»£ç ï¼Œå› æ­¤æˆ‘åœ¨è¿™é‡Œåªå†™äº† Springboot çš„å¯åŠ¨ç±»ä»¥åŠæ³¨è§£ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="2">2.Lombok å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font size=2>ä»¥ä¸Šä¸º pom.xml çš„ dependencyÂ </font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token annotation punctuation">@RequiredArgsConstructor</span><span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>callSuper <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>of<span class="token operator">=</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">"t_position"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"Positionå¯¹è±¡"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Position</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"èŒä½"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Excel</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"èŒä½"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@NonNull</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"åˆ›å»ºæ—¶é—´"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">"yyy-MM-dd"</span><span class="token punctuation">,</span>timezone<span class="token operator">=</span><span class="token string">"Asia/Shanghai"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> createDate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"æ˜¯å¦å¯ç”¨"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> enabled<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>åœ¨å®ä½“ç±»ï¼ˆpojo/entityï¼‰ä¸­ä½¿ç”¨@Data å–ä»£ setter/getteræ–¹æ³•</font></p><p>ğŸ‘†<font size=2>ä½¿ç”¨ @NoArgsConstructor ä¸Â @AllArgsConstructor åˆ†åˆ«å–ä»£æ— å‚æ„é€ ä¸å…¨å‚æ„é€ å‡½æ•°ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdminController</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯ info æ—¥å¿—ä¿¡æ¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯ warnning æ—¥å¿—ä¿¡æ¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"è¿™æ˜¯ error æ—¥å¿—ä¿¡æ¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ä½¿ç”¨ @Slf4j ç”Ÿæˆlog æ—¥å¿—</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="3">3.AutoGenerator å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>generator</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>exceptions<span class="token punctuation">.</span></span><span class="token class-name">MybatisPlusException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>toolkit<span class="token punctuation">.</span></span><span class="token class-name">StringPool</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>toolkit<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span></span><span class="token class-name">AutoGenerator</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span></span><span class="token class-name">InjectionConfig</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>po<span class="token punctuation">.</span></span><span class="token class-name">TableInfo</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>rules<span class="token punctuation">.</span></span><span class="token class-name">NamingStrategy</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">FreemarkerTemplateEngine</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span><span class="token comment">// t_admin,t_admin_role,t_appraise,t_department,t_employee,t_employee_ec,t_employee_remove,t_employee_train,t_joblevel,t_mail_log,t_menu,t_menu_role,t_nation,t_oplog,t_politics_status,t_position,t_role,t_salary,t_salary_adjust,t_sys_msg,t_sys_msg_content</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CodeGenerator</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * &lt;p>     * è¯»å–æ§åˆ¶å°å†…å®¹     * &lt;/p>     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">scanner</span><span class="token punctuation">(</span><span class="token class-name">String</span> tip<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StringBuilder</span> help <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        help<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥"</span> <span class="token operator">+</span> tip <span class="token operator">+</span> <span class="token string">"ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>help<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> ipt <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>ipt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> ipt<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">MybatisPlusException</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥æ­£ç¡®çš„"</span> <span class="token operator">+</span> tip <span class="token operator">+</span> <span class="token string">"ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// ä»£ç ç”Ÿæˆå™¨</span>        <span class="token class-name">AutoGenerator</span> mpg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AutoGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å…¨å±€é…ç½®</span>        <span class="token class-name">GlobalConfig</span> gc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">final</span> <span class="token class-name">String</span> projectPath <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"user.dir"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        gc<span class="token punctuation">.</span><span class="token function">setOutputDir</span><span class="token punctuation">(</span>projectPath <span class="token operator">+</span> <span class="token string">"/yeb-server/src/main/java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        gc<span class="token punctuation">.</span><span class="token function">setAuthor</span><span class="token punctuation">(</span><span class="token string">"jim"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä½œè€…</span>        gc<span class="token punctuation">.</span><span class="token function">setOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ˜¯å¦æ‰“å¼€ç›®å½•</span>        gc<span class="token punctuation">.</span><span class="token function">setBaseResultMap</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//xmlå¼€å¯BaseResultMap</span>        gc<span class="token punctuation">.</span><span class="token function">setBaseColumnList</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//xml å¼€å¯BaseColumn</span>        gc<span class="token punctuation">.</span><span class="token function">setSwagger2</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å®ä½“å±æ€§ Swagger2 æ³¨è§£</span>        mpg<span class="token punctuation">.</span><span class="token function">setGlobalConfig</span><span class="token punctuation">(</span>gc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ•°æ®æºé…ç½®</span>        <span class="token class-name">DataSourceConfig</span> dsc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://127.0.0.1:3306/yeb?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// dsc.setSchemaName("public");</span>        dsc<span class="token punctuation">.</span><span class="token function">setDriverName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dsc<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"12345ioS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dsc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åŒ…é…ç½®</span>        <span class="token keyword">final</span> <span class="token class-name">PackageConfig</span> pc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PackageConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//pc.setModuleName(scanner("æ¨¡å—å"));</span>        pc<span class="token punctuation">.</span><span class="token function">setParent</span><span class="token punctuation">(</span><span class="token string">"com.jim.server"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setEntity</span><span class="token punctuation">(</span><span class="token string">"pojo"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setMapper</span><span class="token punctuation">(</span><span class="token string">"mapper"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setService</span><span class="token punctuation">(</span><span class="token string">"service"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setServiceImpl</span><span class="token punctuation">(</span><span class="token string">"service.impl"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setController</span><span class="token punctuation">(</span><span class="token string">"controller"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setPackageInfo</span><span class="token punctuation">(</span>pc<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è‡ªå®šä¹‰é…ç½®</span>        <span class="token class-name">InjectionConfig</span> cfg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InjectionConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// to do nothing</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token comment">// å¦‚æœæ¨¡æ¿å¼•æ“æ˜¯ freemarker</span>        <span class="token class-name">String</span> templatePath <span class="token operator">=</span> <span class="token string">"/templates/mapper.xml.ftl"</span><span class="token punctuation">;</span>        <span class="token comment">// å¦‚æœæ¨¡æ¿å¼•æ“æ˜¯ velocity</span>        <span class="token comment">// String templatePath = "/templates/mapper.xml.vm";</span>        <span class="token comment">// è‡ªå®šä¹‰è¾“å‡ºé…ç½®</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileOutConfig</span><span class="token punctuation">></span></span> focList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è‡ªå®šä¹‰é…ç½®ä¼šè¢«ä¼˜å…ˆè¾“å‡º</span>        focList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutConfig</span><span class="token punctuation">(</span>templatePath<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">outputFile</span><span class="token punctuation">(</span><span class="token class-name">TableInfo</span> tableInfo<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶å ï¼Œ å¦‚æœä½  Entity è®¾ç½®äº†å‰åç¼€ã€æ­¤å¤„æ³¨æ„ xml çš„åç§°ä¼šè·Ÿç€å‘ç”Ÿå˜åŒ–ï¼ï¼</span>                <span class="token keyword">return</span> projectPath <span class="token operator">+</span> <span class="token string">"/yeb-server/src/main/resources/mapper/"</span> <span class="token operator">+</span> pc<span class="token punctuation">.</span><span class="token function">getModuleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                        <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> tableInfo<span class="token punctuation">.</span><span class="token function">getEntityName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"Mapper"</span> <span class="token operator">+</span> <span class="token class-name">StringPool</span><span class="token punctuation">.</span>DOT_XML<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">/*        cfg.setFileCreate(new IFileCreate() &#123;            @Override            public boolean isCreate(ConfigBuilder configBuilder, FileType fileType, String filePath) &#123;                // åˆ¤æ–­è‡ªå®šä¹‰æ–‡ä»¶å¤¹æ˜¯å¦éœ€è¦åˆ›å»º                checkDir("è°ƒç”¨é»˜è®¤æ–¹æ³•åˆ›å»ºçš„ç›®å½•ï¼Œè‡ªå®šä¹‰ç›®å½•ç”¨");                if (fileType == FileType.MAPPER) &#123;                    // å·²ç»ç”Ÿæˆ mapper æ–‡ä»¶åˆ¤æ–­å­˜åœ¨ï¼Œä¸æƒ³é‡æ–°ç”Ÿæˆè¿”å› false                    return !new File(filePath).exists();                &#125;                // å…è®¸ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶                return true;            &#125;        &#125;);        */</span>        cfg<span class="token punctuation">.</span><span class="token function">setFileOutConfigList</span><span class="token punctuation">(</span>focList<span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setCfg</span><span class="token punctuation">(</span>cfg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// é…ç½®æ¨¡æ¿</span>        <span class="token class-name">TemplateConfig</span> templateConfig <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TemplateConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// é…ç½®è‡ªå®šä¹‰è¾“å‡ºæ¨¡æ¿</span>        <span class="token comment">//æŒ‡å®šè‡ªå®šä¹‰æ¨¡æ¿è·¯å¾„ï¼Œæ³¨æ„ä¸è¦å¸¦ä¸Š.ftl/.vm, ä¼šæ ¹æ®ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“è‡ªåŠ¨è¯†åˆ«</span>        <span class="token comment">// templateConfig.setEntity("templates/entity2.java");</span>        <span class="token comment">// templateConfig.setService();</span>        <span class="token comment">// templateConfig.setController();</span>        templateConfig<span class="token punctuation">.</span><span class="token function">setXml</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setTemplate</span><span class="token punctuation">(</span>templateConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ç­–ç•¥é…ç½®</span>        <span class="token class-name">StrategyConfig</span> strategy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StrategyConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ•°æ®åº“è¡¨æ˜ å°„åˆ°å®ä½“çš„å‘½åç­–ç•¥</span>        strategy<span class="token punctuation">.</span><span class="token function">setNaming</span><span class="token punctuation">(</span><span class="token class-name">NamingStrategy</span><span class="token punctuation">.</span>underline_to_camel<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ•°æ®åº“è¡¨å­—æ®µæ˜ å°„åˆ°å®ä½“çš„å‘½åç­–ç•¥</span>        strategy<span class="token punctuation">.</span><span class="token function">setColumnNaming</span><span class="token punctuation">(</span><span class="token class-name">NamingStrategy</span><span class="token punctuation">.</span>no_change<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//strategy.setSuperEntityClass("ä½ è‡ªå·±çš„çˆ¶ç±»å®ä½“,æ²¡æœ‰å°±ä¸ç”¨è®¾ç½®!");</span>        <span class="token comment">//lombokæ¨¡å‹</span>        strategy<span class="token punctuation">.</span><span class="token function">setEntityLombokModel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç”ŸæˆRestController</span>        strategy<span class="token punctuation">.</span><span class="token function">setRestControllerStyle</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å…¬å…±çˆ¶ç±»</span>        <span class="token comment">//strategy.setSuperControllerClass("ä½ è‡ªå·±çš„çˆ¶ç±»æ§åˆ¶å™¨,æ²¡æœ‰å°±ä¸ç”¨è®¾ç½®!");</span>        <span class="token comment">// å†™äºçˆ¶ç±»ä¸­çš„å…¬å…±å­—æ®µ</span>        <span class="token comment">//strategy.setSuperEntityColumns("id");</span>        strategy<span class="token punctuation">.</span><span class="token function">setInclude</span><span class="token punctuation">(</span><span class="token function">scanner</span><span class="token punctuation">(</span><span class="token string">"è¡¨åï¼Œå¤šä¸ªè‹±æ–‡é€—å·åˆ†å‰²"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        strategy<span class="token punctuation">.</span><span class="token function">setControllerMappingHyphenStyle</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¡¨å‰ç¼€</span>        strategy<span class="token punctuation">.</span><span class="token function">setTablePrefix</span><span class="token punctuation">(</span><span class="token string">"t_"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setStrategy</span><span class="token punctuation">(</span>strategy<span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">setTemplateEngine</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FreemarkerTemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        mpg<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>è¿™æ®µä»£ç ä¸­æœ‰ç‹¬ç«‹çš„ main å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œæ­¤ç±»ï¼Œè¿è¡Œååœ¨æ§åˆ¶å°è¾“å…¥æ•°æ®åº“è¡¨åç§°ï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆ<code>mapperã€serviceã€controllerã€pojo ç±»</code>ï¼ŒèŠ‚çœæ— æ•ˆå¼€å‘çš„æ—¶é—´ã€‚ï¼ˆæœ¬æŠ€æœ¯ä½¿ç”¨çš„æ˜¯ MyBatis-Plus çš„ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ï¼Œå…·ä½“å¯ä»¥å» MyBatis-Plus å®˜ç½‘æŸ¥çœ‹ï¼‰</font></p><p>ğŸ‘†<font size=2>ä»£ç è‡ªåŠ¨ç”Ÿæˆåœ¨é¡¹ç›®ä¸­ä¸ºä¸€ä¸ªå•ç‹¬çš„å­é¡¹ç›®ï¼Œåˆ›å»ºæ–¹å¼ï¼šåœ¨çˆ¶é¡¹ç›®ä¸­åˆ›å»ºç›¸ä¸€ä¸ªMaven é¡¹ç›®ï¼Œç„¶åå…³è”çˆ¶é¡¹ç›®ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="4">4.Swagger2 æ•ˆæœ/å…³é”®ä»£ç </h2><img src="https://files.catbox.moe/kqquye.png" title="pojo å¯¹è±¡" style="width:90%" /><div style="size:2;text-align:center"><a>ğŸ‘†Swagger å¯¹ pojo çš„å±•ç¤º</a></div><img src="https://files.catbox.moe/acui25.png"  style="width:90%"  /><div style="size:13px;text-align:center"><a>ğŸ‘†Swagger å¯¹ Controller æ¥å£çš„å±•ç¤º</a></div><p>ğŸ€ <font size=2>å…·ä½“æ“ä½œå¯ä»¥è®¿é—®<a href="http://110.40.191.51:8081/doc.html">-YebSwaggeræ¥å£æ–‡æ¡£-</a>è‡ªè¡Œå°è¯•</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// Swagger2 é…ç½®æ–‡ä»¶</span><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">ApiInfoBuilder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">PathSelectors</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">RequestHandlerSelectors</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>spi<span class="token punctuation">.</span></span><span class="token class-name">DocumentationType</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>spi<span class="token punctuation">.</span>service<span class="token punctuation">.</span>contexts<span class="token punctuation">.</span></span><span class="token class-name">SecurityContext</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>web<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span></span><span class="token class-name">Docket</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">springfox<span class="token punctuation">.</span>documentation<span class="token punctuation">.</span>swagger2<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">EnableSwagger2</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@EnableSwagger2</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Swagger2Config</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">Docket</span> <span class="token function">createRestApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Docket</span><span class="token punctuation">(</span><span class="token class-name">DocumentationType</span><span class="token punctuation">.</span>SWAGGER_2<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">apis</span><span class="token punctuation">(</span><span class="token class-name">RequestHandlerSelectors</span><span class="token punctuation">.</span><span class="token function">basePackage</span><span class="token punctuation">(</span><span class="token string">"com.jim.server.controller"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">paths</span><span class="token punctuation">(</span><span class="token class-name">PathSelectors</span><span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">securityContexts</span><span class="token punctuation">(</span><span class="token function">securityContexts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">securitySchemes</span><span class="token punctuation">(</span><span class="token function">securitySchemes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">ApiInfo</span> <span class="token function">apiInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ApiInfoBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"äº‘EåŠæ¥å£æ–‡æ¡£"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"äº‘EåŠæ¥å£æ–‡æ¡£"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">contact</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token string">"Jim"</span><span class="token punctuation">,</span><span class="token string">"http://localhost:8081/doc.html"</span><span class="token punctuation">,</span><span class="token string">"1234@qq.com"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">"1.0"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiKey</span><span class="token punctuation">></span></span> <span class="token function">securitySchemes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiKey</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ApiKey</span> apiKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApiKey</span><span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span><span class="token string">"Header"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>apiKey<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SecurityContext</span><span class="token punctuation">></span></span> <span class="token function">securityContexts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// è®¾ç½®éœ€è¦ç™»å½•è®¤è¯çš„è·¯ç¨‹</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SecurityContext</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">getContextByPath</span><span class="token punctuation">(</span><span class="token string">"/hello/.*"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">SecurityContext</span> <span class="token function">getContextByPath</span><span class="token punctuation">(</span><span class="token class-name">String</span> pathRegex<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">SecurityContext</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">securityReferences</span><span class="token punctuation">(</span><span class="token function">defaultAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">forPaths</span><span class="token punctuation">(</span><span class="token class-name">PathSelectors</span><span class="token punctuation">.</span><span class="token function">regex</span><span class="token punctuation">(</span>pathRegex<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SecurityReference</span><span class="token punctuation">></span></span> <span class="token function">defaultAuth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SecurityReference</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">AuthorizationScope</span> authorizationScope <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AuthorizationScope</span><span class="token punctuation">(</span><span class="token string">"global"</span><span class="token punctuation">,</span><span class="token string">"accessEverything"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">AuthorizationScope</span><span class="token punctuation">[</span><span class="token punctuation">]</span> authorizationScopes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AuthorizationScope</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        authorizationScopes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> authorizationScope<span class="token punctuation">;</span>        result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SecurityReference</span><span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span>authorizationScopes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/admin"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AdminController</span> <span class="token punctuation">&#123;</span>      <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"è·å–æ‰€æœ‰æ“ä½œå‘˜"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Admin</span><span class="token punctuation">></span></span> <span class="token function">getAllAdmins</span><span class="token punctuation">(</span><span class="token class-name">String</span> keywords<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> adminService<span class="token punctuation">.</span><span class="token function">getAllAdmins</span><span class="token punctuation">(</span>keywords<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>åœ¨ Controller å±‚ä½¿ç”¨ <code>@ApiOperation(value = &quot;åç§°&quot;</code>) å¯¹æ¥å£è¿›è¡Œå‘½åï¼Œåç§°ä¸ºâ€œåç§°â€ï¼Œå¯ä»¥åœ¨æ¥å£æ–‡æ¡£æŸ¥çœ‹çš„æ—¶å€™çœ‹åˆ°æ­¤åç§°ï¼Œå¦‚æœä¸å†™åˆ™ä»¥æ–¹æ³•åç§°ä¸ºé»˜è®¤åç§°ï¼ˆç±»ä¸Šä¹Ÿå¯ä»¥ç”¨@Api(value=â€åç§°â€)</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"Adminå¯¹è±¡"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">,</span> <span class="token class-name">UserDetails</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>åœ¨ pojo ç±»ä¸­ä½¿ç”¨<code>@ApiModel</code> æ³¨è§£è®© Swagger çŸ¥é“å½“å‰å†…å®¹æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»ï¼Œ<code>value</code>ä¸ºæ¥å£æ–‡æ¡£ä¸­æ˜¾ç¤ºçš„åç§°ï¼Œ<code>description</code>ä¸ºæ¥å£æ–‡æ¡£ä¸­æ˜¾ç¤ºçš„ç®€ä»‹ã€‚</font></p><p><font size=2>ğŸ‘†åœ¨æˆå‘˜å±æ€§ä¸­ç”¨<code>@ApiModelProperty(value = &quot;id&quot;)</code>æ³¨é‡Šæè¿°å±æ€§çš„åå­—ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="5">5.JWT å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>jsonwebtoken<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JwtTokenUtil</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> CLAIM_KEY_USERNAME <span class="token operator">=</span> <span class="token string">"sub"</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> CLAIM_KEY_CREATED <span class="token operator">=</span> <span class="token string">"created"</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.secret&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> secret<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.expiration&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Long</span> expiration<span class="token punctuation">;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: æ ¹æ®ç”¨æˆ·ä¿¡æ¯ç”Ÿæˆ TOKEN     * @Params:  public     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">generateToken</span><span class="token punctuation">(</span><span class="token class-name">UserDetails</span> userDetails<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> claims <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        claims<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>CLAIM_KEY_USERNAME<span class="token punctuation">,</span>userDetails<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        claims<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>CLAIM_KEY_CREATED<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>claims<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">generateToken</span><span class="token punctuation">(</span>claims<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: ä» token ä¸­è·å–ç™»å½•ç”¨æˆ·å     * @Params:      */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUserNameFromToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> username<span class="token punctuation">;</span>        <span class="token comment">// æ ¹æ® token æ‹¿ä¸€ä¸ªè·è½½</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Claims</span> claims <span class="token operator">=</span> <span class="token function">getClaimsFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>            username <span class="token operator">=</span> claims<span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            username <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> username<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: åˆ¤æ–­ token æ˜¯å¦æœ‰æ•ˆ     * @Params:     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">validateToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">,</span><span class="token class-name">UserDetails</span> userDetails<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token function">getUserNameFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> username<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>userDetails<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span> <span class="token function">isTokenExpired</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: åˆ¤æ–­ token æ˜¯å¦å¯ä»¥åˆ·æ–°     * @Params:     */</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">canRefresh</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">isTokenExpired</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: åˆ·æ–° token     * @Params:     */</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">refreshToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Claims</span> claims <span class="token operator">=</span> <span class="token function">getClaimsFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        claims<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>CLAIM_KEY_CREATED<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">generateToken</span><span class="token punctuation">(</span>claims<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: åˆ¤æ–­ token æ˜¯å¦å¤±æ•ˆ     * @Params:     */</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">isTokenExpired</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Date</span> expireDate <span class="token operator">=</span> <span class="token function">getExpiredDateFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> expireDate<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: ä» token ä¸­è·å–è¿‡æœŸæ—¶é—´     * @Params:     */</span>    <span class="token keyword">private</span> <span class="token class-name">Date</span> <span class="token function">getExpiredDateFromToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Claims</span> claims <span class="token operator">=</span> <span class="token function">getClaimsFromToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> claims<span class="token punctuation">.</span><span class="token function">getExpiration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: ä» token ä¸­è·å–è·è½½     * @Params:     */</span>    <span class="token keyword">private</span> <span class="token class-name">Claims</span> <span class="token function">getClaimsFromToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Claims</span> claims <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            claims <span class="token operator">=</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">parser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">setSigningKey</span><span class="token punctuation">(</span>secret<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">parseClaimsJws</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> claims<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: æ ¹æ®è·è½½ç”Ÿæˆ JWT TOKEN     * @Params:      */</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">generateToken</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> claims<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setClaims</span><span class="token punctuation">(</span>claims<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setExpiration</span><span class="token punctuation">(</span><span class="token function">generateExpirationDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">signWith</span><span class="token punctuation">(</span><span class="token class-name">SignatureAlgorithm</span><span class="token punctuation">.</span>HS512<span class="token punctuation">,</span>secret<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">compact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: ç”Ÿæˆ TOKEN å¤±æ•ˆæ—¶é—´     * @Params:     */</span>    <span class="token keyword">private</span> <span class="token class-name">Date</span> <span class="token function">generateExpirationDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>expiration<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>è¯¥ç±»ä¸º JWT çš„ä¸€ä¸ªåŸºæœ¬æ–¹æ³•ç±»ï¼Œä¸»è¦ä½¿ç”¨<code>Jwts.builder()</code>ç”Ÿæˆä¸€ä¸ª tokenï¼Œtoken ä¸­åŒ…å«ä¸€ä¸ªç”¨æˆ·åä¸åˆ›å»ºæ—¶é—´ï¼Œåç»­ï¼Œå‰ç«¯è®¿é—®åä¼šå°†è¯¥ token å­˜å‚¨åœ¨ windows.session ä¸­ï¼ˆä¹Ÿå°±æ˜¯ httpsession)ä¸­ï¼Œæ¯æ¬¡è®¿é—®åç«¯éƒ½ä¼šæºå¸¦è¯¥ sessionï¼Œåç«¯å¾—åˆ° session ä¹Ÿå°±å¾—åˆ°äº† tokenï¼Œå¯ä»¥è§£æå‡º username ä¸ Dateï¼Œä»¥æ­¤æ¥åˆ¤æ–­è¯¥ç”¨æˆ·æ˜¯å¦ç™»å½•ã€ç™»å½•æ˜¯å¦è¿‡æœŸã€‚</font></p><p>ğŸ‘†<font size=2>é¡ºä¾¿ä¸€æï¼Œé€€å‡ºç™»å½•åç«¯ä¸è¿›è¡Œä»»ä½•æ“ä½œï¼Œä»…è¿”å›ä¸€ä¸ªæˆåŠŸç 200ï¼Œå‰ç«¯å¾—åˆ°æˆåŠŸç ååˆ é™¤å‰ç«¯å­˜å‚¨çš„ session å°±å¯ä»¥äº†ï¼Œå†æ¬¡ä½¿ç”¨å°±ä¼šæé†’ä½ è¦ç™»å½•äº†ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span></span><span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SecurityContextHolder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetailsService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span></span><span class="token class-name">WebAuthenticationDetailsSource</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span><span class="token class-name">OncePerRequestFilter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">FilterChain</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JwtAuthencationTokenFilter</span> <span class="token keyword">extends</span> <span class="token class-name">OncePerRequestFilter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.tokenHeader&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> tokenHeader<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.tokenHead&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> tokenHead<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">JwtTokenUtil</span> jwtTokenUtil<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">UserDetailsService</span> userDetailsService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doFilterInternal</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> authHeader <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span>tokenHeader<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å­˜åœ¨ token</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> authHeader <span class="token operator">&amp;&amp;</span> authHeader<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>tokenHead<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> authToken <span class="token operator">=</span> authHeader<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>tokenHead<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">String</span> username <span class="token operator">=</span> jwtTokenUtil<span class="token punctuation">.</span><span class="token function">getUserNameFromToken</span><span class="token punctuation">(</span>authToken<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// token å­˜åœ¨ç”¨æˆ·åä½†æ˜¯æœªç™»å½•</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> username <span class="token operator">&amp;&amp;</span> <span class="token keyword">null</span> <span class="token operator">==</span> <span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAuthentication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span> userDetailsService<span class="token punctuation">.</span><span class="token function">loadUserByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>jwtTokenUtil<span class="token punctuation">.</span><span class="token function">validateToken</span><span class="token punctuation">(</span>authToken<span class="token punctuation">,</span>userDetails<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token class-name">UsernamePasswordAuthenticationToken</span> authenticationToken <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">(</span>userDetails<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span>userDetails<span class="token punctuation">.</span><span class="token function">getAuthorities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    authenticationToken<span class="token punctuation">.</span><span class="token function">setDetails</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebAuthenticationDetailsSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">buildDetails</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAuthentication</span><span class="token punctuation">(</span>authenticationToken<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ€<font size=2>è¿˜ç”¨åˆ°äº†ä¸€äº›ç›¸å…³çš„è¿‡æ»¤å™¨ï¼Œå¯ä»¥ä¸‹è½½æºç åæŸ¥çœ‹ã€‚</font></p><hr><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="6">6.Kaptcha å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>code<span class="token punctuation">.</span>kaptcha<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">DefaultKaptcha</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>code<span class="token punctuation">.</span>kaptcha<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span><span class="token punctuation">;</span><span class="token comment">/** * éªŒè¯ç é…ç½®ç±» * @author Jim * @since 1.0.0 */</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CaptchaConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">DefaultKaptcha</span> <span class="token function">defaultKaptcha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//éªŒè¯ç ç”Ÿæˆå™¨</span>        <span class="token class-name">DefaultKaptcha</span> defaultKaptcha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultKaptcha</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//é…ç½®</span>        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ˜¯å¦æœ‰è¾¹æ¡†</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.border"</span><span class="token punctuation">,</span> <span class="token string">"yes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®è¾¹æ¡†é¢œè‰²</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.border.color"</span><span class="token punctuation">,</span> <span class="token string">"105,179,90"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¾¹æ¡†ç²—ç»†åº¦ï¼Œé»˜è®¤ä¸º1</span>        <span class="token comment">// properties.setProperty("kaptcha.border.thickness","1");</span>        <span class="token comment">//éªŒè¯ç </span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.session.key"</span><span class="token punctuation">,</span><span class="token string">"code"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ç æ–‡æœ¬å­—ç¬¦é¢œè‰² é»˜è®¤ä¸ºé»‘è‰²</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.font.color"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è®¾ç½®å­—ä½“æ ·å¼</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.font.names"</span><span class="token punctuation">,</span> <span class="token string">"å®‹ä½“,æ¥·ä½“,å¾®è½¯é›…é»‘"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å­—ä½“å¤§å°ï¼Œé»˜è®¤40</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.font.size"</span><span class="token punctuation">,</span> <span class="token string">"30"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ç æ–‡æœ¬å­—ç¬¦å†…å®¹èŒƒå›´ é»˜è®¤ä¸ºabced2345678gfynmnpwx</span>        <span class="token comment">// properties.setProperty("kaptcha.textproducer.char.string", "");</span>        <span class="token comment">//å­—ç¬¦é•¿åº¦ï¼Œé»˜è®¤ä¸º5</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.char.length"</span><span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å­—ç¬¦é—´è· é»˜è®¤ä¸º2</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.textproducer.char.space"</span><span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ç å›¾ç‰‡å®½åº¦ é»˜è®¤ä¸º200</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.image.width"</span><span class="token punctuation">,</span> <span class="token string">"100"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ç å›¾ç‰‡é«˜åº¦ é»˜è®¤ä¸º40</span>        properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"kaptcha.image.height"</span><span class="token punctuation">,</span> <span class="token string">"40"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Config</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Config</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>        defaultKaptcha<span class="token punctuation">.</span><span class="token function">setConfig</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> defaultKaptcha<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ä»¥ä¸Šä¸º <code>Kaptcha</code> çš„é…ç½®ç±»ï¼Œä¸»è¦æ“ä½œä¸ºåˆ›å»ºä¸€ä¸ª<code>DefaultKaptcha</code>å¯¹è±¡ï¼Œå¹¶å¯¹å¯¹è±¡è¿›è¡Œé…ç½®ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>google<span class="token punctuation">.</span>code<span class="token punctuation">.</span>kaptcha<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">DefaultKaptcha</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiOperation</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>imageio<span class="token punctuation">.</span></span><span class="token class-name">ImageIO</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletOutputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span>image<span class="token punctuation">.</span></span><span class="token class-name">BufferedImage</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token comment">/** * éªŒè¯ç  * * @author zhoubin * @since 1.0.0 */</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CaptchaController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">DefaultKaptcha</span> defaultKaptcha<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"éªŒè¯ç "</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/captcha"</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token string">"image/jpeg"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">captcha</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// å®šä¹‰responseè¾“å‡ºç±»å‹ä¸ºimage/jpegç±»å‹</span>        response<span class="token punctuation">.</span><span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token string">"Expires"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// Set standard HTTP/1.1 no-cache headers.</span>        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Cache-Control"</span><span class="token punctuation">,</span> <span class="token string">"no-store, no-cache, must-revalidate"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// Set IE extended HTTP/1.1 no-cache headers (use addHeader).</span>        response<span class="token punctuation">.</span><span class="token function">addHeader</span><span class="token punctuation">(</span><span class="token string">"Cache-Control"</span><span class="token punctuation">,</span> <span class="token string">"post-check=0, pre-check=0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// Set standard HTTP/1.0 no-cache header.</span>        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Pragma"</span><span class="token punctuation">,</span> <span class="token string">"no-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// return a jpeg</span>        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"image/jpeg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//-------------------ç”ŸæˆéªŒè¯ç  begin --------------------------</span>        <span class="token comment">//è·å–éªŒè¯ç æ–‡æœ¬å†…å®¹</span>        <span class="token class-name">String</span> text <span class="token operator">=</span> defaultKaptcha<span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"éªŒè¯ç å†…å®¹ï¼š"</span><span class="token operator">+</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å°†éªŒè¯ç æ–‡æœ¬å†…å®¹æ”¾å…¥session</span>        request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"captcha"</span><span class="token punctuation">,</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ ¹æ®æ–‡æœ¬éªŒè¯ç å†…å®¹åˆ›å»ºå›¾å½¢éªŒè¯ç </span>        <span class="token class-name">BufferedImage</span> image <span class="token operator">=</span> defaultKaptcha<span class="token punctuation">.</span><span class="token function">createImage</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ServletOutputStream</span> outputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            outputStream <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è¾“å‡ºæµè¾“å‡ºå›¾ç‰‡ï¼Œæ ¼å¼ä¸ºjpg</span>            <span class="token class-name">ImageIO</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token string">"jpg"</span><span class="token punctuation">,</span>outputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>            outputStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span><span class="token operator">!=</span>outputStream<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                    outputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//-------------------ç”ŸæˆéªŒè¯ç  end --------------------------</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>Controller è·å–ä¸€ä¸ªéªŒè¯ç ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">RespBean</span> login <span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">AdminLoginParam</span> adminLoginParam<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> adminService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>adminLoginParam<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>adminLoginParam<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>adminLoginParam<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ç™»å½•æ¥å£ï¼ŒéªŒè¯ç”¨æˆ·åã€å¯†ç ã€éªŒè¯ç ã€‚</font></p><p>ğŸ€<font size=2>è¯·æ³¨æ„ï¼Œå½“ä¸¤ä¸ªç”¨æˆ·åŒæ—¶ç™»å½•çš„æ—¶å€™ï¼Œåç«¯ä¼šç”Ÿæˆä¸¤ä¸ªéªŒè¯ç ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯æˆ‘è‹¥æ˜¯ä¹±è¾“å…¥ï¼Œè¾“äº†å…¶ä»–ç”¨æˆ·çš„éªŒè¯ç ä¹Ÿä¼šç”Ÿæ•ˆå‘¢ï¼Ÿè¿™å½“ç„¶æ˜¯ä¸å¯èƒ½çš„ï¼Œå¦‚ä½•åˆ¤æ–­ A è¾“å…¥çš„éªŒè¯ç å°±æ˜¯åå°ä¸º A ç”Ÿæˆçš„éªŒè¯ç ï¼ˆè€Œä¸æ˜¯ä¸ºå…¶ä»–ç”¨æˆ·ç”Ÿæˆçš„éªŒè¯ç ï¼‰å‘¢ï¼Ÿå…¶å®åœ¨è·å–éªŒè¯ç çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯å•çº¯åœ°ä»…è¿”å›äº†ä¸€ä¸ªå›¾ç‰‡ï¼Œè€Œæ˜¯å°†éªŒè¯ç çš„å†…å®¹æ”¾åœ¨äº†HttpServletRequestä¸­ï¼Œç™»é™†çš„æ—¶å€™ï¼Œä¼šå¸¦ç€HttpServletRequestå†å›æ¥ï¼Œè¿™æ ·å°±å¯ä»¥ç¡®å®šè¯¥ç”¨æˆ·çš„éªŒè¯ç æ˜¯å¤šå°‘ï¼Œæ‰§è¡Œç™»å½•çš„æ—¶å€™ï¼Œåˆ™ä¼šåˆ¤æ–­ request ä¸­çš„éªŒè¯ç ä¸ç”¨æˆ·è¾“å…¥çš„éªŒè¯ç æ˜¯å¦ä¸€è‡´ï¼Œå…·ä½“å¯ä»¥ä¸‹è½½æºç åæŸ¥çœ‹ LoginServiceã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="7">7.Redis å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>lettuce<span class="token punctuation">.</span></span><span class="token class-name">LettuceConnectionFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">GenericJackson2JsonRedisSerializer</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>serializer<span class="token punctuation">.</span></span><span class="token class-name">StringRedisSerializer</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">redisTemplate</span><span class="token punctuation">(</span><span class="token class-name">LettuceConnectionFactory</span> connectionFactory<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> template <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setKeySerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setValueSerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GenericJackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setHashKeySerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setValueSerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GenericJackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        template<span class="token punctuation">.</span><span class="token function">setConnectionFactory</span><span class="token punctuation">(</span>connectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> template<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>é…ç½® Redis</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>toolkit<span class="token punctuation">.</span></span><span class="token class-name">CollectionUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">ServiceImpl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">AdminUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">MenuMapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Menu</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IMenuService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RedisTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">ValueOperations</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token comment">/** * &lt;p> *  æœåŠ¡å®ç°ç±» * &lt;/p> * * @author jim * @since 2022-05-11 */</span><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MenuServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MenuMapper</span><span class="token punctuation">,</span> <span class="token class-name">Menu</span><span class="token punctuation">></span></span> <span class="token keyword">implements</span> <span class="token class-name">IMenuService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">MenuMapper</span> menuMapper<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: æ ¹æ®ç”¨æˆ·id æŸ¥è¯¢èœå•åˆ—è¡¨     * @Params:     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Menu</span><span class="token punctuation">></span></span> <span class="token function">getMenuByAdminId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Integer</span> adminId <span class="token operator">=</span> <span class="token class-name">AdminUtils</span><span class="token punctuation">.</span><span class="token function">getCurrentAdmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ValueOperations</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> valueOperations <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Menu</span><span class="token punctuation">></span></span> menus <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Menu</span><span class="token punctuation">></span></span><span class="token punctuation">)</span> valueOperations<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"menu_"</span><span class="token operator">+</span>adminId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">CollectionUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>menus<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            menus <span class="token operator">=</span> menuMapper<span class="token punctuation">.</span><span class="token function">getMenusByAdminId</span><span class="token punctuation">(</span>adminId<span class="token punctuation">)</span><span class="token punctuation">;</span>            valueOperations<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"menu_"</span><span class="token operator">+</span>adminId<span class="token punctuation">,</span>menus<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> menus<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ç”¨æˆ·ç™»å½•åä¼šè·å– menu èœå•ï¼Œä¸ºäº†é˜²æ­¢åå¤æ¸²æŸ“é€ æˆæ•°æ®åº“ååé‡è¾ƒå¤§ï¼Œå› æ­¤æ¯æ¬¡ç”¨æˆ·è·å– menu æ—¶ä¼šç°åœ¨ Redis ä¸­å¯»æ‰¾<code>&quot;menu_&quot;+adminId</code>å¦‚æœæœ‰åˆ™ç›´æ¥ä» Redis ä¸­è·å–ï¼Œå¦åˆ™å°±ä»æ•°æ®åº“ä¸­è¯»å–å¹¶å­˜å‚¨åœ¨ Redis ä¸­ï¼Œå­˜å‚¨åç§°ä¾æ—§æ˜¯<code>&quot;menu_&quot;+adminId</code>ï¼ˆå¾—åšåˆ°ä¸€è‡´å˜›ï¼Œä¸ç„¶å­˜å‚¨å’Œè¯»å–ä¸ä¸€è‡´ï¼Œä½ æ€ä¹ˆå­˜éƒ½è¯»å–ä¸åˆ°ï¼‰ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="8">8.EasyPOI å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.afterturn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>easypoi-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.1.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>Maven ä¾èµ–</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>afterturn<span class="token punctuation">.</span>easypoi<span class="token punctuation">.</span>excel<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Excel</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>afterturn<span class="token punctuation">.</span>easypoi<span class="token punctuation">.</span>excel<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ExcelEntity</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">IdType</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">TableField</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">TableId</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">TableName</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModel</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModelProperty</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">EqualsAndHashCode</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>experimental<span class="token punctuation">.</span></span><span class="token class-name">Accessors</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDate</span><span class="token punctuation">;</span><span class="token comment">/** * &lt;p> *  * &lt;/p> * * @author jim * @since 2022-05-11 */</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>callSuper <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Accessors</span><span class="token punctuation">(</span>chain <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">"t_employee"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"Employeeå¯¹è±¡"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"å‘˜å·¥ç¼–å·"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"å‘˜å·¥å§“å"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Excel</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"å‘˜å·¥å§“å"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>  <span class="token comment">// ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œè¿™é‡Œçœç•¥äº†å¾ˆå¤šä»£ç ï¼ˆæ³¨è§£éƒ½è·Ÿã€å‘˜å·¥å§“åã€‘æ˜¯ä¸€æ ·çš„ï¼‰</span>       <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"æ°‘æ—"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>exist <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@ExcelEntity</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"æ°‘æ—"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Nation</span> nation<span class="token punctuation">;</span>    <span class="token comment">// ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œè¿™é‡Œçœç•¥äº†å¾ˆå¤šä»£ç ï¼ˆæ³¨è§£éƒ½è·Ÿã€æ°‘æ—ã€‘æ˜¯ä¸€æ ·çš„ï¼‰</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"å·¥èµ„è´¦å¥—"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span>exist <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Salary</span> salary<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œå…·ä½“æ³¨è§£çœ‹ä¸‹æ–¹è¡¨æ ¼</font></p><table><thead><tr><th>æ³¨è§£</th><th>ç”¨é€”</th><th>ä½¿ç”¨ä½ç½®</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>@TableName(â€œt_employeeâ€)</td><td>å¯¹åº”å“ªä¸€å¼ æ•°æ®åº“è¡¨</td><td>ç±»</td><td></td></tr><tr><td>@Excel(name=â€å·¥é¾„â€)</td><td>å¯¼å…¥å¯¼å‡ºæ—¶çºµåæ ‡çš„æ ‡é¢˜åå­—ï¼ˆä¹Ÿå°±æ˜¯â€œå§“åã€å¹´é¾„â€é‚£ä¸€äº›ä¸œè¥¿ï¼‰</td><td>æˆå‘˜å±æ€§</td><td></td></tr><tr><td>@TableField(exist = false)</td><td>æ•°æ®åº“ä¸­ä¸å­˜åœ¨ï¼Œæ˜¯å…¶ä»–çš„å®ä½“ç±»ã€‚</td><td>æˆå‘˜å±æ€§</td><td></td></tr><tr><td>@ExcelEntity(name=â€èŒä½â€)</td><td>ä¸<code>@Excel</code>ä¸€æ ·ï¼Œä½†æ˜¯è¿™ä¸ªç”¨äºæ³¨é‡Šæ•°æ®åº“ä¸­æ²¡æœ‰ï¼Œè¯¥ pojo ä¸­å¼•ç”¨äº†å…¶ä»–çš„ pojo ç±»ã€‚</td><td>æˆå‘˜å±æ€§</td><td></td></tr></tbody></table><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token annotation punctuation">@RequiredArgsConstructor</span><span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>callSuper <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>of <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">"t_nation"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"Nationå¯¹è±¡"</span><span class="token punctuation">,</span> description<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Nation</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"æ°‘æ—"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Excel</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"æ°‘æ—"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@NonNull</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ€<font size=2><font color=red>æ³¨æ„ï¼š</font>å¯ä»¥çœ‹åˆ°ï¼Œç”±äºEmployee æ•°æ®åº“è¡¨ä¸­å¹¶æ²¡æœ‰Nationä½†æ˜¯å¯¼å‡ºçš„æ—¶å€™æœ‰éœ€è¦ç”¨åˆ° <code>Nation.name</code>å› æ­¤ï¼Œåœ¨ Employee çš„æˆå‘˜å±æ€§ Nation ä¸­å¹¶ä¸æ˜¯<code>@Excel</code>è€Œæ˜¯<code>@ExcelEntity</code>ï¼Œç„¶åå†åœ¨ Nation ç±»ä¸­çš„ name ä¸Šå†™ä¸€ä¸‹<code>@Excel</code>ï¼Œè¿™æ ·æ‰§è¡Œå¯¼å…¥å¯¼å‡ºçš„æ—¶å€™ï¼Œè¯»å–åˆ° Nation æ—¶ï¼Œå°±ä¼šå»å¯»æ‰¾ Nation è¿™ä¸ª pojo ç±»ï¼Œç„¶åå†åœ¨ Nation ä¸­æ‰¾<code>@Excel</code>ä¸‹çš„æˆå‘˜æ–¹æ³•ã€‚</font></p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="9">9.RabbitMQ å…³é”®ä»£ç </h2><h2 id="9.1">æ¶ˆæ¯å‘é€ç«¯</h2><p>ğŸ€æ³¨æ„ï¼šè¿™é‡Œçš„â€œæ¶ˆæ¯å‘é€â€å¹¶ä¸æ˜¯æŒ‡ â€œæˆ‘ç»™ä½ å‘é€ä¸€ä¸ªæ¶ˆæ¯â€ï¼Œè€Œæ˜¯â€œæˆ‘ç»™ RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—å‘é€ä¸€ä¸ªæ¶ˆæ¯â€ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>conditions<span class="token punctuation">.</span>update<span class="token punctuation">.</span></span><span class="token class-name">UpdateWrapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">MailConstants</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">MailLog</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IMailLogService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Binding</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">BindingBuilder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">DirectExchange</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Queue</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span><span class="token class-name">CachingConnectionFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RabbitTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token comment">/** * @author Jim * @Description rabbitmqé…ç½® * @createTime 2022å¹´05æœˆ24æ—¥ */</span><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RabbitMQConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">CachingConnectionFactory</span> cachingConnectionFactory<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">IMailLogService</span> mailLogService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">RabbitTemplate</span> <span class="token function">rabbitTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">RabbitTemplate</span> rabbitTemplate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RabbitTemplate</span><span class="token punctuation">(</span>cachingConnectionFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">/**         * æ¶ˆæ¯ç¡®è®¤æ¯æ‰ï¼Œç¡®è®¤æ¶ˆæ¯æ˜¯å¦åˆ°è¾¾ borker         * data: æ¶ˆæ¯å”¯ä¸€æ ‡è¯†         * ackï¼š ç¡®è®¤ç»“æœ         * causeï¼šå¤±è´¥åŸå›           */</span>        rabbitTemplate<span class="token punctuation">.</span><span class="token function">setConfirmCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>ack<span class="token punctuation">,</span>cause<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> msgId <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>ack<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"suc1-- &#123;&#125;========>æ¶ˆæ¯å‘é€æˆåŠŸ"</span><span class="token punctuation">,</span>msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>                mailLogService<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UpdateWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MailLog</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"msgId"</span><span class="token punctuation">,</span>msgId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>                log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"err1-- &#123;&#125;========>æ¶ˆæ¯å‘é€å¤±è´¥"</span><span class="token punctuation">,</span>msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">/**         * æ¶ˆæ¯å¤±è´¥å›è°ƒ         * msgï¼š æ¶ˆæ¯ä¸»é¢˜         * repCodeï¼šå“åº”ç          * repTextï¼šå“åº”æ–‡æœ¬         * exchangeï¼šäº¤æ¢æœº         * routingkeyï¼šè·¯ç”±é”®         */</span>        rabbitTemplate<span class="token punctuation">.</span><span class="token function">setReturnCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span>repCode<span class="token punctuation">,</span>repText<span class="token punctuation">,</span>exchange<span class="token punctuation">,</span>routingkey<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"err2-- &#123;&#125;========>æ¶ˆæ¯å‘é€queueæ—¶å¤±è´¥"</span><span class="token punctuation">,</span>msg<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> rabbitTemplate<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">Queue</span> <span class="token function">queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_QUEUE_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">DirectExchange</span> <span class="token function">directExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DirectExchange</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_EXCHANGE_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">Binding</span> <span class="token function">binding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">BindingBuilder</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token function">queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token function">directExchange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_ROUTING_KEY_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>ä»¥ä¸Šå†…å®¹ä¸ºRabbitMQ çš„é…ç½®æ–‡ä»¶</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>conditions<span class="token punctuation">.</span>query<span class="token punctuation">.</span></span><span class="token class-name">QueryWrapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>metadata<span class="token punctuation">.</span></span><span class="token class-name">IPage</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>pagination<span class="token punctuation">.</span></span><span class="token class-name">Page</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">ServiceImpl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">MailLogMapper</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IEmployeeService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>connection<span class="token punctuation">.</span></span><span class="token class-name">CorrelationData</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>amqp<span class="token punctuation">.</span>rabbit<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">RabbitTemplate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">DecimalFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDate</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>temporal<span class="token punctuation">.</span></span><span class="token class-name">ChronoUnit</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>UUID<span class="token punctuation">;</span><span class="token comment">/** * &lt;p> *  æœåŠ¡å®ç°ç±» * &lt;/p> * * @author jim * @since 2022-05-11 */</span><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EmployeeServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">,</span> <span class="token class-name">Employee</span><span class="token punctuation">></span></span> <span class="token keyword">implements</span> <span class="token class-name">IEmployeeService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">EmployeeMapper</span> employeeMapper<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RabbitTemplate</span> rabbitTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">MailLogMapper</span> mailLogMapper<span class="token punctuation">;</span>  <span class="token comment">// æ·»åŠ å‘˜å·¥å¹¶å‘é€é‚®ä»¶</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">RespBean</span> <span class="token function">addEmp</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> employee<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å¤„ç†åˆåŒæœŸé™ï¼ˆä¿ç•™ä¸¤ä½å°æ•°ï¼‰</span>        <span class="token class-name">LocalDate</span> beginContract <span class="token operator">=</span> employee<span class="token punctuation">.</span><span class="token function">getBeginContract</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">LocalDate</span> endContract <span class="token operator">=</span> employee<span class="token punctuation">.</span><span class="token function">getEndContract</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> days <span class="token operator">=</span> beginContract<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>endContract<span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span>DAYS<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">DecimalFormat</span> decimalFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"##.00"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        employee<span class="token punctuation">.</span><span class="token function">setContractTerm</span><span class="token punctuation">(</span><span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>decimalFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>days<span class="token operator">/</span><span class="token number">365.00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> employeeMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">Employee</span> emp <span class="token operator">=</span> employeeMapper<span class="token punctuation">.</span><span class="token function">getEmployee</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// æ•°æ®åº“ä¸­è®°å½•æ¶ˆæ¯</span>            <span class="token class-name">String</span> msgId <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">MailLog</span> mailLog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MailLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setMsgId</span><span class="token punctuation">(</span>msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setEid</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setRouteKey</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_ROUTING_KEY_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setExchange</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_EXCHANGE_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setTryTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">plusMinutes</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MSG_TIMEOUT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setCreateTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLog<span class="token punctuation">.</span><span class="token function">setUpdateTime</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            mailLogMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>mailLog<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// å‘é€ä¿¡æ¯</span>            rabbitTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_EXCHANGE_NAME<span class="token punctuation">,</span><span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_ROUTING_KEY_NAME<span class="token punctuation">,</span>emp<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">CorrelationData</span><span class="token punctuation">(</span>msgId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token class-name">RespBean</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">"æ·»åŠ æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">RespBean</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"æ·»åŠ å¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>æ’å…¥å‘˜å·¥çš„åŒæ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªé‚®ä»¶æ—¥å¿—å¯¹è±¡<code>MailLog</code>ï¼Œå¹¶å°†è¯¥å¯¹è±¡æ’å…¥åˆ°æ•°æ®åº“ä¸­ï¼Œç„¶åè°ƒç”¨<code>rabbitTemplate.convertAndSend()</code>æ–¹æ³•</font></p><p>ğŸ‘†<font size=2>ä»”ç»†æ¨æ•²ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•çš„è¯ï¼Œå¯ä»¥å‘ç°è¿™å¹¶ä¸æ˜¯æ‰§è¡Œäº†ä¸€æ¬¡â€˜å‘é€â€™ï¼Œè€Œæ˜¯æ‰§è¡Œäº†ä¸€æ¬¡å†™å…¥ï¼Œè¿™ä¸¤è€…ä¹‹é—´è¿˜æ˜¯æœ‰äº›åŒºåˆ«çš„ï¼›æˆ‘ç»™ä½ â€œå‘é€â€ä¸€å°é‚®ä»¶ï¼Œä½ ä¼šæ”¶åˆ°è¿™å°é‚®ä»¶ï¼Œä½†æ˜¯æˆ‘å°†ä¸€å°é‚®ä»¶æ‰§è¡Œäº†ä¸€æ¬¡â€œå†™å…¥â€ï¼Œé‚£ä¹ˆä»–è¿˜æ˜¯åœ¨æˆ‘æœ¬åœ°çš„ç”µè„‘ä¸­ï¼Œå¹¶æ²¡æœ‰å‘ç»™ä½ ã€‚</font></p><p>ğŸ‘†<font size=2>è‡³äºè¿™ä¸ªé‚®ä»¶å†™å…¥åˆ°äº†å“ªé‡Œäº†å‘¢ï¼Ÿé‚£å½“ç„¶æ˜¯ RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå…³äº RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—çš„è¯¦ç»†ä¿¡æ¯å¯ä»¥æŸ¥çœ‹<a href="https://www.rabbitmq.com/">å®˜ç½‘</a>ï¼Œä¸‹è½½å®‰è£…å¯ä»¥æŸ¥çœ‹<a href="https://blog.csdn.net/weixin_40584261/article/details/106826044">è¯¥åšå®¢</a>ã€‚ç”± RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—æ”¶åˆ°äº†è¿™å°é‚®ä»¶çš„ä¿¡æ¯ä¹‹åï¼Œæ¶ˆæ¯ä¼šå­˜å‚¨åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œéšåé€šè¿‡å…¶ä»–çš„é¡¹ç›®å»ç›‘å¬ RabbitMQ ä¸­çš„å†…å®¹ï¼Œåªè¦æ¶ˆæ¯é˜Ÿåˆ—é‡Œé¢æœ‰äº†æ–°çš„æ¶ˆæ¯ï¼Œé‚£ä¹ˆæˆ‘å°±æ‰§è¡Œä¸€æ¬¡å‘é€æ¶ˆæ¯ï¼ˆè¿™é‡Œä½¿ç”¨çš„æ˜¯<a href="#Java-Mail å…³é”®ä»£ç ">Java-Mail</a>ï¼‰</font>ã€‚</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><h2 id="9.2">ğŸ‘‡ä»¥ä¸‹å†…å®¹åŒ…å«ï¼šRabbitMQ ç›‘å¬ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªä¸ yeb-server åŒçº§çš„é¡¹ç›®ï¼Œè¿è¡Œç«¯å£æ˜¯ 8082</h2><p>ğŸ€æ³¨æ„ï¼šè¿™é‡Œæ˜¯æ¶ˆæ¯æ¥æ”¶ç«¯ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯â€œæˆ‘æ¥æ”¶ä½ çš„æ¶ˆæ¯â€ï¼Œè€Œæ˜¯â€œæˆ‘æ¥æ”¶ RabbitMQ çš„æ¶ˆæ¯â€</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>mail<span class="token punctuation">.</span>mail</span><span class="token punctuation">;</span><span class="token comment">/** * @author Jim * @Description æ¥æ”¶é‚®ä»¶ * @createTime 2022å¹´05æœˆ24æ—¥ */</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MailReceiver</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * author Jim     * ç«¯å£ç›‘å¬     */</span>    <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_QUEUE_NAME<span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token class-name">Message</span> message<span class="token punctuation">,</span> <span class="token class-name">Channel</span> channel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Message:"</span><span class="token operator">+</span>message<span class="token operator">+</span><span class="token string">"\nChannel"</span><span class="token operator">+</span>channel<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†<font size=2>è¿™ä¸ªæ–¹æ³•å…¶å®å¾ˆç®€å•ï¼Œï¼ˆå¹¶ä¸æ˜¯åŸé¡¹ç›®ä¸­çš„æ–¹æ³•ï¼Œæˆ‘åˆ é™¤äº†å¤§éƒ¨åˆ†å…³äº Java-Mail çš„ï¼Œæ”¾åœ¨ä¸‹é¢çš„éƒ¨åˆ†ï¼‰ï¼Œå½“ RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—ä¸­æœ‰äº†æ–°çš„æ¶ˆæ¯çš„æ—¶å€™ï¼Œ<code>@RabbitListener</code>å°±ä¼šç›‘å¬åˆ°ï¼Œæ³¨æ„æˆ‘ä»¬åœ¨ä¸Šé¢äº›æ¶ˆæ¯é˜Ÿåˆ—çš„æ—¶å€™ï¼Œç”¨çš„ queue ä¸æ­¤å¤„ç›‘å¬çš„ queue ä¸€å®šè¦ä¸€è‡´ï¼Œç›‘å¬åˆ°æ¶ˆæ¯åè·å–ä¸€ä¸ª message ä»¥åŠä¸€ä¸ªchannelï¼Œéšåè¾“å‡º message ä¸ channelã€‚</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br><br></p><h2 id="10">10.Java-Mail å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">    <span class="token annotation punctuation">@RabbitListener</span><span class="token punctuation">(</span>queues <span class="token operator">=</span> <span class="token class-name">MailConstants</span><span class="token punctuation">.</span>MAIL_QUEUE_NAME<span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token class-name">Message</span> message<span class="token punctuation">,</span> <span class="token class-name">Channel</span> channel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Employee</span> employee <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span><span class="token punctuation">)</span> message<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MailReceiver:  employee = "</span> <span class="token operator">+</span> employee<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">MessageHeaders</span> headers <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> tag <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">AmqpHeaders</span><span class="token punctuation">.</span>DELIVERY_TAG<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"tag = "</span> <span class="token operator">+</span> tag<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> msgId <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> headers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"spring_returned_message_correlation"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"msgId = "</span> <span class="token operator">+</span> msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HashOperations</span> hash <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token string">"mail_log"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>msgId<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//redisä¸­åŒ…å«keyï¼Œè¯´æ˜æ¶ˆæ¯å·²ç»è¢«æ¶ˆè´¹</span>                logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆæ¯å·²ç»è¢«æ¶ˆè´¹========>&#123;&#125;"</span><span class="token punctuation">,</span> msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">/**                 * æ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯                 * tag:æ¶ˆæ¯åºå·                 * multiple:æ˜¯å¦å¤šæ¡                 */</span>                channel<span class="token punctuation">.</span><span class="token function">basicAck</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">MimeMessage</span> msg <span class="token operator">=</span> javaMailSender<span class="token punctuation">.</span><span class="token function">createMimeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">MimeMessageHelper</span> helper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MimeMessageHelper</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span>mailProperties<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setTo</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token string">"å…¥èŒé‚®ä»¶"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setSentDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Context</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Context</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            context<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            context<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"posName"</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span><span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            context<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"joblevelName"</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span><span class="token function">getJoblevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            context<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"departmentName"</span><span class="token punctuation">,</span> employee<span class="token punctuation">.</span><span class="token function">getDepartment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">String</span> mail <span class="token operator">=</span> templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">"mail"</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mail<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å‘é€é‚®ä»¶</span>            javaMailSender<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"é‚®ä»¶å‘é€æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å°†æ¶ˆæ¯idå­˜å…¥redis</span>            hash<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"mail_log"</span><span class="token punctuation">,</span> msgId<span class="token punctuation">,</span> <span class="token string">"OK"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MailReceiver: redis---> msgId = "</span> <span class="token operator">+</span> msgId<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//æ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯</span>            channel<span class="token punctuation">.</span><span class="token function">basicAck</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                channel<span class="token punctuation">.</span><span class="token function">basicNack</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ioException<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//ioException.printStackTrace();</span>                logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆæ¯ç¡®è®¤å¤±è´¥=====>&#123;&#125;"</span><span class="token punctuation">,</span> ioException<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"MailReceiver + é‚®ä»¶å‘é€å¤±è´¥========&#123;&#125;"</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><br><h2 id="10.1">@Scheduled å…³é”®ä»£ç </h2><p>ğŸªµ ç”±äºæˆ‘ä»¬æ‰§è¡Œå‘é€é‚®ä»¶çš„æ—¶å€™ï¼Œä¸ä¸€å®šå¯ä»¥ä¸€æ¬¡æ€§å‘é€æˆåŠŸï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘å°±ä¸å‘äº†ï¼Ÿé‚£ä¸å¤ªåˆé€‚å§ï¼›æˆ‘ä¸€ç›´å°è¯•å‘é€ï¼Œä¹Ÿä¸å¤ªåˆé€‚ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨<code>@Scheduled</code>æ³¨è§£ï¼Œè®©ä¸€ä¸ªæ–¹æ³•æ¯éš”ä¸€æ®µæ—¶é—´æ‰«æä¸€æ¬¡ MailLog æ•°æ®åº“è¡¨ï¼Œå¦‚æœé‡Œé¢æœ‰çŠ¶æ€ä¸ºâ€˜æ­£åœ¨å‘é€â€™çš„ï¼Œé‚£å°±é‡æ–°å‘é€ä¸€æ¬¡ï¼Œå¦‚æœè¶…è¿‡ä¸‰æ¬¡éƒ½å¤±è´¥äº†ï¼Œå°±å°†çŠ¶æ€æ ‡è®°ä¸ºâ€˜å‘é€å¤±è´¥â€™ã€‚</p><p><font color=darkgray size=2>ä¸ºäº†ç®€åŒ–é˜…è¯»ï¼Œè¿™é‡Œå°†æ–¹æ³•ä¿®æ”¹ä¸ºï¼šæ¯éš”åç§’è¾“å‡ºä¸€æ¬¡â€œæˆ‘å¾ªç¯äº†â€¦â€,å…·ä½“ä»£ç å¯ä»¥ç§»æ­¥è‡³<a href="https://github.com/Jimecc">æˆ‘çš„ GitHub</a> æŸ¥çœ‹ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">"0/10 * * * * ?"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mailTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æˆ‘å¾ªç¯äº†...."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ€ <font color=red size=2>æ³¨æ„ï¼šè¦åœ¨ Main æ–¹æ³•çš„å¯åŠ¨ç±»ä¸ŠåŠ å…¥<code>@EnableScheduling</code>æ³¨è§£æ‰å¯ä»¥ã€‚</font> ğŸ‘‡</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableScheduling</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YebApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">YebApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br><br></p><h2 id="11">11.JavaSecurity</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security<span class="token punctuation">.</span>component<span class="token punctuation">.</span></span><span class="token class-name">CustomFilter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security<span class="token punctuation">.</span>component<span class="token punctuation">.</span></span><span class="token class-name">CustomUrlDecisionManager</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Admin</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IAdminService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ObjectPostProcessor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">AuthenticationManagerBuilder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">HttpSecurity</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">WebSecurity</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">WebSecurityConfigurerAdapter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">SessionCreationPolicy</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetailsService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>bcrypt<span class="token punctuation">.</span></span><span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>password<span class="token punctuation">.</span></span><span class="token class-name">PasswordEncoder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>access<span class="token punctuation">.</span>intercept<span class="token punctuation">.</span></span><span class="token class-name">FilterSecurityInterceptor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span></span><span class="token class-name">UsernamePasswordAuthenticationFilter</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">IAdminService</span> adminService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RestfulAccessDeniedHandler</span> restfulAccessDeniedHandler<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RestAuthorizationEntryPoint</span> restAuthorizationEntryPoint<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">CustomUrlDecisionManager</span> customUrlDecisionManager<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">CustomFilter</span> customFilter<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationManagerBuilder</span> auth<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>        auth<span class="token punctuation">.</span><span class="token function">userDetailsService</span><span class="token punctuation">(</span><span class="token function">userDetailsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">WebSecurity</span> web<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        web<span class="token punctuation">.</span><span class="token function">ignoring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span>                <span class="token string">"/login"</span><span class="token punctuation">,</span>                <span class="token string">"/logout"</span><span class="token punctuation">,</span>                <span class="token string">"/css/**"</span><span class="token punctuation">,</span>                <span class="token string">"/js/**"</span><span class="token punctuation">,</span>                <span class="token string">"/index.html"</span><span class="token punctuation">,</span>                <span class="token string">"favicon.ico"</span><span class="token punctuation">,</span>                <span class="token string">"/doc.html"</span><span class="token punctuation">,</span>                <span class="token string">"/webjars/**"</span><span class="token punctuation">,</span>                <span class="token string">"/swagger-resources/**"</span><span class="token punctuation">,</span>                <span class="token string">"/v2/api-docs/**"</span><span class="token punctuation">,</span>                <span class="token string">"/captcha"</span><span class="token punctuation">,</span>                <span class="token string">"/ws/**"</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span>  <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>        http<span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">sessionManagement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">sessionCreationPolicy</span><span class="token punctuation">(</span><span class="token class-name">SessionCreationPolicy</span><span class="token punctuation">.</span>STATELESS<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment">// æ‰€æœ‰çš„è¯·æ±‚éƒ½è¦æ±‚è®¤è¯</span>                <span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">withObjectPostProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ObjectPostProcessor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FilterSecurityInterceptor</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token annotation punctuation">@Override</span>                    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">O</span> <span class="token keyword">extends</span> <span class="token class-name">FilterSecurityInterceptor</span><span class="token punctuation">></span></span> <span class="token class-name">O</span> <span class="token function">postProcess</span><span class="token punctuation">(</span><span class="token class-name">O</span> o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        o<span class="token punctuation">.</span><span class="token function">setAccessDecisionManager</span><span class="token punctuation">(</span>customUrlDecisionManager<span class="token punctuation">)</span><span class="token punctuation">;</span>                        o<span class="token punctuation">.</span><span class="token function">setSecurityMetadataSource</span><span class="token punctuation">(</span>customFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">return</span> o<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">cacheControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        http<span class="token punctuation">.</span><span class="token function">addFilterBefore</span><span class="token punctuation">(</span><span class="token function">jwtAuthencationTokenFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">UsernamePasswordAuthenticationFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        http<span class="token punctuation">.</span><span class="token function">exceptionHandling</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">accessDeniedHandler</span><span class="token punctuation">(</span>restfulAccessDeniedHandler<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">authenticationEntryPoint</span><span class="token punctuation">(</span>restAuthorizationEntryPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">UserDetailsService</span> <span class="token function">userDetailsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> username <span class="token operator">-></span><span class="token punctuation">&#123;</span>            <span class="token class-name">Admin</span> admin <span class="token operator">=</span> adminService<span class="token punctuation">.</span><span class="token function">getAdminByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token operator">!=</span>admin<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                admin<span class="token punctuation">.</span><span class="token function">setRoles</span><span class="token punctuation">(</span>adminService<span class="token punctuation">.</span><span class="token function">getRoles</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> admin<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·åæˆ–å¯†ç ä¸æ­£ç¡®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">PasswordEncoder</span> <span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">JwtAuthencationTokenFilter</span> <span class="token function">jwtAuthencationTokenFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">JwtAuthencationTokenFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†é…ç½®æ–‡ä»¶ï¼šç›¸å…³å†…å®¹é‡Œå¯ä»¥æŸ¥çœ‹æ³¨è§£ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span> userDetailsService<span class="token punctuation">.</span><span class="token function">loadUserByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> userDetails <span class="token operator">||</span> <span class="token operator">!</span> passwordEncoder<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>password<span class="token punctuation">,</span>userDetails<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token class-name">RespBean</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"ç”¨æˆ·åæˆ–å¯†ç ä¸æ­£ç¡®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>userDetails<span class="token punctuation">.</span><span class="token function">isEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token class-name">RespBean</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"è´¦å·è¢«ç¦ç”¨ï¼Œè¯·è”ç³»ç®¡ç†å‘˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†ä»¥ä¸Šæ˜¯ç™»å½•éªŒè¯ï¼šé€šè¿‡ JavaSecurity ä¸­çš„ UserDetails æ¥åˆ¤æ–­ç”¨æˆ·åä¸å¯†ç æ˜¯å¦æ­£ç¡®</p><p>ğŸ€æ³¨æ„ï¼šPasswordEncoder ä¹Ÿæ˜¯å±äº JavaSecurity ä¸­çš„ä¸€ä¸ªç±»ï¼Œä¸»è¦ç”¨äºåŠ å¯†ã€‚</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br></p><h2 id="12">12.FastDFS å…³é”®ä»£ç </h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>csource<span class="token punctuation">.</span>fastdfs<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">ClassPathResource</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span><span class="token punctuation">;</span><span class="token comment">/** * æ–‡ä»¶ä¸Šä¼ å·¥å…·ç±» * * @author zhanglishen * @since 1.0.0 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FastDFSUtils</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">FastDFSUtils</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> filePath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathResource</span><span class="token punctuation">(</span><span class="token string">"fdfs_client.conf"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">ClientGlobal</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"FastDFS Client Init Fail! "</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ä¸Šä¼ æ–‡ä»¶     * @param file     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> filename <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"File Name :"</span> <span class="token operator">+</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> uploadResults <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–storageå®¢æˆ·ç«¯</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            storageClient <span class="token operator">=</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//ä¸Šä¼ </span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                uploadResults <span class="token operator">=</span> storageClient<span class="token punctuation">.</span><span class="token function">upload_file</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>filename<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>filename<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"IO Exception when uploadind the file:"</span> <span class="token operator">+</span> filename<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Non IO Exception when uploadind the file:"</span> <span class="token operator">+</span> filename<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"upload_file time used:"</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" ms"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éªŒè¯ä¸Šä¼ ç»“æœ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>uploadResults <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> storageClient <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"upload file fail, error code:"</span> <span class="token operator">+</span> storageClient<span class="token punctuation">.</span><span class="token function">getErrorCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//ä¸Šä¼ æˆåŠŸè¿”å›groupName</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"upload file successfully!!!"</span> <span class="token operator">+</span> <span class="token string">"group_name:"</span> <span class="token operator">+</span> uploadResults<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">", remoteFileName:"</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> uploadResults<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> uploadResults<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–æ–‡ä»¶ä¿¡æ¯     * @param groupName     * @param remoteFileName     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">FileInfo</span> <span class="token function">getFileInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupName<span class="token punctuation">,</span><span class="token class-name">String</span> remoteFileName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> storageClient<span class="token punctuation">.</span><span class="token function">get_file_info</span><span class="token punctuation">(</span>groupName<span class="token punctuation">,</span>remoteFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"IO Exception: Get File from Fast DFS failed"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Non IO Exception: Get File from Fast DFS failed"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ä¸‹è½½     * @param groupName     * @param remoteFileName     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">InputStream</span> <span class="token function">downFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupName<span class="token punctuation">,</span><span class="token class-name">String</span> remoteFileName<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> storageClient<span class="token punctuation">.</span><span class="token function">download_file</span><span class="token punctuation">(</span>groupName<span class="token punctuation">,</span> remoteFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayInputStream</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> inputStream<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"IO Exception: Get File from Fast DFS failed"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Non IO Exception: Get File from Fast DFS failed"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ é™¤æ–‡ä»¶     * @param groupName     * @param remoteFileName     * @throws Exception     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">deleteFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupName<span class="token punctuation">,</span><span class="token class-name">String</span> remoteFileName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> storageClient<span class="token punctuation">.</span><span class="token function">delete_file</span><span class="token punctuation">(</span>groupName<span class="token punctuation">,</span> remoteFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"delete file successfully!!!"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç”ŸæˆStorageå®¢æˆ·ç«¯     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">StorageClient</span> <span class="token function">getStorageClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">TrackerServer</span> trackerServer <span class="token operator">=</span> <span class="token function">getTrackerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">StorageClient</span> storageClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StorageClient</span><span class="token punctuation">(</span>trackerServer<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> storageClient<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç”ŸæˆTrackeræœåŠ¡å™¨ç«¯     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">TrackerServer</span> <span class="token function">getTrackerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">TrackerClient</span> trackerClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrackerClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">TrackerServer</span> trackerServer <span class="token operator">=</span> trackerClient<span class="token punctuation">.</span><span class="token function">getTrackerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> trackerServer<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è·å–æ–‡ä»¶è·¯å¾„     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getTrackerUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">TrackerClient</span> trackerClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrackerClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">TrackerServer</span> trackerServer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">StorageServer</span> storageServer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            trackerServer <span class="token operator">=</span> trackerClient<span class="token punctuation">.</span><span class="token function">getTrackerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            storageServer <span class="token operator">=</span> trackerClient<span class="token punctuation">.</span><span class="token function">getStoreStorage</span><span class="token punctuation">(</span>trackerServer<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token string">"http://"</span><span class="token operator">+</span>storageServer<span class="token punctuation">.</span><span class="token function">getInetSocketAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">":8888/"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†å°±æ˜¯ä¸€äº›ç®€å•çš„é…ç½®ï¼Œä¸»è¦åŠŸèƒ½ä¸ºï¼šä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤æ–‡ä»¶ï¼›ä»¥åŠä¸€äº›æœåŠ¡äºè¿™ä¸‰ä¸ªåŠŸèƒ½çš„æ–¹æ³•ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"æ›´æ–°ç”¨æˆ·å¤´åƒ"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/admin/userface"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">RespBean</span> <span class="token function">updateAdminUserFace</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span><span class="token class-name">Authentication</span> authentication<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> filePath <span class="token operator">=</span> <span class="token class-name">FastDFSUtils</span><span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token class-name">FastDFSUtils</span><span class="token punctuation">.</span><span class="token function">getTrackerUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>filePath<span class="token operator">+</span><span class="token string">"/"</span><span class="token operator">+</span>filePath<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> adminService<span class="token punctuation">.</span><span class="token function">updateAdminUserFace</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>id<span class="token punctuation">,</span>authentication<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†åœ¨AdminInfoController ä¸­è°ƒç”¨FastDFSUtilså®ç°ä¸Šä¼ å¤´åƒçš„åŠŸèƒ½ã€‚</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><p><br><br><br><br></p><h2 id="13">13.WebSocket å…³é”®ä»£ç </h2><h2 id="13.1">é…ç½®æ–‡ä»¶</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>jim<span class="token punctuation">.</span>server<span class="token punctuation">.</span>config<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span><span class="token class-name">JwtTokenUtil</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">Message</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">MessageChannel</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>simp<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">ChannelRegistration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>simp<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">MessageBrokerRegistry</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>simp<span class="token punctuation">.</span>stomp<span class="token punctuation">.</span></span><span class="token class-name">StompCommand</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>simp<span class="token punctuation">.</span>stomp<span class="token punctuation">.</span></span><span class="token class-name">StompHeaderAccessor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">ChannelInterceptor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">MessageHeaderAccessor</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span></span><span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SecurityContextHolder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetails</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span>userdetails<span class="token punctuation">.</span></span><span class="token class-name">UserDetailsService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>socket<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">EnableWebSocketMessageBroker</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>socket<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">StompEndpointRegistry</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>socket<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebSocketMessageBrokerConfigurer</span><span class="token punctuation">;</span><span class="token comment">/** * @author Jim * @Description WebSocket é…ç½®ç±» * @createTime 2022å¹´05æœˆ26æ—¥ */</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@EnableWebSocketMessageBroker</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSocketConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebSocketMessageBrokerConfigurer</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;jwt.tokenHead&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> tokenHead<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">JwtTokenUtil</span> jwtTokenUtil<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">UserDetailsService</span> userDetailsService<span class="token punctuation">;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: æ·»åŠ è¿™ä¸ª EndPointï¼Œè¿™æ ·å¯ä»¥åœ¨ç½‘é¡µé€šè¿‡ websocket è¿æ¥ä¸ŠæœåŠ¡     * ä¹Ÿå°±æ˜¯æˆ‘ä»¬é…ç½® websocket æœåŠ¡å¤åˆ¶ï¼Œå¹¶ä¸”å¯ä»¥æŒ‡å®šæ˜¯å¦ä½¿ç”¨ socketJS     * @param registry     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerStompEndpoints</span><span class="token punctuation">(</span><span class="token class-name">StompEndpointRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">/**         * 1.å°† ws/epè·¯å¾„æ³¨å†Œä¸º stomp çš„ç«¯ç‚¹ï¼Œç”¨æˆ·é“¾æ¥äº†è¿™ä¸ªç«¯ç‚¹å°±å¯ä»¥è¿›è¡Œ websocket é€šè®¯ï¼Œæ”¯æŒ socketJS         * 2.setAllowedOrigins("*")å…è®¸è·¨åŸŸ         * wethSockJS() æ”¯æŒ socketJS è®¿é—®         */</span>        registry<span class="token punctuation">.</span><span class="token function">addEndpoint</span><span class="token punctuation">(</span><span class="token string">"/ws/ep"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAllowedOrigins</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withSockJS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * è¾“å…¥é€šé“å‚æ•°é…ç½®     * @param registration     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureClientInboundChannel</span><span class="token punctuation">(</span><span class="token class-name">ChannelRegistration</span> registration<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        registration<span class="token punctuation">.</span><span class="token function">interceptors</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChannelInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token class-name">Message</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> <span class="token function">preSend</span><span class="token punctuation">(</span><span class="token class-name">Message</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> message<span class="token punctuation">,</span> <span class="token class-name">MessageChannel</span> channel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">StompHeaderAccessor</span> accessor <span class="token operator">=</span> <span class="token class-name">MessageHeaderAccessor</span><span class="token punctuation">.</span><span class="token function">getAccessor</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token class-name">StompHeaderAccessor</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//åˆ¤æ–­æ˜¯å¦ä¸ºè¿æ¥ï¼Œå¦‚æœæ˜¯ï¼Œéœ€è¦è·å–tokenï¼Œå¹¶ä¸”è®¾ç½®ç”¨æˆ·å¯¹è±¡</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StompCommand</span><span class="token punctuation">.</span>CONNECT<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>accessor<span class="token punctuation">.</span><span class="token function">getCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token class-name">String</span> token <span class="token operator">=</span> accessor<span class="token punctuation">.</span><span class="token function">getFirstNativeHeader</span><span class="token punctuation">(</span><span class="token string">"Auth-Token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                        <span class="token class-name">String</span> authToken <span class="token operator">=</span> token<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>tokenHead<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token class-name">String</span> username <span class="token operator">=</span> jwtTokenUtil<span class="token punctuation">.</span><span class="token function">getUserNameFromToken</span><span class="token punctuation">(</span>authToken<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//tokenä¸­å­˜åœ¨ç”¨æˆ·å</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                            <span class="token comment">//ç™»å½•</span>                            <span class="token class-name">UserDetails</span> userDetails <span class="token operator">=</span> userDetailsService<span class="token punctuation">.</span><span class="token function">loadUserByUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">//éªŒè¯tokenæ˜¯éƒ½æœ‰æ•ˆ</span>                            <span class="token keyword">if</span> <span class="token punctuation">(</span>jwtTokenUtil<span class="token punctuation">.</span><span class="token function">validateToken</span><span class="token punctuation">(</span>authToken<span class="token punctuation">,</span>userDetails<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                                <span class="token class-name">UsernamePasswordAuthenticationToken</span> authenticationToken <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UsernamePasswordAuthenticationToken</span><span class="token punctuation">(</span>userDetails<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> userDetails<span class="token punctuation">.</span><span class="token function">getAuthorities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token class-name">SecurityContextHolder</span><span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAuthentication</span><span class="token punctuation">(</span>authenticationToken<span class="token punctuation">)</span><span class="token punctuation">;</span>                                accessor<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>authenticationToken<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token punctuation">&#125;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>                <span class="token keyword">return</span> message<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @Author: Jim     * @Description: é…ç½®æ¶ˆæ¯ä»£ç†     * @param registry     */</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureMessageBroker</span><span class="token punctuation">(</span><span class="token class-name">MessageBrokerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// é…ç½®ä»£ç†åŸŸï¼Œå¯ä»¥é…ç½®å¤šä¸ªï¼Œé…ç½®ä»£ç†çš„ç›®çš„åœ°å‰ç¼€ä¸º/queue,å¯ä»¥åœ¨é…ç½®åŸŸä¸Šå‘å®¢æˆ·ç«¯æ¨é€æ¶ˆæ¯</span>        registry<span class="token punctuation">.</span><span class="token function">enableSimpleBroker</span><span class="token punctuation">(</span><span class="token string">"/queue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="13.2">å®ç°èŠå¤©åŠŸèƒ½</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@MessageMapping</span><span class="token punctuation">(</span><span class="token string">"/ws/chat"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleMsg</span><span class="token punctuation">(</span><span class="token class-name">Authentication</span> authentication<span class="token punctuation">,</span> <span class="token class-name">ChatMsg</span> chatMsg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Admin</span> admin <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">)</span> authentication<span class="token punctuation">.</span><span class="token function">getPrincipal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    chatMsg<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    chatMsg<span class="token punctuation">.</span><span class="token function">setFromNickName</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    chatMsg<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    simpMessagingTemplate<span class="token punctuation">.</span><span class="token function">convertAndSendToUser</span><span class="token punctuation">(</span>chatMsg<span class="token punctuation">.</span><span class="token function">getTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"/queue/chat"</span><span class="token punctuation">,</span>chatMsg<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ğŸ‘†ä½¿ç”¨simpMessagingTemplateå‘é€æ¶ˆæ¯</p><h3 id="13.3">è·å–æ‰€æœ‰ç®¡ç†å‘˜ï¼ˆèŠå¤©åˆ—è¡¨ï¼‰</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">package com.jim.server.controller;import com.jim.server.pojo.Admin;import com.jim.server.service.IAdminService;import io.swagger.annotations.ApiOperation;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import java.util.List;&#x2F;** * @author Jim * @Description å¯ä»¥è·Ÿè°èŠå¤© * @createTime 2022å¹´05æœˆ26æ—¥ *&#x2F;@RestController@RequestMapping(&quot;&#x2F;chat&quot;)public class ChatController &#123;    @Autowired    private IAdminService adminService;    @ApiOperation(value&#x3D;&quot;è·å–æ‰€æœ‰æ“ä½œå‘˜&quot;)    @GetMapping(&quot;&#x2F;admin&quot;)    public List&lt;Admin&gt; getAllAdmins(String keywords)&#123;        return adminService.getAllAdmins(keywords);    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><h1 id="å‰ç«¯è·¨åŸŸ"><a href="#å‰ç«¯è·¨åŸŸ" class="headerlink" title="å‰ç«¯è·¨åŸŸ"></a>å‰ç«¯è·¨åŸŸ</h1><p>ç”±äºé¡¹ç›®å‰åç«¯åˆ†ç¦»ï¼Œå‰ç«¯å¿…é¡»è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜ä¾¿æ˜¯è·¨åŸŸï¼Œå¦åˆ™å‰åç«¯æ— æ³•è¿›è¡Œè”è°ƒï¼Œå› æ­¤åœ¨<a href="https://www.bilibili.com/video/BV1ff4y1M7XK?p=7&vd_source=32c908a2f8edcccb3fa042cf11b101bc">è§†é¢‘ç¬¬ä¸ƒé›†</a>çš„ä½ç½®è¯´æ˜äº†å¦‚ä½•å®ç°è·¨åŸŸï¼Œå…·ä½“æ–¹æ³•åœ¨è§†é¢‘ä¸­æœ‰ä»‹ç»ï¼Œç®€å•æè¿°å°±æ˜¯ï¼šåœ¨ Vue é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª vue.config.js æ–‡ä»¶ ğŸ‘‰ğŸ» åœ¨é‡Œé¢é…ç½® proxy ä»¥åŠ target ç›®æ ‡åœ°å€ï¼›</p><p>è¿™æ—¶å€™ä»…éœ€è¦å°† targetæ”¹æˆ <code>http://110.40.191.51:8081</code>ä¾¿å¯ä»¥ä»¥æˆ‘çš„æœåŠ¡å™¨ä¸ºåç«¯è¿›è¡Œè”è°ƒå¼€å‘ï¼Œå…·ä½“å®ç°æ•ˆæœå¦‚ä¸‹ï¼š</p><img src="https://files.catbox.moe/xy2sry.png" style="width:90%" /><p>å®ç°è·¨åŸŸçš„æ–¹å¼è¿˜æœ‰å¾ˆå¤šç§ï¼Œè¿™æ˜¯å¼€å‘è¿‡ç¨‹ä¸­æ¯”è¾ƒæ–¹ä¾¿çš„ä¸€ç§ã€‚</p><p><font color=red size=4>å…¬ç›Šå¼€æ”¾åç«¯ï¼Œè¯·å‹¿éšä¾¿ä¿®æ”¹æœåŠ¡å™¨æ•°æ®ï¼ˆä¸ºäº†æ–¹ä¾¿åˆ«äººè®¿é—®ï¼Œæ”¹äº†è¯·æ”¹å›æ¥å“¦ï¼‰</p><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p><h1 id="ç”Ÿæ´»"><a href="#ç”Ÿæ´»" class="headerlink" title="ç”Ÿæ´»"></a>ç”Ÿæ´»</h1><p>æ”¾ä¸€å¼ æˆ‘èƒ–å„¿çš„å¸…ç…§ï¼š</p><div style="text-align:center"><img  src="https://files.catbox.moe/q3ztct.png" style="width:50%;border-radius:1110px 1110px" /></div><p><a href="#0">å›åˆ°é¡¶éƒ¨</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>è¿›é˜¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MarkDown å†™ä½œç¬”è®°ï¼ˆé“¾æ¥ç¯‡ï¼‰</title>
    <link href="/2022/06/17/markdown/Markdown%20%E8%B7%B3%E8%BD%AC/"/>
    <url>/2022/06/17/markdown/Markdown%20%E8%B7%B3%E8%BD%AC/</url>
    
    <content type="html"><![CDATA[<h1 id="MarkDown-å†™ä½œç¬”è®°ï¼ˆé“¾æ¥ç¯‡ï¼‰"><a href="#MarkDown-å†™ä½œç¬”è®°ï¼ˆé“¾æ¥ç¯‡ï¼‰" class="headerlink" title="MarkDown å†™ä½œç¬”è®°ï¼ˆé“¾æ¥ç¯‡ï¼‰"></a>MarkDown å†™ä½œç¬”è®°ï¼ˆé“¾æ¥ç¯‡ï¼‰</h1><p><br><br></p><h2 id="æ™®é€šå¤–é“¾"><a href="#æ™®é€šå¤–é“¾" class="headerlink" title="æ™®é€šå¤–é“¾"></a>æ™®é€šå¤–é“¾</h2><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html">[è¶…é“¾æ¥åå­—](è¿æ¥ url)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ç¤ºä¾‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html">[ç‚¹æˆ‘æ‰“å¼€ç™¾åº¦](www.baidu.com)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><a href="https://www.baidu.com/">ç‚¹æˆ‘æ‰“å¼€ç™¾åº¦</a></p><p>æ³¨æ„äº‹é¡¹ï¼šè®°å¾—åŠ ä¸Š<code>https://</code>æˆ–è€…<code>http://</code></p><p><br><br><br><br></p><h2 id="æ–‡ç« å†…è·³è½¬"><a href="#æ–‡ç« å†…è·³è½¬" class="headerlink" title="æ–‡ç« å†…è·³è½¬"></a>æ–‡ç« å†…è·³è½¬</h2><h3 id="æ–¹å¼ä¸€ï¼ˆä¸æ¨èï¼‰"><a href="#æ–¹å¼ä¸€ï¼ˆä¸æ¨èï¼‰" class="headerlink" title="æ–¹å¼ä¸€ï¼ˆä¸æ¨èï¼‰"></a>æ–¹å¼ä¸€ï¼ˆä¸æ¨èï¼‰</h3><p>ä½¿ç”¨ <code>&lt;a&gt;</code>æ ‡ç­¾ç›´æ¥è·³è½¬åˆ°æŸä¸€ä¸ªç›®å½•ï¼š</p><p>ç¤ºä¾‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#æ–‡ç« å†…è·³è½¬<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç‚¹æˆ‘è·³è½¬åˆ°ã€æ–‡ç« å†…è·³è½¬ã€‘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><a href="#æ–‡ç« å†…è·³è½¬">ç‚¹æˆ‘è·³è½¬åˆ°ã€æ–‡ç« å†…è·³è½¬ã€‘</a></p><p>è¿™ç§æ–¹å¼ä»…åœ¨ Markdown æ–‡ä»¶å†…æœ‰æ•ˆï¼Œæ”¾åœ¨åšå®¢ä¸­è½¬æ¢æˆ htmlåå¯èƒ½ä¼šå¤±æ•ˆã€‚</p><h3 id="æ–¹å¼äºŒ"><a href="#æ–¹å¼äºŒ" class="headerlink" title="æ–¹å¼äºŒ"></a>æ–¹å¼äºŒ</h3><p>å¯¹ç›®å½•è®¾ç½®é”šç‚¹</p><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è¿™æ˜¯é”šç‚¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>123<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”¨æ–¹å¼ä¸€è·³è½¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>[ç”¨æ–¹å¼äºŒè·³è½¬](#123)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p><span id="123">è¿™æ˜¯é”šç‚¹</span></p><p><a href="#123">ç”¨æ–¹å¼ä¸€è·³è½¬</a><br><a href="#123">ç”¨æ–¹å¼äºŒè·³è½¬</a></p>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MarkDown å†™ä½œç¬”è®°ï¼ˆå›¾ç‰‡ç¯‡ï¼‰</title>
    <link href="/2022/06/17/markdown/Markdown%20%E5%9B%BE%E7%89%87/"/>
    <url>/2022/06/17/markdown/Markdown%20%E5%9B%BE%E7%89%87/</url>
    
    <content type="html"><![CDATA[<h1 id="MarkDown-å†™ä½œç¬”è®°ï¼ˆå›¾ç‰‡ç¯‡ï¼‰"><a href="#MarkDown-å†™ä½œç¬”è®°ï¼ˆå›¾ç‰‡ç¯‡ï¼‰" class="headerlink" title="MarkDown å†™ä½œç¬”è®°ï¼ˆå›¾ç‰‡ç¯‡ï¼‰"></a>MarkDown å†™ä½œç¬”è®°ï¼ˆå›¾ç‰‡ç¯‡ï¼‰</h1><p><br><br></p><h2 id="å›¾åºŠå·¥å…·"><a href="#å›¾åºŠå·¥å…·" class="headerlink" title="å›¾åºŠå·¥å…·"></a>å›¾åºŠå·¥å…·</h2><p>ä¹‹å‰ç”¨çš„å›¾åºŠå·¥å…·ä¸å¯ä»¥ç”¨äº†ï¼Œå› æ­¤åˆå‘ç°äº†ä¸€ä¸ª utools è‡ªå¸¦çš„å›¾åºŠï¼Œå¾ˆå¥½ç”¨ã€‚å®‰è£… utoolsï¼Œå¤åˆ¶å›¾ç‰‡ï¼Œalt/option+space æ‰“å¼€ utools å°±å¯ä»¥ä¸Šä¼ åˆ°å›¾åºŠï¼Œé‡Œé¢ä¼šæœ‰ url/html/markdownçš„é€‰æ‹©ã€‚</p><p>æ˜¯ä¸ªå¼€å‘è€…éƒ½åº”è¯¥çŸ¥é“ utoolsã€‚</p><p><br><br><br><br></p><h2 id="å›¾ç‰‡å±…ä¸­"><a href="#å›¾ç‰‡å±…ä¸­" class="headerlink" title="å›¾ç‰‡å±…ä¸­"></a>å›¾ç‰‡å±…ä¸­</h2><p>Markdown çš„æ’å…¥å›¾ç‰‡ä¸å¤ªæ–¹ä¾¿æ“ä½œï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨ html çš„<code>&lt;img&gt;</code>æ ‡ç­¾ï¼Œç„¶åç”¨<code>&lt;div&gt;</code>å¥—ä½å®ƒï¼Œå¹¶åœ¨ div ä¸­è®¾ç½®å±…ä¸­ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å›¾ç‰‡åœ°å€<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>div><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å›¾ç‰‡å¤§å°ç­‰å¯ä»¥ç›´æ¥åœ¨ img æ ‡ç­¾ä¸­åŠ <code>style=&quot;&quot;</code>ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>center</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://files.catbox.moe/ltfc1r.png<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>90%</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><div align=center><img src="https://files.catbox.moe/ltfc1r.png" style="width:90%"></div>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€IDEAã€‘IDEA çˆ†çº¢çš„å‡ ç§è§£å†³æ–¹æ³•</title>
    <link href="/2022/06/16/IDEA/%E3%80%90IDEA%E3%80%91IDEA-%E7%88%86%E7%BA%A2%E7%9A%84%E5%87%A0%E7%A7%8D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <url>/2022/06/16/IDEA/%E3%80%90IDEA%E3%80%91IDEA-%E7%88%86%E7%BA%A2%E7%9A%84%E5%87%A0%E7%A7%8D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="IDEA-çˆ†çº¢çš„å‡ ç§è§£å†³æ–¹æ³•"><a href="#IDEA-çˆ†çº¢çš„å‡ ç§è§£å†³æ–¹æ³•" class="headerlink" title="IDEA çˆ†çº¢çš„å‡ ç§è§£å†³æ–¹æ³•"></a>IDEA çˆ†çº¢çš„å‡ ç§è§£å†³æ–¹æ³•</h2><h3 id="æ£€æŸ¥-pom-xmlçš„å›¾æ ‡æ˜¯å¦æ˜¯è“è‰²çš„å°mï¼Œå¦‚æœä¸æ˜¯åˆ™è¯´æ˜æœªä»¥Mavené¡¹ç›®åŠ è½½"><a href="#æ£€æŸ¥-pom-xmlçš„å›¾æ ‡æ˜¯å¦æ˜¯è“è‰²çš„å°mï¼Œå¦‚æœä¸æ˜¯åˆ™è¯´æ˜æœªä»¥Mavené¡¹ç›®åŠ è½½" class="headerlink" title="æ£€æŸ¥ pom.xmlçš„å›¾æ ‡æ˜¯å¦æ˜¯è“è‰²çš„å°mï¼Œå¦‚æœä¸æ˜¯åˆ™è¯´æ˜æœªä»¥Mavené¡¹ç›®åŠ è½½"></a>æ£€æŸ¥ pom.xmlçš„å›¾æ ‡æ˜¯å¦æ˜¯è“è‰²çš„å°<code>m</code>ï¼Œå¦‚æœä¸æ˜¯åˆ™è¯´æ˜æœªä»¥Mavené¡¹ç›®åŠ è½½</h3><p>è§£å†³æ–¹æ³•ï¼šæ‰¾åˆ° pom.xml -&gt; å³é”®-&gt; Maven-&gt; addAsMavenProject</p><div style="text-align:center;"><img src="https://files.catbox.moe/lndbm7.png" style="height:500px"></div><h3 id="æ£€æŸ¥é¡¹ç›®æ‰€ç”¨çš„-JDK-ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®"><a href="#æ£€æŸ¥é¡¹ç›®æ‰€ç”¨çš„-JDK-ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®" class="headerlink" title="æ£€æŸ¥é¡¹ç›®æ‰€ç”¨çš„ JDK ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®"></a>æ£€æŸ¥é¡¹ç›®æ‰€ç”¨çš„ JDK ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®</h3><p>è§£å†³æ–¹æ³•ï¼šproject structure -&gt; Project</p><div style="text-align:center;"><img src="https://files.catbox.moe/onpcwl.png" style="height:500px"></div><h3 id="æ£€æŸ¥-Maven-çš„ä½ç½®ï¼ˆä»¥åŠé€‰æ‹©çš„ç‰ˆæœ¬ï¼‰"><a href="#æ£€æŸ¥-Maven-çš„ä½ç½®ï¼ˆä»¥åŠé€‰æ‹©çš„ç‰ˆæœ¬ï¼‰" class="headerlink" title="æ£€æŸ¥ Maven çš„ä½ç½®ï¼ˆä»¥åŠé€‰æ‹©çš„ç‰ˆæœ¬ï¼‰"></a>æ£€æŸ¥ Maven çš„ä½ç½®ï¼ˆä»¥åŠé€‰æ‹©çš„ç‰ˆæœ¬ï¼‰</h3><p>è§£å†³æ–¹æ³•ï¼šPreferences -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven</p><div style="text-align:center;"><img src="https://files.catbox.moe/hswya5.png" style="height:500px"></div><h3 id="IDEA-ç¼“å­˜å¯¼è‡´"><a href="#IDEA-ç¼“å­˜å¯¼è‡´" class="headerlink" title="IDEA ç¼“å­˜å¯¼è‡´"></a>IDEA ç¼“å­˜å¯¼è‡´</h3><p>File -&gt; Invalidate Caches</p><div style="text-align:center;"><img src="https://files.catbox.moe/a1iytd.png" style="height:500px"></div>]]></content>
    
    
    <categories>
      
      <category>IDEA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>IDEA</tag>
      
      <tag>Error</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€SpringSecurityã€‘ä¸‰ç§æ”¾è¡Œæ–¹å¼ antMatchers &amp;&amp; regexMatchers &amp;&amp; mvcMatchers</title>
    <link href="/2022/06/16/JavaSecurity/antMatchers/"/>
    <url>/2022/06/16/JavaSecurity/antMatchers/</url>
    
    <content type="html"><![CDATA[<h1 id="SpringSecurity-ä¸‰ç§æ”¾è¡Œæ–¹å¼"><a href="#SpringSecurity-ä¸‰ç§æ”¾è¡Œæ–¹å¼" class="headerlink" title="SpringSecurity ä¸‰ç§æ”¾è¡Œæ–¹å¼"></a>SpringSecurity ä¸‰ç§æ”¾è¡Œæ–¹å¼</h1><p><strong>permitAll() == access(â€œpermitAll()â€)</strong><br><strong>hasAnyRole(â€œabcâ€,â€ABCAâ€) == access(hasAnyRole(â€œabcâ€,â€ABCAâ€))</strong></p><h2 id="antMatchers"><a href="#antMatchers" class="headerlink" title="antMatchers"></a>antMatchers</h2><p><font  size=2>ç‰¹ç‚¹ï¼šä½¿ç”¨ ant å‚æ•°ï¼Œä¸é™æ•°é‡ï¼ˆå¯å˜å‚æ•°ï¼‰</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>      <span class="token comment">// å…è®¸è®¿é—®çš„é¡µé¢</span>http<span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// æ”¾è¡Œå¤šä¸ªé¡µé¢</span>        <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/login.html"</span><span class="token punctuation">,</span><span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// æŒ‡å®šè¯·æ±‚æ–¹å¼å¹¶æ”¾è¡Œ</span>        <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token class-name">HttpMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">,</span><span class="token string">"/demo"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// ä½¿ç”¨é€šé…ç¬¦</span>        <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/js/**"</span><span class="token punctuation">,</span><span class="token string">"/css/**"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li><code>?</code>åŒ¹é…ä¸€ä¸ªå­—ç¬¦</li><li><code>*</code>åŒ¹é…0 ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</li><li><code>**</code>åŒ¹é… 0 ä¸ªæˆ–å¤šä¸ªç›®å½•</li></ul><h2 id="regexMatchers"><a href="#regexMatchers" class="headerlink" title="regexMatchers"></a>regexMatchers</h2><p><font  size=2>ç‰¹ç‚¹ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>      <span class="token comment">// å…è®¸è®¿é—®çš„é¡µé¢</span>http<span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token punctuation">.</span><span class="token function">regexMatchers</span><span class="token punctuation">(</span><span class="token string">".+[.]png"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="mvcMatchers"><a href="#mvcMatchers" class="headerlink" title="mvcMatchers"></a>mvcMatchers</h2><p><font size=2>ç‰¹ç‚¹ï¼šå¯ä»¥ä½¿ç”¨ <code>servlet.path</code></font></p><p><font size=2>å…¨å±€å‰ç½®è·¯å¾„</font><code>application.properties</code></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">spring<span class="token punctuation">.</span>mvc<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>path<span class="token operator">=</span><span class="token operator">/</span>xxxx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Override</span>  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>    <span class="token comment">// å…è®¸è®¿é—®çš„é¡µé¢</span>      http<span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token punctuation">.</span><span class="token function">mvcMatchers</span><span class="token punctuation">(</span><span class="token string">"/login.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">servletPath</span><span class="token punctuation">(</span><span class="token string">"/xxxx"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="æƒé™æ§åˆ¶"><a href="#æƒé™æ§åˆ¶" class="headerlink" title="æƒé™æ§åˆ¶"></a>æƒé™æ§åˆ¶</h1><h4 id="æ§åˆ¶è§’è‰²ä¸æƒé™"><a href="#æ§åˆ¶è§’è‰²ä¸æƒé™" class="headerlink" title="æ§åˆ¶è§’è‰²ä¸æƒé™"></a>æ§åˆ¶è§’è‰²ä¸æƒé™</h4><p><font size=2>ä¸¤ç§æ–¹æ³•ï¼Œå››ç§æƒ…å†µ</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// new ä¸€ä¸ªç”¨æˆ·ï¼Œ</span><span class="token comment">// æœ‰ä¸¤ä¸ªæƒé™ï¼šadmin,normal</span><span class="token comment">// æœ‰ä¸€ä¸ªè§’è‰² ROLE_abc</span><span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">,</span> <span class="token class-name">AuthorityUtils</span><span class="token punctuation">.</span><span class="token function">commaSeparatedStringToAuthorityList</span><span class="token punctuation">(</span><span class="token string">"admin,normal,ROLE_abc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">http<span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// ä¸€ä¸ª Authority</span>  <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/main1.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasAuthority</span><span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">)</span>  <span class="token comment">// å¤šä¸ª Authority</span>        <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/main2.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasAnyAuthority</span><span class="token punctuation">(</span><span class="token string">"admin"</span><span class="token punctuation">,</span><span class="token string">"adminA"</span><span class="token punctuation">)</span>  <span class="token comment">// ä¸€ä¸ª ROLE_</span>  <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/main3.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span>  <span class="token comment">// å¤šä¸ª ROLE_</span>        <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/main4.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasAnyRole</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">,</span><span class="token string">"ABCA"</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font size=2>æ³¨æ„ï¼Œç»™å®šæƒé™è¦ä»¥<code>ROLE_</code>å¼€å¤´ï¼Œä½†æ˜¯åˆ¤æ–­æƒé™çš„æ—¶å€™<font color=red>ä¸å¯ä»¥æœ‰</font><code>ROLE_</code>ã€‚</font></p><h4 id="æ§åˆ¶-IP"><a href="#æ§åˆ¶-IP" class="headerlink" title="æ§åˆ¶ IP"></a>æ§åˆ¶ IP</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">"/main2.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasIpAddress</span><span class="token punctuation">(</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h1 id="ä½¿ç”¨æ³¨è§£æ”¾è¡Œ"><a href="#ä½¿ç”¨æ³¨è§£æ”¾è¡Œ" class="headerlink" title="ä½¿ç”¨æ³¨è§£æ”¾è¡Œ"></a>ä½¿ç”¨æ³¨è§£æ”¾è¡Œ</h1><p>å¯åŠ¨ç±»ä¸ŠåŠ ä¸Š<code>@EnableGlobalMethodSecurity(securedEnabled=true)</code></p><ul><li><code>@Secured(&quot;ROLE_abc&quot;) </code><ul><li>ä½ç½®ï¼šæ–¹æ³• | ç±»</li></ul></li><li><code>PreAuthorize</code><ul><li>ä½ç½®ï¼šæ–¹æ³•|ç±»</li><li>å…è®¸ä»¥ <code>ROLE_</code>å¼€å¤´ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ <code>ROLE_</code>å¼€å¤´</li></ul></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@EnableGlobalMethodSecurity</span><span class="token punctuation">(</span>securedEnabled<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span>prePostEnabled <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringSecurityApplication</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringSecurityApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@PreAuthorize</span><span class="token punctuation">(</span><span class="token string">"hasRole('ROLE_name'"</span><span class="token punctuation">)</span>"<span class="token punctuation">)</span>@<span class="token operator">*</span><span class="token class-name">Mapping</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token string">"Success"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="è®°ä½æˆ‘"><a href="#è®°ä½æˆ‘" class="headerlink" title="è®°ä½æˆ‘"></a>è®°ä½æˆ‘</h2><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/** * @author Jim * @Description * @createTime 2022å¹´06æœˆ28æ—¥ */</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">&#123;</span>      <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">UserDetailsServiceImpl</span> userDetailsService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>      <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>       <span class="token comment">// è®°ä½æˆ‘</span>        http<span class="token punctuation">.</span><span class="token function">rememberMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment">// ç™»å½•é€»è¾‘</span>                <span class="token punctuation">.</span><span class="token function">userDetailsService</span><span class="token punctuation">(</span>userDetailsService<span class="token punctuation">)</span>                <span class="token comment">// æŒä¹…å±‚å¯¹è±¡</span>                <span class="token punctuation">.</span><span class="token function">tokenRepository</span><span class="token punctuation">(</span><span class="token function">jdbcTokenRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">PersistentTokenRepository</span> <span class="token function">jdbcTokenRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">JdbcTokenRepositoryImpl</span> jdbcTokenRepository <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JdbcTokenRepositoryImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        jdbcTokenRepository<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è‡ªåŠ¨å»ºè¡¨ ç¬¬ä¸€æ¬¡å¯åŠ¨éœ€è¦ï¼Œç¬¬äºŒæ¬¡å¯åŠ¨éœ€è¦æ³¨é‡Šæ‰</span>        jdbcTokenRepository<span class="token punctuation">.</span><span class="token function">setCreateTableOnStartup</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  jdbcTokenRepository<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="å¸¸è§è®¤è¯æœºåˆ¶"><a href="#å¸¸è§è®¤è¯æœºåˆ¶" class="headerlink" title="å¸¸è§è®¤è¯æœºåˆ¶"></a>å¸¸è§è®¤è¯æœºåˆ¶</h2><p>OAuth2</p>]]></content>
    
    
    <categories>
      
      <category>Security</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Security</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€åˆæ¢ç¯‡ã€‘ Nginx è´Ÿè½½å‡è¡¡</title>
    <link href="/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91-Nginx-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/"/>
    <url>/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91-Nginx-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/</url>
    
    <content type="html"><![CDATA[<h1 id="Nginx-è´Ÿè½½å‡è¡¡æœºåˆ¶"><a href="#Nginx-è´Ÿè½½å‡è¡¡æœºåˆ¶" class="headerlink" title="Nginx è´Ÿè½½å‡è¡¡æœºåˆ¶"></a>Nginx è´Ÿè½½å‡è¡¡æœºåˆ¶</h1><p>é…ç½®æ–‡ä»¶ä½ç½®<code>/usr/local/nginx/conf/nginx.conf</code></p><h3 id="æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿"><a href="#æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿" class="headerlink" title="æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿"></a>æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿</h3><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># é…ç½®å¤šä¸ªä»£ç†ï¼Œåå­—å« abcdefgï¼Œä¸‹æ–¹å¯ç”¨ï¼Œå¯ä»¥è½®è¯¢ï¼ˆå¹¶ä¸”é…ç½®æƒé‡ï¼‰upstream abcdefg&#123;# æƒé‡ä¸º 8 çš„åŠå…¶server 110.40.191.50:80 weight&#x3D;8;#å¤‡ç”¨æœºå™¨  server 110.40.191.51:80 backup;  # down ä¸‹çº¿ï¼Œä¸å‚ä¸è½®è¯¢  server 110.40.191.52:80 down;&#125;server &#123;        listen       80;        server_name  localhost;        location &#x2F; &#123;        # é…ç½®ä»£ç†proxy_pass http:&#x2F;&#x2F;abcdefg;        &#125;        error_page   500 502 503 504  &#x2F;50x.html;        location &#x3D; &#x2F;50x.html &#123;            root   html;        &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=gray size=2>ç¼ºç‚¹ï¼šæ— æ³•ä¿æŒä¼šè¯ã€‚</font></p><h3 id="æ–¹å¼äºŒï¼šip-hash"><a href="#æ–¹å¼äºŒï¼šip-hash" class="headerlink" title="æ–¹å¼äºŒï¼šip_hash"></a>æ–¹å¼äºŒï¼šip_hash</h3><p>ä¸å¤ªç”¨ï¼ˆä¸é€‚åˆå½“ä¸‹å¤§ç¯å¢ƒï¼Œæ›´æ¢ ip ä¹‹åé‡æ–° hashï¼Œé‚£ä¹ˆæˆ‘åœ¨æ—…è¡Œä¸­çš„ç«è½¦ä¸Šä¸€ç›´æ›´æ¢ç§»åŠ¨åŸºç«™ï¼Œå°±ä¸€ç›´ hashï¼‰</p><h3 id="æ–¹å¼ä¸‰-least-conn"><a href="#æ–¹å¼ä¸‰-least-conn" class="headerlink" title="æ–¹å¼ä¸‰ least_conn"></a>æ–¹å¼ä¸‰ least_conn</h3><p>æœ€å°‘è¿æ¥æ•°è®¿é—®ï¼ˆä¸å¤ªå¸¸ç”¨ã€ä¸å¤ªåˆç†ï¼‰</p><p>æœ‰å¯èƒ½å› ä¸ºæˆ‘é…ç½®çš„æƒé‡è¾ƒä½ï¼Œå¯¼è‡´å…¶è¿æ¥æ•°è¾ƒå°‘ã€‚</p><h3 id="æ–¹å¼å››ï¼šfair"><a href="#æ–¹å¼å››ï¼šfair" class="headerlink" title="æ–¹å¼å››ï¼šfair"></a>æ–¹å¼å››ï¼šfair</h3><p>æ ¹æ®åç«¯æœåŠ¡å™¨å“åº”æ—¶é—´æ¥è½¬å‘è¯·æ±‚ï¼ˆéœ€è¦å®‰è£…æ’ä»¶ï¼‰</p><h3 id="æ–¹å¼äº”ï¼š-url-hash"><a href="#æ–¹å¼äº”ï¼š-url-hash" class="headerlink" title="æ–¹å¼äº”ï¼š url_hash"></a>æ–¹å¼äº”ï¼š url_hash</h3><p>ï¼ˆå®šå‘æµé‡è½¬å‘ï¼‰æ ¹æ® url å– hash å€¼ï¼Œç›¸åŒçš„ hash å€¼è½¬å‘åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Š</p>]]></content>
    
    
    <categories>
      
      <category>ä¸­é—´ä»¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€åˆæ¢ç¯‡ã€‘ Nginx åˆ›å»ºè„šæœ¬æ–‡ä»¶ï¼ˆäº¤ç”± systemctl æ§åˆ¶ï¼‰</title>
    <link href="/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91Nginx%20%E5%88%9B%E5%BB%BA%20systemctl%20%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6/"/>
    <url>/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91Nginx%20%E5%88%9B%E5%BB%BA%20systemctl%20%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>ä¸­é—´ä»¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>åˆæ¢ç¯‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Nginxã€‘ Nginx å…¨</title>
    <link href="/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91%E5%85%A8/"/>
    <url>/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91%E5%85%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="ç›¸å…³é…ç½®è¯´æ˜"><a href="#ç›¸å…³é…ç½®è¯´æ˜" class="headerlink" title="ç›¸å…³é…ç½®è¯´æ˜"></a>ç›¸å…³é…ç½®è¯´æ˜</h2><p>æœåŠ¡å™¨ç‰ˆæœ¬ï¼šCentOS8 æ¥è‡ªè…¾è®¯äº‘çš„è½»é‡çº§æœåŠ¡å™¨ï¼Œå¤§å®¶å¯ä»¥å»æ·˜å®ä¹°ï¼Œ48/å¹´</p><p>Nginx ç‰ˆæœ¬ï¼š<a href="http://nginx.org/download/nginx-1.2.1.tar.gz">nginx-1.2.1.tar.gz</a></p><p><br><br><br></p><h2 id="å®‰è£…-Nginx"><a href="#å®‰è£…-Nginx" class="headerlink" title="å®‰è£… Nginx"></a>å®‰è£… Nginx</h2><ul><li><p>ä¸‹è½½ Nginx å®‰è£…åŒ…<a href="http://nginx.org/download/">ã€ä¸‹è½½é“¾æ¥ã€‘</a></p></li><li><p>ä¸Šä¼ åˆ° CentOS ä»»æ„åœ°å€ï¼ˆå¯ä»¥æ”¾åœ¨<code>/home/your_username/</code>ä¸‹ï¼‰</p></li><li><p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤è§£å‹ç¼©</p></li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">tar zxvf nginx-*.tar.gx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤è¿›å…¥åŒ…å†…ï¼ˆæ³¨æ„ï¼Œç‰ˆæœ¬ä¸åŒè¯·æ‰‹åŠ¨æ›¿æ¢<code>*</code>ï¼Œä¹Ÿå¯ä»¥çµæ´»ä½¿ç”¨ <code>tab é”®</code>ï¼‰</li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">cd nginx-*<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤æŸ¥çœ‹ç›¸å…³ä¾èµ–</li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">.&#x2F;configure<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ˆå¯èƒ½æ˜¯å°†ä¾èµ–æ”¾åˆ°<code>/usr/local/nginx</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œä½†æ˜¯è¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯å®‰è£… nginx çš„æ–‡ä»¶å¤¹ï¼Œè¯·å¤§ä½¬ä»¬è§£æƒ‘ï¼‰</li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>æ‰§è¡Œä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤è¿›è¡Œå®‰è£…</li></ul><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">makemake install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><ul><li><font color=red>æ³¨æ„ï¼š</font>è¿™è¾¹å¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªé—®é¢˜ï¼Œå¦‚å¦‚æœé‡åˆ°è¯·å‚è€ƒä¸‹é¢æ–¹æ³•ï¼Œæ²¡æœ‰é‡åˆ°å°±è·³è¿‡ï¼š</li></ul></br><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h4 id="åŸºç¡€é…ç½®è¯´æ˜"><a href="#åŸºç¡€é…ç½®è¯´æ˜" class="headerlink" title="åŸºç¡€é…ç½®è¯´æ˜"></a>åŸºç¡€é…ç½®è¯´æ˜</h4><p>é…ç½®æ–‡ä»¶ä½ç½® <code>/usr/local/nginx/conf/index.conf</code></p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># å¼€å¯è¿›ç¨‹æ•°é‡worker_processes  1;# é»˜è®¤å¯ä»¥æœ‰å¤šå°‘ä¸ªè¿æ¥events &#123;    worker_connections  1024;&#125;# http &#123;# å¼•å…¥å…¶ä»–ä¾èµ–æ–‡ä»¶ # mime.types æ˜¯è¯·æ±‚å¤´    include       mime.types;        default_type  application&#x2F;octet-stream;# é›¶æ‹·è´    sendfile        on;# ä¿æŒè¿æ¥ï¼Œè¶…æ—¶æ—¶é—´    keepalive_timeout  65;# ä¸€ä¸ªä¸»æœº    server &#123;    # ç›‘å¬ç«¯å£å·        listen       80;        # ä¸»æœºåç§°        server_name  localhost;# url ä¸€ä¸ªä¸»æœºä¸‹é¢å¯ä»¥æœ‰å¥½å‡ ä¸ª location é»˜è®¤é¡µ        location &#x2F; &#123;            root   html;            index  index.html index.htm;        &#125;        #        error_page   500 502 503 504  &#x2F;50x.html;        location &#x3D; &#x2F;50x.html &#123;            root   html;        &#125;    &#125;  &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>mime.typesæ–‡ä»¶</p><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">types <span class="token punctuation">&#123;</span>    text<span class="token operator">/</span>html                             html htm shtml<span class="token punctuation">;</span>    text<span class="token operator">/</span>css                              css<span class="token punctuation">;</span>    text<span class="token operator">/</span>xml                              xml<span class="token punctuation">;</span>   â€¦â€¦â€¦â€¦æ­¤å¤„çœç•¥å¾ˆå¤š    video<span class="token operator">/</span>x<span class="token operator">-</span>ms<span class="token operator">-</span>wmv                        wmv<span class="token punctuation">;</span>    video<span class="token operator">/</span>x<span class="token operator">-</span>msvideo                       avi<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="Nginx-åˆ›å»ºè„šæœ¬æ–‡ä»¶"><a href="#Nginx-åˆ›å»ºè„šæœ¬æ–‡ä»¶" class="headerlink" title="Nginx åˆ›å»ºè„šæœ¬æ–‡ä»¶"></a>Nginx åˆ›å»ºè„šæœ¬æ–‡ä»¶</h1><p><font size=2 color=darkgray>nginx.service</font></p><ul><li>æ–°å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼š<code>/usr/lib/systemd/system/nginx.service</code>ï¼ˆå…è®¸ä½¿ç”¨<code>systemctl</code>ç®¡ç† nginxï¼‰</li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">[Unit]Description&#x3D;nginx   -   web serverAfter&#x3D;network.target remote-fs.target nss-lookup.target[Service]Type&#x3D;forkingPIDFile&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;logs&#x2F;nginx.pidExecStartPre&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -t -c &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.confExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -c &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.confExecReload&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s reloadExecStop&#x3D;&#x2F;url&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s stopExecQuit&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s quitPrivateTmp&#x3D;true[Install]WantedBy&#x3D;multi-user.target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="Nginx-è´Ÿè½½å‡è¡¡æœºåˆ¶"><a href="#Nginx-è´Ÿè½½å‡è¡¡æœºåˆ¶" class="headerlink" title="Nginx è´Ÿè½½å‡è¡¡æœºåˆ¶"></a>Nginx è´Ÿè½½å‡è¡¡æœºåˆ¶</h1><p>é…ç½®æ–‡ä»¶ä½ç½®<code>/usr/local/nginx/conf/nginx.conf</code></p><h4 id="æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿"><a href="#æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿" class="headerlink" title="æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿"></a>æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># é…ç½®å¤šä¸ªä»£ç†ï¼Œåå­—å« abcdefgï¼Œä¸‹æ–¹å¯ç”¨ï¼Œå¯ä»¥è½®è¯¢ï¼ˆå¹¶ä¸”é…ç½®æƒé‡ï¼‰upstream abcdefg&#123;# æƒé‡ä¸º 8 çš„åŠå…¶server 110.40.191.50:80 weight&#x3D;8;#å¤‡ç”¨æœºå™¨  server 110.40.191.51:80 backup;  # down ä¸‹çº¿ï¼Œä¸å‚ä¸è½®è¯¢  server 110.40.191.52:80 down;&#125;server &#123;        listen       80;        server_name  localhost;        location &#x2F; &#123;        # é…ç½®ä»£ç†proxy_pass http:&#x2F;&#x2F;abcdefg;        &#125;        error_page   500 502 503 504  &#x2F;50x.html;        location &#x3D; &#x2F;50x.html &#123;            root   html;        &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=gray size=2>ç¼ºç‚¹ï¼šæ— æ³•ä¿æŒä¼šè¯ã€‚</font></p><h4 id="æ–¹å¼äºŒï¼šip-hash"><a href="#æ–¹å¼äºŒï¼šip-hash" class="headerlink" title="æ–¹å¼äºŒï¼šip_hash"></a>æ–¹å¼äºŒï¼šip_hash</h4><p>ä¸å¤ªç”¨ï¼ˆä¸é€‚åˆå½“ä¸‹å¤§ç¯å¢ƒï¼Œæ›´æ¢ ip ä¹‹åé‡æ–° hashï¼Œé‚£ä¹ˆæˆ‘åœ¨æ—…è¡Œä¸­çš„ç«è½¦ä¸Šä¸€ç›´æ›´æ¢ç§»åŠ¨åŸºç«™ï¼Œå°±ä¸€ç›´ hashï¼‰</p><h4 id="æ–¹å¼ä¸‰-least-conn"><a href="#æ–¹å¼ä¸‰-least-conn" class="headerlink" title="æ–¹å¼ä¸‰ least_conn"></a>æ–¹å¼ä¸‰ least_conn</h4><p>æœ€å°‘è¿æ¥æ•°è®¿é—®ï¼ˆä¸å¤ªå¸¸ç”¨ã€ä¸å¤ªåˆç†ï¼‰</p><p>æœ‰å¯èƒ½å› ä¸ºæˆ‘é…ç½®çš„æƒé‡è¾ƒä½ï¼Œå¯¼è‡´å…¶è¿æ¥æ•°è¾ƒå°‘ã€‚</p><h4 id="æ–¹å¼å››ï¼šfair"><a href="#æ–¹å¼å››ï¼šfair" class="headerlink" title="æ–¹å¼å››ï¼šfair"></a>æ–¹å¼å››ï¼šfair</h4><p>æ ¹æ®åç«¯æœåŠ¡å™¨å“åº”æ—¶é—´æ¥è½¬å‘è¯·æ±‚ï¼ˆéœ€è¦å®‰è£…æ’ä»¶ï¼‰</p><h4 id="æ–¹å¼äº”ï¼š-url-hash"><a href="#æ–¹å¼äº”ï¼š-url-hash" class="headerlink" title="æ–¹å¼äº”ï¼š url_hash"></a>æ–¹å¼äº”ï¼š url_hash</h4><p>ï¼ˆå®šå‘æµé‡è½¬å‘ï¼‰æ ¹æ® url å– hash å€¼ï¼Œç›¸åŒçš„ hash å€¼è½¬å‘åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Š</p><h1 id="åŠ¨é™åˆ†ç¦»"><a href="#åŠ¨é™åˆ†ç¦»" class="headerlink" title="åŠ¨é™åˆ†ç¦»"></a>åŠ¨é™åˆ†ç¦»</h1><p>ä¸¤å°æœåŠ¡å™¨ï¼Œå…¶ä¸­Bè´Ÿè´£è·‘é¡¹ç›®ï¼ŒAæœºå™¨è´Ÿè´£ä»£ç†åˆ° B æœºå™¨(Bæœºå™¨ä¸­ä¸åŒ…å« css|js</p><p>|imgæ–‡ä»¶)</p><p>A æœºå™¨ï¼š</p><h4 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€:"></a>æ–¹å¼ä¸€:</h4><p><font size=3>ç›´æ¥å°†éœ€è¦çš„é™æ€æ–‡ä»¶å…¨éƒ¨å†™å…¨</font></p><p><code>/usr/local/nginx/conf/nginx.conf</code></p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">location &#x2F; &#123;# ä»£ç†è½¬å‘åˆ° Bï¼Œå…¶ä¸­ipAddressä¸portåˆ†åˆ«ä¸ºBä¸­çš„ipä»¥åŠç«¯å£proxy_pass ipAddress:port;&#125;# Aæœºå™¨ä¸­çš„ css æ–‡ä»¶çš„ä½ç½®ï¼Œå­˜å‚¨åœ¨&#x2F;nginx&#x2F;htmlä¸‹ï¼ˆå¯ä»¥è‡ªå·±æ›´æ¢ä½ç½®ï¼‰location &#x2F;css&#123;  root html;  index index.html index.htm;&#125;# Aæœºå™¨ä¸­çš„ js æ–‡ä»¶çš„ä½ç½®ï¼Œå­˜å‚¨åœ¨&#x2F;nginx&#x2F;htmlä¸‹ï¼ˆå¯ä»¥è‡ªå·±æ›´æ¢ä½ç½®ï¼‰location &#x2F;js&#123;  root html;  index index.html index.htm;&#125;# Aæœºå™¨ä¸­çš„ img æ–‡ä»¶çš„ä½ç½®ï¼Œå­˜å‚¨åœ¨&#x2F;nginx&#x2F;htmlä¸‹ï¼ˆå¯ä»¥è‡ªå·±æ›´æ¢ä½ç½®ï¼‰location &#x2F;img&#123;  root html;  index index.html index.htm;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="æ–¹å¼äºŒï¼šæ­£åˆ™åŒ¹é…"><a href="#æ–¹å¼äºŒï¼šæ­£åˆ™åŒ¹é…" class="headerlink" title="æ–¹å¼äºŒï¼šæ­£åˆ™åŒ¹é…"></a>æ–¹å¼äºŒï¼šæ­£åˆ™åŒ¹é…</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">location &#x2F; &#123;# ä»£ç†è½¬å‘åˆ° Bï¼Œå…¶ä¸­ipAddressä¸portåˆ†åˆ«ä¸ºBä¸­çš„ipä»¥åŠç«¯å£proxy_pass ipAddress:port;&#125;# location ~*(css|js|img)&#123;  root html;  index index.html index.htm;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ä¸­é—´ä»¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€åˆæ¢ç¯‡ã€‘ Nginx åŠ¨é™åˆ†ç¦»ï¼ˆcss\js\imgä¸ html åˆ†ç¦»ï¼‰</title>
    <link href="/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91-Nginx-%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB/"/>
    <url>/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91-Nginx-%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>ä¸­é—´ä»¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>åˆæ¢ç¯‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€åˆæ¢ç¯‡ã€‘ å®‰è£… Nginx</title>
    <link href="/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91-Nginx%20%E5%AE%89%E8%A3%85/"/>
    <url>/2022/06/09/nginx/%E3%80%90%E5%88%9D%E6%8E%A2%E7%AF%87%E3%80%91-Nginx%20%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h2 id="ç›¸å…³é…ç½®è¯´æ˜"><a href="#ç›¸å…³é…ç½®è¯´æ˜" class="headerlink" title="ç›¸å…³é…ç½®è¯´æ˜"></a>ç›¸å…³é…ç½®è¯´æ˜</h2><p>æœåŠ¡å™¨ç‰ˆæœ¬ï¼šCentOS8 æ¥è‡ªè…¾è®¯äº‘çš„è½»é‡çº§æœåŠ¡å™¨ï¼Œå¤§å®¶å¯ä»¥å»æ·˜å®ä¹°ï¼Œ48/å¹´</p><p>Nginx ç‰ˆæœ¬ï¼š<a href="http://nginx.org/download/nginx-1.2.1.tar.gz">nginx-1.2.1.tar.gz</a></p><p><br><br><br></p><h2 id="å®‰è£…-Nginx"><a href="#å®‰è£…-Nginx" class="headerlink" title="å®‰è£… Nginx"></a>å®‰è£… Nginx</h2><ul><li><p>ä¸‹è½½ Nginx å®‰è£…åŒ…<a href="http://nginx.org/download/">ã€ä¸‹è½½é“¾æ¥ã€‘</a></p></li><li><p>ä¸Šä¼ åˆ° CentOS ä»»æ„åœ°å€ï¼ˆå¯ä»¥æ”¾åœ¨<code>/home/your_username/</code>ä¸‹ï¼‰</p></li><li><p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤è§£å‹ç¼©</p></li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">tar zxvf nginx-*.tar.gx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤è¿›å…¥åŒ…å†…ï¼ˆæ³¨æ„ï¼Œç‰ˆæœ¬ä¸åŒè¯·æ‰‹åŠ¨æ›¿æ¢<code>*</code>ï¼Œä¹Ÿå¯ä»¥çµæ´»ä½¿ç”¨ <code>tab é”®</code>ï¼‰</li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">cd nginx-*<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤æŸ¥çœ‹ç›¸å…³ä¾èµ–</li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">.&#x2F;configure<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ˆå¯èƒ½æ˜¯å°†ä¾èµ–æ”¾åˆ°<code>/usr/local/nginx</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œä½†æ˜¯è¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯å®‰è£… nginx çš„æ–‡ä»¶å¤¹ï¼Œè¯·å¤§ä½¬ä»¬è§£æƒ‘ï¼‰</li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">.&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>æ‰§è¡Œä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤è¿›è¡Œå®‰è£…</li></ul><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">makemake install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><ul><li><font color=red>æ³¨æ„ï¼š</font>è¿™è¾¹å¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªé—®é¢˜ï¼Œå¦‚å¦‚æœé‡åˆ°è¯·å‚è€ƒä¸‹é¢æ–¹æ³•ï¼Œæ²¡æœ‰é‡åˆ°å°±è·³è¿‡ï¼š</li></ul></br><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><h4 id="åŸºç¡€é…ç½®è¯´æ˜"><a href="#åŸºç¡€é…ç½®è¯´æ˜" class="headerlink" title="åŸºç¡€é…ç½®è¯´æ˜"></a>åŸºç¡€é…ç½®è¯´æ˜</h4><p>é…ç½®æ–‡ä»¶ä½ç½® <code>/usr/local/nginx/conf/index.conf</code></p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># å¼€å¯è¿›ç¨‹æ•°é‡worker_processes  1;# é»˜è®¤å¯ä»¥æœ‰å¤šå°‘ä¸ªè¿æ¥events &#123;    worker_connections  1024;&#125;# http &#123;# å¼•å…¥å…¶ä»–ä¾èµ–æ–‡ä»¶ # mime.types æ˜¯è¯·æ±‚å¤´    include       mime.types;        default_type  application&#x2F;octet-stream;# é›¶æ‹·è´    sendfile        on;# ä¿æŒè¿æ¥ï¼Œè¶…æ—¶æ—¶é—´    keepalive_timeout  65;# ä¸€ä¸ªä¸»æœº    server &#123;    # ç›‘å¬ç«¯å£å·        listen       80;        # ä¸»æœºåç§°        server_name  localhost;# url ä¸€ä¸ªä¸»æœºä¸‹é¢å¯ä»¥æœ‰å¥½å‡ ä¸ª location é»˜è®¤é¡µ        location &#x2F; &#123;            root   html;            index  index.html index.htm;        &#125;        #        error_page   500 502 503 504  &#x2F;50x.html;        location &#x3D; &#x2F;50x.html &#123;            root   html;        &#125;    &#125;  &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>mime.typesæ–‡ä»¶</p><div class="code-wrapper"><pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">types <span class="token punctuation">&#123;</span>    text<span class="token operator">/</span>html                             html htm shtml<span class="token punctuation">;</span>    text<span class="token operator">/</span>css                              css<span class="token punctuation">;</span>    text<span class="token operator">/</span>xml                              xml<span class="token punctuation">;</span>   â€¦â€¦â€¦â€¦æ­¤å¤„çœç•¥å¾ˆå¤š    video<span class="token operator">/</span>x<span class="token operator">-</span>ms<span class="token operator">-</span>wmv                        wmv<span class="token punctuation">;</span>    video<span class="token operator">/</span>x<span class="token operator">-</span>msvideo                       avi<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="Nginx-åˆ›å»ºè„šæœ¬æ–‡ä»¶"><a href="#Nginx-åˆ›å»ºè„šæœ¬æ–‡ä»¶" class="headerlink" title="Nginx åˆ›å»ºè„šæœ¬æ–‡ä»¶"></a>Nginx åˆ›å»ºè„šæœ¬æ–‡ä»¶</h1><p><font size=2 color=darkgray>nginx.service</font></p><ul><li>æ–°å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼š<code>/usr/lib/systemd/system/nginx.service</code>ï¼ˆå…è®¸ä½¿ç”¨<code>systemctl</code>ç®¡ç† nginxï¼‰</li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">[Unit]Description&#x3D;nginx   -   web serverAfter&#x3D;network.target remote-fs.target nss-lookup.target[Service]Type&#x3D;forkingPIDFile&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;logs&#x2F;nginx.pidExecStartPre&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -t -c &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.confExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -c &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.confExecReload&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s reloadExecStop&#x3D;&#x2F;url&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s stopExecQuit&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -s quitPrivateTmp&#x3D;true[Install]WantedBy&#x3D;multi-user.target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h1 id="Nginx-è´Ÿè½½å‡è¡¡æœºåˆ¶"><a href="#Nginx-è´Ÿè½½å‡è¡¡æœºåˆ¶" class="headerlink" title="Nginx è´Ÿè½½å‡è¡¡æœºåˆ¶"></a>Nginx è´Ÿè½½å‡è¡¡æœºåˆ¶</h1><p>é…ç½®æ–‡ä»¶ä½ç½®<code>/usr/local/nginx/conf/nginx.conf</code></p><h4 id="æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿"><a href="#æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿" class="headerlink" title="æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿"></a>æ–¹å¼ä¸€ï¼šè½®è¯¢ã€æƒé‡ã€å¤‡ç”¨æœºå™¨ã€ä¸‹çº¿</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># é…ç½®å¤šä¸ªä»£ç†ï¼Œåå­—å« abcdefgï¼Œä¸‹æ–¹å¯ç”¨ï¼Œå¯ä»¥è½®è¯¢ï¼ˆå¹¶ä¸”é…ç½®æƒé‡ï¼‰upstream abcdefg&#123;# æƒé‡ä¸º 8 çš„åŠå…¶server 110.40.191.50:80 weight&#x3D;8;#å¤‡ç”¨æœºå™¨  server 110.40.191.51:80 backup;  # down ä¸‹çº¿ï¼Œä¸å‚ä¸è½®è¯¢  server 110.40.191.52:80 down;&#125;server &#123;        listen       80;        server_name  localhost;        location &#x2F; &#123;        # é…ç½®ä»£ç†proxy_pass http:&#x2F;&#x2F;abcdefg;        &#125;        error_page   500 502 503 504  &#x2F;50x.html;        location &#x3D; &#x2F;50x.html &#123;            root   html;        &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=gray size=2>ç¼ºç‚¹ï¼šæ— æ³•ä¿æŒä¼šè¯ã€‚</font></p><h4 id="æ–¹å¼äºŒï¼šip-hash"><a href="#æ–¹å¼äºŒï¼šip-hash" class="headerlink" title="æ–¹å¼äºŒï¼šip_hash"></a>æ–¹å¼äºŒï¼šip_hash</h4><p>ä¸å¤ªç”¨ï¼ˆä¸é€‚åˆå½“ä¸‹å¤§ç¯å¢ƒï¼Œæ›´æ¢ ip ä¹‹åé‡æ–° hashï¼Œé‚£ä¹ˆæˆ‘åœ¨æ—…è¡Œä¸­çš„ç«è½¦ä¸Šä¸€ç›´æ›´æ¢ç§»åŠ¨åŸºç«™ï¼Œå°±ä¸€ç›´ hashï¼‰</p><h4 id="æ–¹å¼ä¸‰-least-conn"><a href="#æ–¹å¼ä¸‰-least-conn" class="headerlink" title="æ–¹å¼ä¸‰ least_conn"></a>æ–¹å¼ä¸‰ least_conn</h4><p>æœ€å°‘è¿æ¥æ•°è®¿é—®ï¼ˆä¸å¤ªå¸¸ç”¨ã€ä¸å¤ªåˆç†ï¼‰</p><p>æœ‰å¯èƒ½å› ä¸ºæˆ‘é…ç½®çš„æƒé‡è¾ƒä½ï¼Œå¯¼è‡´å…¶è¿æ¥æ•°è¾ƒå°‘ã€‚</p><h4 id="æ–¹å¼å››ï¼šfair"><a href="#æ–¹å¼å››ï¼šfair" class="headerlink" title="æ–¹å¼å››ï¼šfair"></a>æ–¹å¼å››ï¼šfair</h4><p>æ ¹æ®åç«¯æœåŠ¡å™¨å“åº”æ—¶é—´æ¥è½¬å‘è¯·æ±‚ï¼ˆéœ€è¦å®‰è£…æ’ä»¶ï¼‰</p><h4 id="æ–¹å¼äº”ï¼š-url-hash"><a href="#æ–¹å¼äº”ï¼š-url-hash" class="headerlink" title="æ–¹å¼äº”ï¼š url_hash"></a>æ–¹å¼äº”ï¼š url_hash</h4><p>ï¼ˆå®šå‘æµé‡è½¬å‘ï¼‰æ ¹æ® url å– hash å€¼ï¼Œç›¸åŒçš„ hash å€¼è½¬å‘åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Š</p><h1 id="åŠ¨é™åˆ†ç¦»"><a href="#åŠ¨é™åˆ†ç¦»" class="headerlink" title="åŠ¨é™åˆ†ç¦»"></a>åŠ¨é™åˆ†ç¦»</h1><p>ä¸¤å°æœåŠ¡å™¨ï¼Œå…¶ä¸­Bè´Ÿè´£è·‘é¡¹ç›®ï¼ŒAæœºå™¨è´Ÿè´£ä»£ç†åˆ° B æœºå™¨(Bæœºå™¨ä¸­ä¸åŒ…å« css|js</p><p>|imgæ–‡ä»¶)</p><p>A æœºå™¨ï¼š</p><h4 id="æ–¹å¼ä¸€"><a href="#æ–¹å¼ä¸€" class="headerlink" title="æ–¹å¼ä¸€:"></a>æ–¹å¼ä¸€:</h4><p><font size=3>ç›´æ¥å°†éœ€è¦çš„é™æ€æ–‡ä»¶å…¨éƒ¨å†™å…¨</font></p><p><code>/usr/local/nginx/conf/nginx.conf</code></p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">location &#x2F; &#123;# ä»£ç†è½¬å‘åˆ° Bï¼Œå…¶ä¸­ipAddressä¸portåˆ†åˆ«ä¸ºBä¸­çš„ipä»¥åŠç«¯å£proxy_pass ipAddress:port;&#125;# Aæœºå™¨ä¸­çš„ css æ–‡ä»¶çš„ä½ç½®ï¼Œå­˜å‚¨åœ¨&#x2F;nginx&#x2F;htmlä¸‹ï¼ˆå¯ä»¥è‡ªå·±æ›´æ¢ä½ç½®ï¼‰location &#x2F;css&#123;  root html;  index index.html index.htm;&#125;# Aæœºå™¨ä¸­çš„ js æ–‡ä»¶çš„ä½ç½®ï¼Œå­˜å‚¨åœ¨&#x2F;nginx&#x2F;htmlä¸‹ï¼ˆå¯ä»¥è‡ªå·±æ›´æ¢ä½ç½®ï¼‰location &#x2F;js&#123;  root html;  index index.html index.htm;&#125;# Aæœºå™¨ä¸­çš„ img æ–‡ä»¶çš„ä½ç½®ï¼Œå­˜å‚¨åœ¨&#x2F;nginx&#x2F;htmlä¸‹ï¼ˆå¯ä»¥è‡ªå·±æ›´æ¢ä½ç½®ï¼‰location &#x2F;img&#123;  root html;  index index.html index.htm;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="æ–¹å¼äºŒï¼šæ­£åˆ™åŒ¹é…"><a href="#æ–¹å¼äºŒï¼šæ­£åˆ™åŒ¹é…" class="headerlink" title="æ–¹å¼äºŒï¼šæ­£åˆ™åŒ¹é…"></a>æ–¹å¼äºŒï¼šæ­£åˆ™åŒ¹é…</h4><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">location &#x2F; &#123;# ä»£ç†è½¬å‘åˆ° Bï¼Œå…¶ä¸­ipAddressä¸portåˆ†åˆ«ä¸ºBä¸­çš„ipä»¥åŠç«¯å£proxy_pass ipAddress:port;&#125;# location ~*(css|js|img)&#123;  root html;  index index.html index.htm;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>ä¸­é—´ä»¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>ä¸­é—´ä»¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€çº é”™ç¯‡ã€‘ å®‰è£… Nginx æŠ¥é”™</title>
    <link href="/2022/06/09/nginx/%E3%80%90%E7%BA%A0%E9%94%99%E7%AF%87%E3%80%91-%E5%AE%89%E8%A3%85-Nginx-%E6%8A%A5%E9%94%99/"/>
    <url>/2022/06/09/nginx/%E3%80%90%E7%BA%A0%E9%94%99%E7%AF%87%E3%80%91-%E5%AE%89%E8%A3%85-Nginx-%E6%8A%A5%E9%94%99/</url>
    
    <content type="html"><![CDATA[<h1 id="åœ¨-CentOS8-ä¸Šå®‰è£…-Nginx-é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³åŠæ³•"><a href="#åœ¨-CentOS8-ä¸Šå®‰è£…-Nginx-é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³åŠæ³•" class="headerlink" title="åœ¨ CentOS8 ä¸Šå®‰è£… Nginx é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³åŠæ³•"></a>åœ¨ CentOS8 ä¸Šå®‰è£… Nginx é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³åŠæ³•</h1><ul><li><font color=red>æ³¨æ„ï¼š</font>è¿™è¾¹å¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªé—®é¢˜ï¼Œå¦‚å¦‚æœé‡åˆ°è¯·å‚è€ƒä¸‹é¢æ–¹æ³•ï¼Œæ²¡æœ‰é‡åˆ°å°±è·³è¿‡ï¼š</li></ul><img style="width:900px" src="https://files.catbox.moe/pzzehv.png"><p><font size=4 color=orange>å¯¹äºé—®é¢˜ 1</font>ï¼šè¿›å…¥åˆ°:<code>/è§£å‹ç¼©åçš„æ–‡ä»¶å¤¹ä¸‹çš„/objs</code>ä¸‹ï¼Œä½¿ç”¨ vim æ‰“å¼€ Makefile å¹¶åˆ é™¤ä¸‹åˆ—ä»£ç ä¸­çš„<code>-Werror</code></p><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh"># åˆ é™¤å‰CFLAGS &#x3D;  -pipe  -O -W -Wall -Wpointer-arith -Wno-unused-parameter -Werror -gã€€# åˆ é™¤åCFLAGS &#x3D;  -pipe  -O -W -Wall -Wpointer-arith -Wno-unused-parameter -gã€€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=orange size-4>é—®é¢˜ 2</font>ï¼šè¿›å…¥åˆ°ä¸‹æ–¹æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨ vim æ‰“å¼€<code>ngx-user.c</code>åæ³¨é‡Šæ‰ä¸‹é¢ä¸€è¡Œä»£ç </p><img style="width:900px" src="https://files.catbox.moe/4an2rk.png"><div class="code-wrapper"><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">cd.current_salt[0] &#x3D; ~salt[0];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ä¸¤ä¸ªé—®é¢˜ä¿®æ”¹ä¹‹åçš„æ•ˆæœï¼š</p><img style="width:600px" src="https://files.catbox.moe/et9ri8.png"><img style="width:600px" src="https://files.catbox.moe/6pxib8.png"><hr><p><font color=#7baf23 size=2>é—®é¢˜å·²è§£å†³ï¼</font></p>]]></content>
    
    
    <categories>
      
      <category>ä¸­é—´ä»¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
      <tag>çº é”™ç¯‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘ æ³›å‹</title>
    <link href="/2022/03/23/%E3%80%90Java%E3%80%91-%E6%B3%9B%E5%9E%8B/"/>
    <url>/2022/03/23/%E3%80%90Java%E3%80%91-%E6%B3%9B%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><hr><h3 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h3><p>ä¸ºç±»è®¾ç½®ä¸€ä¸ªæ³›å‹ï¼Œç„¶åå¯ä»¥åœ¨ç±»ä¸­ä½¿ç”¨å®ƒ</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>  <span class="token keyword">private</span> <span class="token class-name">T</span> name<span class="token punctuation">;</span>  <span class="token keyword">private</span> <span class="token class-name">T</span> address<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">T</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAddress</span><span class="token punctuation">(</span><span class="token class-name">T</span> address<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> address<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ³›å‹æ–¹æ³•-æ™®é€šæ³›å‹æ–¹æ³•-é™æ€æ–¹æ³•"><a href="#æ³›å‹æ–¹æ³•-æ™®é€šæ³›å‹æ–¹æ³•-é™æ€æ–¹æ³•" class="headerlink" title="æ³›å‹æ–¹æ³• | æ™®é€šæ³›å‹æ–¹æ³• | é™æ€æ–¹æ³•"></a>æ³›å‹æ–¹æ³• | <font size=2>æ™®é€šæ³›å‹æ–¹æ³• | é™æ€æ–¹æ³•</font></h3><p>æ³›å‹æ–¹æ³•åœ¨å®šä¹‰æ³›å‹çš„ç±»å‹çš„æ—¶å€™å¯ä»¥è„±ç¦»ç±»</p><p>æ¯”å¦‚ç±»æ˜¯<code>&lt;T&gt;</code>è€Œç±»å¯ä»¥å†™æˆ<code>&lt;M&gt;</code>ï¼Œç„¶åä¼ ä»€ä¹ˆå‚æ•°éƒ½å¯ä»¥</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ™®é€šæ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person3</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">"æ­£åœ¨ç¡è§‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// æ³›å‹æ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person3</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>  <span class="token comment">// æ™®é€šæ³›å‹æ–¹æ³•</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">T</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">"æ­£åœ¨ç¡è§‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token comment">// é™æ€æ³›å‹æ–¹æ³•</span>  <span class="token comment">// é™æ€æ³›å‹æ–¹æ³•ä¸­çš„ç±»å‹å ä½ç¬¦ä¸ç±»ä¸­çš„æ³›å‹å ä½ç¬¦æ²¡æœ‰å…³ç³»</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">W</span><span class="token punctuation">></span></span> <span class="token keyword">void</span> <span class="token function">show1</span><span class="token punctuation">(</span><span class="token class-name">W</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é™æ€æ–¹æ³•"</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">"æ­£åœ¨ç¡è§‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">></span></span> <span class="token class-name">E</span> <span class="token function">show2</span><span class="token punctuation">(</span><span class="token class-name">E</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show3</span><span class="token punctuation">(</span><span class="token class-name">A</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ™®é€šæ³›å‹æ–¹æ³•"</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">"æœªæŒ‡å®šç±»å‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// è°ƒç”¨æ™®é€šæ³›å‹æ–¹æ³•</span>    <span class="token class-name">Person3</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person3</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">"Test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è°ƒç”¨é™æ€æ³›å‹æ–¹æ³•</span>    <span class="token class-name">Person3</span><span class="token punctuation">.</span><span class="token function">show1</span><span class="token punctuation">(</span><span class="token string">"ä½ å¥½ä¸–ç•Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Person3</span><span class="token punctuation">.</span><span class="token function">show2</span><span class="token punctuation">(</span><span class="token string">"ä½ å¥½ä¸–ç•Œ"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">show3</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">show3</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æ³›å‹æ¥å£"><a href="#æ³›å‹æ¥å£" class="headerlink" title="æ³›å‹æ¥å£"></a>æ³›å‹æ¥å£</h2><ol><li>å®ç°æ¥å£çš„æ—¶å€™å¯ä»¥æŒ‡å®šå…·ä½“çš„æ³›å‹ç±»å‹</li><li>å¦‚æœå®ç°çš„æ—¶å€™æ²¡æœ‰æŒ‡å®šï¼Œé‚£ä¹ˆå¿…é¡»è¦åœ¨è¿™ä¸ªå®ç°ç±»ä¸­å£°æ˜ä¸€ä¸ªæ³›å‹ç»™æ¥å£ç”¨</li></ol><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ¥å£</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PerInt</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">T</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="å®ç°æ¥å£çš„æ—¶å€™ç›´æ¥æŒ‡å®šæ³›å‹"><a href="#å®ç°æ¥å£çš„æ—¶å€™ç›´æ¥æŒ‡å®šæ³›å‹" class="headerlink" title="å®ç°æ¥å£çš„æ—¶å€™ç›´æ¥æŒ‡å®šæ³›å‹"></a>å®ç°æ¥å£çš„æ—¶å€™ç›´æ¥æŒ‡å®šæ³›å‹</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// å®ç°ç±» åœ¨å®ç°çš„æ—¶å€™å®šä¹‰æ³›å‹çš„ç±»å‹</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PerIntImpl</span> <span class="token keyword">implements</span> <span class="token class-name">PerInt</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token operator">+</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="ä¸å®ç°ç›¸å…³æ–¹æ³•"><a href="#ä¸å®ç°ç›¸å…³æ–¹æ³•" class="headerlink" title="ä¸å®ç°ç›¸å…³æ–¹æ³•"></a>ä¸å®ç°ç›¸å…³æ–¹æ³•</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// å®ç°ç±» ä¸æŒ‡å®šæ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PerIntImpl2</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token keyword">implements</span> <span class="token class-name">PerInt</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">T</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token operator">+</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="è°ƒç”¨"><a href="#è°ƒç”¨" class="headerlink" title="è°ƒç”¨"></a>è°ƒç”¨</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// è°ƒç”¨</span><span class="token class-name">PerIntImpl</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerIntImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">PerIntImpl1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerIntImpl1</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="æ³›å‹æ“¦é™¤æ¨¡å¼"><a href="#æ³›å‹æ“¦é™¤æ¨¡å¼" class="headerlink" title="æ³›å‹æ“¦é™¤æ¨¡å¼"></a>æ³›å‹æ“¦é™¤æ¨¡å¼</h3><ol><li>åœ¨ç¼–ç æ—¶å€™å†™çš„æ³›å‹ç±»å‹ï¼Œåœ¨åå°„é˜¶æ®µï¼ˆä»£ç ç¼–è¯‘é˜¶æ®µï¼‰ä¼šå°†æ³›å‹ç±»å‹ç»™æ“¦é™¤æ‰ï¼Œæ‰€ä»¥å¯¹æ¯”ä»¥ä¸‹ä¸¤ä¸ªæ³›å‹æ‰ä¼šæ˜¯ä¸€è‡´çš„ã€‚</li><li>æ“¦é™¤æ¨¡å¼å°±æ˜¯åœ¨ç¼–ç è¿è¡ŒæœŸé—´å°†åçœå…¨éƒ¨å»æ‰</li><li>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ“¦é™¤æ¨¡å¼ï¼Ÿ<ol><li>ä¸ºäº†å…¼å®¹ JDK è€ç‰ˆæœ¬çš„ç¼–ç </li></ol></li></ol><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">private</span> <span class="token class-name">T</span> name<span class="token punctuation">;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">T</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–¹æ³•è¢«è°ƒç”¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> p  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> p1<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>        <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span>  p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> p3<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>        <span class="token comment">// Person4 p2 = new Person();</span><span class="token comment">// Person4 p3 = new Person();  </span>     <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æ³›å‹é€šé…ç¬¦"><a href="#æ³›å‹é€šé…ç¬¦" class="headerlink" title="æ³›å‹é€šé…ç¬¦"></a>æ³›å‹é€šé…ç¬¦</h2><p>æ³›å‹é€šé…ç¬¦</p><p>é€šé…ç¬¦ï¼šç”±äºjava ä¸­çš„ç»§æ‰¿å…³ç³»ï¼Œåœ¨æ³›å‹ä¸­ä¸åšä»»ä½•å£°æ˜ä¿®é¥°çš„æƒ…å†µä¸‹æ˜¯ä¸è¢«è®¤å¯çš„ï¼Œæ‰€ä»¥è¦ä½¿ç”¨é€šé…ç¬¦è¿›è¡Œå¤„ç†</p><p>é€šé…ç¬¦ ä¸€èˆ¬ä½¿ç”¨ ? æ¥è¡¨ç¤ºï¼Œå¯ä»¥ç†è§£ä¸º ? æ˜¯æ³›å‹ä¸­æ‰€æœ‰ç±»çš„çˆ¶ç±»</p><p>æ¥ä¸‹æ¥ä¼šä½¿ç”¨é€šé…ç¬¦åœ¨åçœä¸­å°† java ä¸­çš„ç»§æ‰¿å…³ç³»é‡æ–°ç»‘å®š</p><p>é€šé…ç¬¦çš„ä¸Šè¾¹ç•Œä¸ä¸‹è¾¹ç•Œ(excends ä¸ super )</p><p>java ä¸­çš„ç»§æ‰¿å¹¶ä¸æ˜¯æ³›å‹ä¸­çš„ç»§æ‰¿</p><p>java ä¸­çš„çˆ¶å­ç±»å…³ç³»åœ¨æ³›å‹ä¸­å¹¶ä¸æ˜¯çˆ¶å­ç±»å…³ç³»</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">private</span> <span class="token class-name">T</span> name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">T</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">></span></span> p  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä½¿ç”¨ ? ä¹‹åæ­£å¸¸ï¼Œä¸ä½¿ç”¨ ? ä¼šæŠ¥é”™ </span>    p<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ­£å¸¸</span>        <span class="token comment">// åªæœ‰ java ä¸­çš„çˆ¶å­å…³ç³»æ³›å‹æ˜¯ä¸è®¤çš„</span>     <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><h4 id="extends-ä¸-super"><a href="#extends-ä¸-super" class="headerlink" title="extends ä¸ super"></a>extends ä¸ super</h4><p> ? excends T ä»£è¡¨å¯ä»¥ä¼ è¿›æ¥ Tæœ¬èº« æˆ–è€… Tçš„å­ç±»ï¼ˆ æ¯”å¦‚ Integer ä¸ Number ï¼‰ ä¸Šè¾¹ç•Œ<br> ? super T ä»£è¡¨å¯ä»¥ä¼ è¿›æ¥ Tæœ¬èº« æˆ–è€… Tçš„çˆ¶ç±»     ä¸‹è¾¹ç•Œ</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ? excends T ä»£è¡¨å¯ä»¥ä¼ è¿›æ¥ Tæœ¬èº« æˆ–è€… Tçš„å­ç±»ï¼ˆ æ¯”å¦‚ Integer ä¸ Number ï¼‰ ä¸Šè¾¹ç•Œ</span><span class="token comment">// ? super T ä»£è¡¨å¯ä»¥ä¼ è¿›æ¥ Tæœ¬èº« æˆ–è€… Tçš„çˆ¶ç±» ä¸‹è¾¹ç•Œ</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">private</span> <span class="token class-name">T</span> name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">T</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> name<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>      <span class="token comment">// å¦‚æœæ˜¯ super çš„è¯åˆ™åº”è¯¥æ˜¯å¯ä»¥ä¼ å…¥ T å’Œ T çš„çˆ¶ç±»</span>  <span class="token comment">// è¡¨ç¤ºå¯ä»¥ä¼ å…¥ T å’Œ T çš„å­ç±»</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> excends <span class="token class-name">T</span><span class="token punctuation">></span></span> p<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">&#123;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">></span></span> p  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Person</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person4</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä½¿ç”¨ ? ä¹‹åæ­£å¸¸ï¼Œä¸ä½¿ç”¨ ? ä¼šæŠ¥é”™ </span>    p<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ­£å¸¸</span>        <span class="token comment">// åªæœ‰ java ä¸­çš„çˆ¶å­å…³ç³»æ³›å‹æ˜¯ä¸è®¤çš„</span>     <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ä»€ä¹ˆæ—¶å€™ç”¨ä¸Šè¾¹ç•Œï¼Ÿ</p><p>åœ¨è¯»å– T è¿™ä¸ªç±»å‹æ•°æ®çš„æ—¶å€™ï¼Œä½†ä¸å†™å…¥æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨ä¸Šè¾¹ç•Œ</p><p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ä¸‹è¾¹ç•Œï¼Ÿ</p><p>éœ€è¦å†™å…¥æ•°æ®ä½†æ˜¯ä¸éœ€è¦è¯»å–çš„æ—¶å€™ï¼Œä½¿ç”¨ä¸‹è¾¹ç•Œ</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>è¿›é˜¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æœåŠ¡å™¨ã€‘åœ¨ CentOS æœåŠ¡å™¨éƒ¨ç½² Springboot é¡¹ç›®(ä½¿ç”¨pm2æ‰˜ç®¡)</title>
    <link href="/2022/03/22/%E3%80%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%91%E5%9C%A8-CentOS-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2-Springboot-%E9%A1%B9%E7%9B%AE(%E4%BD%BF%E7%94%A8pm2-)/"/>
    <url>/2022/03/22/%E3%80%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%91%E5%9C%A8-CentOS-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2-Springboot-%E9%A1%B9%E7%9B%AE(%E4%BD%BF%E7%94%A8pm2-)/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <h2 id="åœ¨CentOS-æœåŠ¡å™¨éƒ¨ç½²-Springboot-é¡¹ç›®"><a href="#åœ¨CentOS-æœåŠ¡å™¨éƒ¨ç½²-Springboot-é¡¹ç›®" class="headerlink" title="åœ¨CentOS æœåŠ¡å™¨éƒ¨ç½² Springboot é¡¹ç›®"></a>åœ¨CentOS æœåŠ¡å™¨éƒ¨ç½² Springboot é¡¹ç›®</h2>          </div><div class="note note-primary">            <h4 id="å‡†å¤‡å·¥ä½œ-å®‰è£…-JDk"><a href="#å‡†å¤‡å·¥ä½œ-å®‰è£…-JDk" class="headerlink" title="å‡†å¤‡å·¥ä½œ | å®‰è£… JDk"></a>å‡†å¤‡å·¥ä½œ | å®‰è£… JDk</h4>          </div><span class="label label-warning">ä¾æ¬¡</span>æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒæŸ¥çœ‹è‡ªå·±çš„å¤„ç†å™¨å‹å·å¹¶å®‰è£…å¯¹åº”çš„ jdk<p><font size=2 color=Orange><font color=red>æ³¨æ„ï¼</font>wget å¹¶ä¸æ˜¯å”¯ä¸€ä¸‹è½½æ–‡ä»¶çš„æ–¹å¼ï¼Œå¦‚æœä¸‹è½½å¤ªæ…¢æˆ–è€…ä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥è€ƒè™‘å…¶ä»–æ–¹å¼ï¼ˆæ¯”å¦‚æˆ‘å°±æ˜¯ä¸‹è½½åˆ°æœ¬åœ°åï¼Œç”¨å®å¡”ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œè§£å‹ç¼©é‡å‘½åç­‰ä¸€ç³»åˆ—æ“ä½œéƒ½æ˜¯åœ¨å®å¡”å®Œæˆçš„ã€‚</font></p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># æŸ¥çœ‹å¤„ç†å™¨å‹å· è¿è¡Œç»“æœ x86_64uname -m# æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œè¿›å…¥ &#96;&#x2F;usr&#x2F;local&#96; æ–‡ä»¶å¤¹ä¸‹å¹¶åˆ›å»º jdk æ–‡ä»¶å¤¹å¹¶è¿›å…¥è¯¥æ–‡ä»¶å¤¹cd &#x2F;usr&#x2F;localmkdir jdkcd jdk# ä½¿ç”¨ wget+url çš„æ–¹å¼ä¸‹è½½ç›¸åº”çš„ jdk å‹ç¼©æ–‡ä»¶ï¼ˆæ¨èï¼‰wget https:&#x2F;&#x2F;www.oracle.com&#x2F;java&#x2F;technologies&#x2F;downloads&#x2F;#license-lightbox#æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œè§£å‹ç¼©æ–‡ä»¶ å¹¶ ç§»åŠ¨åˆ° &#96;jdk1.8&#96; æ–‡ä»¶å¤¹ä¸‹ï¼ˆå‹ç¼©åŒ…æ–‡ä»¶åå¯èƒ½ä¸ä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨ ls å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹æœ‰å“ªäº›æ–‡ä»¶sudo tar -xvf jdk-8u144-linux-x64.tar.gzmv jdk-8u144-linux-x64 jdk1.8# åˆ é™¤å‹ç¼©åŒ…rm -rf jdk-8u144-linux-x64.tar.gz# ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼ˆæ³¨æ„ä¸€å®šè¦åœ¨ root æ¨¡å¼ä¸‹æ‰§è¡Œï¼‰sudo vim &#x2F;etc&#x2F;profile# åœ¨è¯¥æ–‡ä»¶å†…åŠ å…¥ä»¥ä¸‹å†…å®¹ ï¼ˆvim çš„åŸºæœ¬ä½¿ç”¨æ“ä½œä¸å†èµ˜è¿°ï¼Œå¯ä»¥å»æˆ‘çš„åšå®¢é‡Œé¢æœç´¢&#96;vim&#96;æ‰¾åˆ°ç›¸åº”çš„æ–‡æ¡£ï¼‰# è®°å¾—æŸ¥çœ‹ file åœ°å€æ˜¯å¦æ­£ç¡®export JAVA_HOME&#x3D;&#x2F;usr&#x2F;local&#x2F;jdk&#x2F;jdk1.8export JRE_HOME&#x3D;&#x2F;usr&#x2F;local&#x2F;jdk&#x2F;jdk1.8&#x2F;jreexport CLASSPATH&#x3D;.:$JAVA_HOME&#x2F;LIB&#x2F;DT.JAR:$JAVA_HOME&#x2F;lib&#x2F;tools.jar:$JAVA_HOME&#x2F;lib:$CLASSPATHexport PATH&#x3D;$JAVA_HOME&#x2F;bin:$PATH# ä½¿ç”¨ esc + :wq ä¿å­˜å¹¶é€€å‡ºæ–‡æ¡£åï¼Œæ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œä½¿é…ç½®ç”Ÿæ•ˆsudo source &#x2F;etc&#x2F;profile# ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆjava -version# æ˜¾ç¤ºä¸‹åˆ—æç¤ºæ—¶ï¼Œå®‰è£…æˆåŠŸjava version &quot;1.8.0_144&quot; Java(TM) SE Runtime Environment (build 1.8.0_144-b03) Java HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode)# ä¸æˆåŠŸè¯·å›è¿‡å¤´æ£€æŸ¥å“ªä¸€æ­¥æ“ä½œé”™è¯¯äº†ï¼Œå°¤å…¶æ˜¯ç¯å¢ƒå˜é‡çš„æ–‡ä»¶åœ°å€æ˜¯å¦æ­£ç¡®ï¼ˆè®°å¾—å¸¸ä½¿ç”¨ ls éšæ—¶æŸ¥çœ‹ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <h4 id="åœ¨æœ¬åœ°å°†é¡¹ç›®æ‰“æˆ-jar-åŒ…"><a href="#åœ¨æœ¬åœ°å°†é¡¹ç›®æ‰“æˆ-jar-åŒ…" class="headerlink" title="åœ¨æœ¬åœ°å°†é¡¹ç›®æ‰“æˆ jar åŒ…"></a>åœ¨æœ¬åœ°å°†é¡¹ç›®æ‰“æˆ jar åŒ…</h4>          </div><p>æ‰“å¼€ IDEA åï¼Œåœ¨å³ä¾§çš„ <span class="label label-success">Maven</span> èœå•ä¸­ï¼Œæ‰§è¡Œä¸€æ¬¡â€™ <span class="label label-success">package</span> â€˜ï¼Œéšå Maven ä¼šåœ¨å·¦ä¾§ç›®å½•æ ‘ä¸­è‡ªåŠ¨ç”Ÿæˆ target ç›®å½•ï¼Œæ‰“å¼€å³å¯åœ¨ä¸‹é¢æ‰¾åˆ°ä¸é¡¹ç›®ååŒåçš„é¡¹ç›®åç§°<span class="label label-success">.jar</span> æ–‡ä»¶ï¼Œå°†å…¶ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ä»»æ„æ–‡ä»¶å¤¹ä¸‹ï¼ˆæˆ‘æ¨èåˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹â€™/home/JavaDemo â€˜å¹¶å­˜æ”¾åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼‰</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œè¿›å…¥åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼ˆæ–‡ä»¶å¤¹åç§°æŒ‰ä½ çš„æ¥ï¼‰cd &#x2F;home&#x2F;JavaDemo# æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œå¯åŠ¨ Springboot é¡¹ç›®java -jar é¡¹ç›®åç§°.jar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶å°å¼€å§‹æ‰“å°æ—¥å¿—ï¼Œåˆ™é¡¹ç›®å¯åŠ¨æˆåŠŸ</p><p><br><br><br><br></p><hr><p>åŸæœ¬åˆ°è¿™é‡Œåº”è¯¥å°±ç»“æŸäº†ï¼Œä½†æ˜¯ä¸ Hexo é¡¹ç›®ä¸€æ ·ï¼Œå½“ä½ å…³é—­ ssh çª—å£åï¼Œssh è¿æ¥æ–­å¼€ï¼Œé¡¹ç›®å°±ä¼šè‡ªåŠ¨å…³é—­äº†ï¼ˆè¯¥æ“ä½œç›¸å½“äºä½ å…³é—­äº†æœ¬åœ°çš„ terminal ç«¯å£å¹¶ä¸”åœ¨è·³å‡ºæ¥çš„å°å¼¹çª—ä¸­é€‰æ‹©äº†<span class="label label-danger">kill</span>è¿™ä¸ªè¿›ç¨‹ã€‚</p><p>äºæ˜¯æ¥ä¸‹æ¥å°±è¦æ€è€ƒï¼Œå¦‚ä½•ä¿è¯ Springboot é¡¹ç›®ç¨³å®šè¿è¡Œä¸å…³é—­å‘¢ï¼Ÿåœ¨ä¹‹å‰è¿›è¡Œ Hexo éƒ¨ç½²çš„æ—¶å€™ï¼Œæˆ‘è€ƒè™‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ä¿æŒ ssh é•¿è¿æ¥ï¼Œé¦–å…ˆä¸èƒ½å…³é—­çª—å£è¿™å°±æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘æœ¬åœ°çš„æœºå™¨ä¸€å…³æœºæœåŠ¡å™¨ä¹Ÿä¸èƒ½ç”¨äº†ï¼Œæˆ‘è¿˜ä¸å¦‚éƒ¨ç½²åˆ°æœ¬åœ°ï¼›å…¶æ¬¡å¦‚æœä¸€æ®µæ—¶é—´ä¸è¿›è¡Œæ“ä½œï¼Œssh ä¹Ÿä¼šè‡ªåŠ¨å¤±å»è¿æ¥ï¼ˆè¿™ä¸€ç‚¹åº”è¯¥å¯ä»¥è®¾ç½®ï¼Œä½†æ˜¯æˆ‘å¹¶æ²¡æœ‰è¿›è¡Œå°è¯•ï¼Œæ¯•ç«Ÿè¿™ç§æ–¹æ³•å¤ªé¸¡è‚‹äº†ï¼‰ã€‚</p><p>äºæ˜¯å°±æƒ³åˆ°äº† pm2ï¼Œå°†é¡¹ç›®äº¤ç”± pm2 æ‰˜ç®¡ï¼Œæ— è®º ssh è¿æ¥å¦‚ä½•éƒ½æ— æ‰€è°“ã€‚</p><div class="note note-success">            <h2 id="ä½¿ç”¨-pm2-æ‰˜ç®¡-Springboot-é¡¹ç›®"><a href="#ä½¿ç”¨-pm2-æ‰˜ç®¡-Springboot-é¡¹ç›®" class="headerlink" title="ä½¿ç”¨ pm2 æ‰˜ç®¡ Springboot é¡¹ç›®"></a>ä½¿ç”¨ pm2 æ‰˜ç®¡ Springboot é¡¹ç›®</h2>          </div><div class="note note-primary">            <h4 id="å®‰è£…-pm2"><a href="#å®‰è£…-pm2" class="headerlink" title="å®‰è£… pm2"></a>å®‰è£… pm2</h4>          </div><ul><li>å®‰è£… nodejs</li><li>npm install pm2 -g</li></ul><div class="note note-primary">            <h4 id="åˆ›å»ºæ‰˜ç®¡æ–‡ä»¶"><a href="#åˆ›å»ºæ‰˜ç®¡æ–‡ä»¶" class="headerlink" title="åˆ›å»ºæ‰˜ç®¡æ–‡ä»¶"></a>åˆ›å»ºæ‰˜ç®¡æ–‡ä»¶</h4>          </div><p>åœ¨é¡¹ç›®çš„åŒçº§ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª name.json æ–‡ä»¶ï¼ˆname éšä½ å–ï¼Œç›´æ¥å« name ä¹Ÿå¯ä»¥ï¼‰</p><p>å°†ä¸‹åˆ—ä»£ç å¤åˆ¶åˆ° name.json æ–‡ä»¶å¤¹ä¸­å»</p><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"my-server"</span><span class="token punctuation">,</span>    <span class="token property">"script"</span><span class="token operator">:</span> <span class="token string">"/usr/local/jdk/jdk8/bin/java"</span><span class="token punctuation">,</span>    <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">"-jar"</span><span class="token punctuation">,</span>        <span class="token string">"demo4.jar"</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token property">"exec_interpreter"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    <span class="token property">"exec_mode"</span><span class="token operator">:</span> <span class="token string">"fork"</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>name è¿›ç¨‹åç§°ï¼ˆæ˜¾ç¤ºåœ¨<code>pm2 list</code>å‘½ä»¤ä¸­ï¼‰</li><li>script æ‰§è¡Œè¿›ç¨‹åç§°ï¼Œå¦‚æœéœ€è¦æ‰§è¡ŒPHPè„šæœ¬åˆ™å¡«å†™phpè§£é‡Šå™¨çš„è·¯å¾„ï¼Œæœ¬æ–‡ä¸ºjava(æ‰¾åˆ°ä½ çš„ jdk/bin/java)</li><li>args ä¼ ç»™æ‰§è¡Œè¿›ç¨‹çš„å‚æ•°ï¼Œå¤šä¸ªå‚æ•°ä»¥æ•°ç»„å•å…ƒåˆ†å‰²</li><li>exec_interpreter NodeJsè§£æå™¨ï¼Œæœ¬æ–‡ä¸é€‚ç”¨</li><li>exec_mode æ‰§è¡Œæ¨¡å¼[cluster|fork]è¿™ä¸ªé’ˆå¯¹NodeJsåº”ç”¨çš„é…ç½®ï¼ŒéNodeJsåº”ç”¨ç»Ÿä¸€fork</li></ul><p>ä¿å­˜å¹¶é€€å‡ºæ–‡ä»¶</p><br><div class="note note-primary">            <h4 id="å¯åŠ¨é¡¹ç›®"><a href="#å¯åŠ¨é¡¹ç›®" class="headerlink" title="å¯åŠ¨é¡¹ç›®"></a>å¯åŠ¨é¡¹ç›®</h4>          </div><p>ä½¿ç”¨ä¸‹åˆ—æŒ‡ä»¤å¯åŠ¨ pm2 é¡¹ç›®</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pm2 start name.json<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>é¡¹ç›®å¯åŠ¨åï¼Œæ§åˆ¶å°ä¸ä¼šæœ‰ä»»ä½•è¾“å‡ºï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æµè§ˆå™¨æˆ–è€… postman è¿›è¡Œè®¿é—®æµ‹è¯•ã€‚</p><p>è¿›è¡Œå…¶ä»–æ“ä½œå¯ä»¥å‚è€ƒä¸‹åˆ—å‘½ä»¤</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># æŸ¥çœ‹ç›®å‰ pm2 æ‰˜ç®¡äº†å“ªäº›é¡¹ç›®pm2 list# æ¯ä¸€ä¸ªäº¤ç”± pm2 æ‰˜ç®¡çš„é¡¹ç›®éƒ½ä¼šè·å¾—ä¸€ä¸ª idï¼Œä¸‹åˆ—çš„ 0 å°±æ˜¯ ä¸€ä¸ª id# åœæ­¢æŸä¸ª pm2 é¡¹ç›®ï¼ˆ 0æ˜¯ è¿›ç¨‹id æƒ³å…³å“ªä¸ªå°±å…³å“ªä¸ªï¼‰pm2 stop 0# å·²ç»äº¤ç”± pm2 æ‰˜ç®¡çš„é¡¹ç›®ï¼Œå†æ¬¡å¯åŠ¨çš„è¯æ— éœ€æ‰¾åˆ°ç›¸åº”çš„ js&#x2F;JSON æ–‡ä»¶ï¼Œåªéœ€ start ç›¸åº”çš„è¿›ç¨‹ id å°±å¯ä»¥pm2 start 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><p><br><br><br></p><div class="note note-primary">            <h2 id="è®¿é—®æ•ˆæœ"><a href="#è®¿é—®æ•ˆæœ" class="headerlink" title="è®¿é—®æ•ˆæœ"></a>è®¿é—®æ•ˆæœ</h2>          </div><p>æ­¤æ—¶å·²ç»å…³é—­äº† ssh è¿æ¥äº†</p><p><img src="https://img-blog.csdnimg.cn/36b0c50031f6433eb6d94ffbd9f772f2.png" alt="è®¿é—®æ•ˆæœ"></p>]]></content>
    
    
    <categories>
      
      <category>æœåŠ¡å™¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœåŠ¡å™¨</tag>
      
      <tag>é¡¹ç›®éƒ¨ç½²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æœåŠ¡å™¨ã€‘åœ¨è…¾è®¯äº‘ä¸Šå¯ç”¨ Nexus ç§æœçš„ä¸€äº›é—®é¢˜</title>
    <link href="/2022/03/22/%E3%80%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%91%E5%9C%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E4%B8%8A%E5%90%AF%E7%94%A8-Nexus-%E7%A7%81%E6%9C%8D%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/"/>
    <url>/2022/03/22/%E3%80%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%91%E5%9C%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E4%B8%8A%E5%90%AF%E7%94%A8-Nexus-%E7%A7%81%E6%9C%8D%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="åœ¨è…¾è®¯äº‘ä¸Šå¯ç”¨-Nexus-ç§æœçš„ä¸€äº›é—®é¢˜"><a href="#åœ¨è…¾è®¯äº‘ä¸Šå¯ç”¨-Nexus-ç§æœçš„ä¸€äº›é—®é¢˜" class="headerlink" title="åœ¨è…¾è®¯äº‘ä¸Šå¯ç”¨ Nexus ç§æœçš„ä¸€äº›é—®é¢˜"></a>åœ¨è…¾è®¯äº‘ä¸Šå¯ç”¨ Nexus ç§æœçš„ä¸€äº›é—®é¢˜</h1><hr><h3 id="Linux-æœåŠ¡å™¨ä¿¡æ¯"><a href="#Linux-æœåŠ¡å™¨ä¿¡æ¯" class="headerlink" title="Linux æœåŠ¡å™¨ä¿¡æ¯"></a>Linux æœåŠ¡å™¨ä¿¡æ¯</h3><blockquote><p>Linux VM-4-17-centos 4.18.0-305.19.1.el8_4.x86_64 #1 SMP Wed Sep 15 15:39:39 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</p><p>x86_64</p></blockquote><p><br><br><br><br><br></p><div class="note note-primary">            <p><strong>æŠ¥é”™</strong></p>          </div><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c">WARNING<span class="token operator">:</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>WARNING<span class="token operator">:</span> Detected execution as <span class="token string">"root"</span> user<span class="token punctuation">.</span>  This is NOT recommended<span class="token operator">!</span>WARNING<span class="token operator">:</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>Starting nexus<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-success">            <p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>          </div><p>å¯¹äºè¿™ä¸ªé—®é¢˜ç½‘ä¸Šç»™å‡ºäº†å¾ˆå¤šçš„è§£å†³åŠæ³•ï¼Œä½†æ˜¯æ—¢ç„¶ç»™å‡ºçš„é—®é¢˜æ˜¯â€œ<span class="label label-danger">ä¸èƒ½ä½¿ç”¨ rootç”¨æˆ·</span>â€ï¼Œé‚£ä¹ˆæˆ‘çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨<span class="label label-success">exit</span>å‘½ä»¤é€€å‡º <span class="label label-danger">root</span> æ¨¡å¼åé‡æ–°å¯åŠ¨ã€‚</p><div class="note note-primary">            <p><strong>é—®é¢˜</strong></p>          </div><p>ç”±äº Nexus çš„é»˜è®¤ç«¯å£ 8081 ä¸å¼€å‘ä¸­çš„ 8080 æ¯”è¾ƒæ¥è¿‘ï¼Œä¸€èˆ¬å¼€å‘ä¸­æˆ‘ä¼šå°† 8081 ä½œä¸ºç¬¬äºŒé¡¹ç›®çš„å¯åŠ¨æ¥å£ï¼ˆæ¯”å¦‚ Vue ç­‰ï¼‰ï¼Œå› æ­¤æˆ‘å°† Nexus çš„é»˜è®¤ç«¯å£ä¿®æ”¹ä¸ºäº† 3939ã€‚</p><div class="note note-success">            <p><strong>ä¿®æ”¹æ–¹æ³•å¦‚ä¸‹ï¼š</strong></p>          </div><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ | æ‰“å¼€ nexus çš„é»˜è®¤é…ç½®æ–‡ä»¶vim .&#x2F;etc&#x2F;nexus-default.properties# æ·»åŠ ä»¥ä¸‹ä»£ç åé‡å¯ Nexusapplication-port&#x3D;3939<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <p><strong>é—®é¢˜</strong></p>          </div><p>æ˜æ˜å®‰è£…äº† jdk1.8ï¼Œé…ç½®å¥½äº†ç¯å¢ƒå˜é‡ï¼Œä½†æ˜¯è¿è¡Œè¿˜æ˜¯å‡ºç°ä»¥ä¸‹é”™è¯¯</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">No suitable Java Virtual Machine could be found on your system.The version of the JVM must be at least 1.8 and at most 1.8.Please define INSTALL4J_JAVA_HOME to point to a suitable JVM.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><div class="note note-success">            <p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>          </div><p>åœ¨ä½¿ç”¨ vim æ‰“å¼€  /usr/local/nexus/nexus-3.38.0-01/bin/nexu</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># ä½¿ç”¨ vim æ‰“å¼€ bin æ–‡ä»¶å¤¹ä¸‹çš„ nexus æ–‡ä»¶vim &#x2F;usr&#x2F;local&#x2F;nexus&#x2F;nexus-3.38.0-01&#x2F;bin&#x2F;nexus# æ·»åŠ å¦‚ä¸‹ä»£ç INSTALL4J_JAVA_HOME_OVERRIDE&#x3D;&#x2F;usr&#x2F;local&#x2F;jdk&#x2F;jdk8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="å…³äº-vim"><a href="#å…³äº-vim" class="headerlink" title="å…³äº vim"></a>å…³äº vim</h2><p>å¦‚æœä¸ç†Ÿæ‚‰ vim æ“ä½œçš„è¯å¯ä»¥<a href="http://110.40.191.51/2021/10/10/%E3%80%90%E8%AE%B0%E3%80%91Vim%EF%BD%9C%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6/">ç‚¹å‡»æ­¤å¤„</a>æŸ¥çœ‹ vim ç›¸å…³æ“ä½œ</p>]]></content>
    
    
    <categories>
      
      <category>æœåŠ¡å™¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœåŠ¡å™¨</tag>
      
      <tag>Maven</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€IDEAã€‘Mac IDEA å¿«æ·é”®</title>
    <link href="/2022/03/20/IDEA/%E3%80%90IDEA%E3%80%91Mac-IDEA-%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    <url>/2022/03/20/IDEA/%E3%80%90IDEA%E3%80%91Mac-IDEA-%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="Mac-Idea-å¿«æ·é”®"><a href="#Mac-Idea-å¿«æ·é”®" class="headerlink" title="Mac Idea å¿«æ·é”®"></a>Mac Idea å¿«æ·é”®</h1><hr><h3 id="æ„é€ å‡½æ•°ã€set-getæ–¹æ³•ã€toStringã€Overrideã€Implementã€Test"><a href="#æ„é€ å‡½æ•°ã€set-getæ–¹æ³•ã€toStringã€Overrideã€Implementã€Test" class="headerlink" title="æ„é€ å‡½æ•°ã€set/getæ–¹æ³•ã€toStringã€Overrideã€Implementã€Test"></a>æ„é€ å‡½æ•°ã€set/getæ–¹æ³•ã€toStringã€Overrideã€Implementã€Test</h3><div style="align-items: center;display:flex;height:50px;text-align:center;background:#29313B;border-radius:25px;border:1px solid #eae6e6;"><span style="margin-left:45%;color:white;font-size:20px;font-family:é»‘ä½“">Command+N</span></div><br><div style="text-align:center"><img src="https://files.catbox.moe/ntxubg.png" style="width:200px"  /></div>]]></content>
    
    
    <categories>
      
      <category>IDEA</category>
      
    </categories>
    
    
    <tags>
      
      <tag>IDEA</tag>
      
      <tag>å¿«æ·é”®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Springbootã€‘ çº¦å®šå¤§äºé…ç½®</title>
    <link href="/2022/03/19/%E3%80%90Springboot%E3%80%91Springboot-%E7%BA%A6%E5%AE%9A%E5%A4%A7%E4%BA%8E%E9%85%8D%E7%BD%AE/"/>
    <url>/2022/03/19/%E3%80%90Springboot%E3%80%91Springboot-%E7%BA%A6%E5%AE%9A%E5%A4%A7%E4%BA%8E%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h2 id="Springboot-çº¦å®šå¤§äºé…ç½®"><a href="#Springboot-çº¦å®šå¤§äºé…ç½®" class="headerlink" title="Springboot çº¦å®šå¤§äºé…ç½®"></a>Springboot çº¦å®šå¤§äºé…ç½®</h2><hr><div class="note note-primary">            <h4 id="å…³äºçº¦å®šå¤§äºé…ç½®ã€‚"><a href="#å…³äºçº¦å®šå¤§äºé…ç½®ã€‚" class="headerlink" title="å…³äºçº¦å®šå¤§äºé…ç½®ã€‚"></a>å…³äºçº¦å®šå¤§äºé…ç½®ã€‚</h4>          </div><p>é¦–å…ˆè¿™æ˜¯ä¸€ç§å¼€å‘æ€æƒ³ï¼Œå¹¶ä¸æ˜¯è¯´ Springboot åˆ›é€ äº†è¿™ç§æ€æƒ³ï¼Œè€Œæ˜¯ Springboot å®è·µäº†è¿™ä¸€æ€æƒ³ã€‚</p><div class="note note-primary">            <h4 id="Springboot-å¯¹äºè¿™ç§æ€æƒ³çš„å®ç°è¿‡ç¨‹"><a href="#Springboot-å¯¹äºè¿™ç§æ€æƒ³çš„å®ç°è¿‡ç¨‹" class="headerlink" title="Springboot å¯¹äºè¿™ç§æ€æƒ³çš„å®ç°è¿‡ç¨‹"></a>Springboot å¯¹äºè¿™ç§æ€æƒ³çš„å®ç°è¿‡ç¨‹</h4>          </div><p>åœ¨æˆ‘ä»¬åˆ›å»º Springboot é¡¹ç›®çš„æ—¶å€™ï¼Œæ¡†æ¶ä¼šæ ¹æ®pom æ–‡ä»¶ä¸­çš„dependencies å¯¹é¡¹ç›®åšå‡ºç›¸å…³é…ç½®ï¼ˆå¥½æ¯”æˆ‘ä»¬åœ¨ä½¿ç”¨äº† web ä¾èµ–åï¼Œä¸å†éœ€è¦æ‰‹åŠ¨é…ç½® Tomcatï¼Œæ¡†æ¶è‡ªåŠ¨é…ç½®å¥½ï¼‰ï¼Œè¿™ä¸€æ“ä½œå¯ä»¥å¤§å¤§ç®€åŒ–å¼€å‘ï¼ŒèŠ‚çœå¾ˆå¤šä¸å¿…è¦çš„æ“ä½œã€‚</p><p>ä½†æ˜¯é»˜è®¤é…ç½®çš„å¹¶ä¸ä¸€å®šæ˜¯æœ€å¥½çš„ã€‚æŸäº›é¡¹ç›®å¯èƒ½éœ€è¦ DIYï¼Œå¦‚æœä»…æä¾›é»˜è®¤é…ç½®ï¼Œé‚£ä¹ˆè‚¯å®šä¼šä¸æ»¡è¶³ä¸€äº›ç”¨æˆ·çš„éœ€æ±‚ï¼Œå› æ­¤ Springboot å·§å¦™åœ°åˆ©ç”¨å®¹å™¨ï¼Œè®©ç”¨æˆ·å¯ä»¥è‡ªå·± DIYã€‚</p><p>å…·ä½“çš„å®ç°è¿‡ç¨‹å°±æ˜¯ï¼ŒSpringboot åˆ©ç”¨@ConfigurationOnMiss æ³¨è§£ï¼Œåˆ¤æ–­å®¹å™¨ä¸­æ˜¯å¦æœ‰ A å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ A å®ä¾‹åŒ–å¯¹è±¡ä»¥ä¾›ç”¨æˆ·ä½¿ç”¨ï¼Œæœ‰åˆ™ä¸è¿›è¡Œæ“ä½œã€‚</p><div class="note note-primary">            <h4 id="SpringBootä¸­çš„çº¦å®š"><a href="#SpringBootä¸­çš„çº¦å®š" class="headerlink" title="SpringBootä¸­çš„çº¦å®š"></a>SpringBootä¸­çš„çº¦å®š</h4>          </div><p>1ã€Mavençš„ç›®å½•ç»“æ„ã€‚é»˜è®¤æœ‰resourcesæ–‡ä»¶å¤¹,å­˜æ”¾èµ„æºé…ç½®æ–‡ä»¶ã€‚src-main-resources,src-main-javaã€‚é»˜è®¤çš„ç¼–è¯‘ç”Ÿæˆçš„ç±»éƒ½åœ¨targeæ–‡ä»¶å¤¹ä¸‹é¢<br>2ã€spring booté»˜è®¤çš„é…ç½®æ–‡ä»¶å¿…é¡»æ˜¯ï¼Œä¹Ÿåªèƒ½æ˜¯application.å‘½åçš„ymlæ–‡ä»¶æˆ–è€…propertiesæ–‡ä»¶ï¼Œä¸”å”¯ä¸€<br>3ã€application.ymlä¸­é»˜è®¤å±æ€§ã€‚æ•°æ®åº“è¿æ¥ä¿¡æ¯å¿…é¡»æ˜¯ä»¥spring: datasource: ä¸ºå‰ç¼€ï¼›å¤šç¯å¢ƒé…ç½®ã€‚è¯¥å±æ€§å¯ä»¥æ ¹æ®è¿è¡Œç¯å¢ƒè‡ªåŠ¨è¯»å–ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼›ç«¯å£å·ã€è¯·æ±‚è·¯å¾„ç­‰</p><div class="note note-primary">            <h4 id="ç›¸å…³æ³¨è§£"><a href="#ç›¸å…³æ³¨è§£" class="headerlink" title="ç›¸å…³æ³¨è§£"></a>ç›¸å…³æ³¨è§£</h4>          </div><hr><table><thead><tr><th>æ³¨è§£</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><font color=orange>@Configuration</font></td><td>å‘Šè¯‰å®¹å™¨è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</td></tr><tr><td><font color=orange>@Bean</font></td><td>åˆ›å»ºä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡</td></tr><tr><td><font color=orange>@ConfigurationOnMiss</font></td><td>åˆ¤æ–­å®¹å™¨ä¸­æ˜¯å¦æœ‰è¿™ä¸ªå®ä¾‹åŒ–å¯¹è±¡ï¼Œæœ‰åˆ™æ‰§è¡Œæ³¨è§£ä¸‹æ–¹çš„æ–¹æ³•ï¼ˆé€šå¸¸æ˜¯åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„å®ä¾‹åŒ–å¯¹è±¡ï¼‰</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Springboot</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Springboot</tag>
      
      <tag>å…¥é—¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Vueã€‘å…¥é—¨ä¸è¿›é˜¶ï¼ˆå°šæœªå®Œæˆè¿›é˜¶éƒ¨åˆ†ï¼‰</title>
    <link href="/2022/03/17/%E3%80%90Vue%E3%80%91-Vue-%EF%BD%9C-%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6%EF%BC%88%E5%B0%9A%E6%9C%AA%E5%AE%8C%E6%88%90%E8%BF%9B%E9%98%B6%E9%83%A8%E5%88%86%EF%BC%89/"/>
    <url>/2022/03/17/%E3%80%90Vue%E3%80%91-Vue-%EF%BD%9C-%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6%EF%BC%88%E5%B0%9A%E6%9C%AA%E5%AE%8C%E6%88%90%E8%BF%9B%E9%98%B6%E9%83%A8%E5%88%86%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<div class="note note-primary">            <h4 id="ç¬”è®°åœ°å€"><a href="#ç¬”è®°åœ°å€" class="headerlink" title="ç¬”è®°åœ°å€"></a>ç¬”è®°åœ°å€</h4><p><a href="https://github.com/Jimecc/Vue_Study">https://github.com/Jimecc/Vue_Study</a></p>          </div><p>ç›®å‰è¿˜æœªæ•´ç†æˆç¬”è®°</p>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue</tag>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘Java å†…éƒ¨ç±»</title>
    <link href="/2022/03/14/%E3%80%90Java%E3%80%91Java%20%E5%86%85%E9%83%A8%E7%B1%BB/"/>
    <url>/2022/03/14/%E3%80%90Java%E3%80%91Java%20%E5%86%85%E9%83%A8%E7%B1%BB/</url>
    
    <content type="html"><![CDATA[<h2 id="Java-å†…éƒ¨ç±»"><a href="#Java-å†…éƒ¨ç±»" class="headerlink" title="Java å†…éƒ¨ç±»"></a>Java å†…éƒ¨ç±»</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œç±»å’Œç±»ä¹‹é—´æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œä½†æ˜¯å†…éƒ¨ç±»çš„å‡ºç°æ‰“ç ´äº†è¿™ç§ç‹¬ç«‹å…³ç³»ï¼Œè®©ä¸€ä¸ªç±»æˆä¸ºå¦å¤–ä¸€ä¸ªç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå’Œæˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ç­‰åŒçº§åˆ«ã€‚</p><h4 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å†…éƒ¨ç±»"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å†…éƒ¨ç±»" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å†…éƒ¨ç±»"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å†…éƒ¨ç±»</h4><p>é‡‡ç”¨å†…éƒ¨ç±»å¯ä»¥éšè—ç»†èŠ‚å’Œå†…éƒ¨ç»“æ„ï¼Œå°è£…æ€§æ›´å¥½ï¼Œè®©ç¨‹åºçš„ç»“æ„æ›´åŠ åˆç†ã€‚</p><div class="note note-primary">            <h3 id="éé™æ€å†…éƒ¨ç±»"><a href="#éé™æ€å†…éƒ¨ç±»" class="headerlink" title="éé™æ€å†…éƒ¨ç±»"></a>éé™æ€å†…éƒ¨ç±»</h3>          </div><p>éé™æ€å†…éƒ¨ç±»çš„ä½¿ç”¨å°±æ˜¯å°†å†…éƒ¨ç±»ä½œä¸ºå¤–éƒ¨ç±»çš„ä¸€ä¸ªæˆå‘˜å˜é‡/æˆå‘˜æ–¹æ³•æ¥ä½¿ç”¨ï¼Œæ‰€ä»¥å¿…é¡»ä¾èµ–å¤–éƒ¨ç±»çš„å¯¹è±¡æ‰èƒ½è°ƒç”¨ï¼Œç”¨æ³•ä¸æˆå‘˜å˜é‡/æˆå‘˜æ–¹æ³•æ˜¯ä¸€è‡´çš„ã€‚</p><div class="note note-primary">            <h4 id="ç±»ä¸­çš„å†…éƒ¨ç±»"><a href="#ç±»ä¸­çš„å†…éƒ¨ç±»" class="headerlink" title="ç±»ä¸­çš„å†…éƒ¨ç±»"></a>ç±»ä¸­çš„å†…éƒ¨ç±»</h4>          </div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ç±»æ–‡ä»¶</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OutClass</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InnerClass</span><span class="token punctuation">&#123;</span>        <span class="token keyword">private</span> <span class="token class-name">String</span> innerName<span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"InnerClashh display"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>innerName<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token class-name">InnerClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>innerName <span class="token operator">=</span> <span class="token string">"Inner Class"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// Main æ–¹æ³•è¿è¡Œä½“</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo4Application</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//        SpringApplication.run(Demo4Application.class,args);</span>        <span class="token comment">// éé™æ€å†…éƒ¨ç±»ï¼ˆç±»ç§ç±»ï¼‰</span>        <span class="token class-name">OutClass</span> outClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">OutClass<span class="token punctuation">.</span>InnerClass</span> innerClass <span class="token operator">=</span> outClass<span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token class-name">InnerClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        innerClass<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <h4 id="æ–¹æ³•ä½“ä¸­çš„å†…éƒ¨ç±»"><a href="#æ–¹æ³•ä½“ä¸­çš„å†…éƒ¨ç±»" class="headerlink" title="æ–¹æ³•ä½“ä¸­çš„å†…éƒ¨ç±»"></a>æ–¹æ³•ä½“ä¸­çš„å†…éƒ¨ç±»</h4>          </div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OutClass</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> outerName<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">class</span> <span class="token class-name">InnerClass</span><span class="token punctuation">&#123;</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Method Inner class"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">InnerClass</span> innerClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InnerClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        innerClass<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// Main æ–¹æ³•è¿è¡Œä½“</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo4Application</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">OutClass</span> outClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        outClass<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <h3 id="é™æ€å†…éƒ¨ç±»"><a href="#é™æ€å†…éƒ¨ç±»" class="headerlink" title="é™æ€å†…éƒ¨ç±»"></a>é™æ€å†…éƒ¨ç±»</h3>          </div><p>é™æ€å†…éƒ¨ç±»çš„æ„é€ ä¸éœ€è¦ä¾èµ–äºå¤–éƒ¨ç±»å¯¹è±¡ï¼Œç±»ä¸­çš„æ‰€æœ‰é™æ€ç»„ä»¶éƒ½ä¸éœ€è¦ä¾èµ–äºä»»ä½•å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»æœ¬èº«è¿›è¡Œæ„é€ ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticClass</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">InnerClass</span><span class="token punctuation">&#123;</span>        <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token class-name">InnerName</span><span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token class-name">InnerClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name"><span class="token namespace">this<span class="token punctuation">.</span></span>InnerName</span> <span class="token operator">=</span> <span class="token string">"Inner Name 123"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"InnerClass Display"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">InnerName</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// è¿è¡Œä½“ 1 Main æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ags<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">InnerClass</span> innerClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InnerClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        innerClass<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo4Application</span> <span class="token punctuation">&#123;</span><span class="token comment">// è¿è¡Œä½“ 2 Main æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">StaticClass<span class="token punctuation">.</span>InnerClass</span> innerClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StaticClass<span class="token punctuation">.</span>InnerClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        innerClass<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <h3 id="åŒ¿åå†…éƒ¨ç±»"><a href="#åŒ¿åå†…éƒ¨ç±»" class="headerlink" title="åŒ¿åå†…éƒ¨ç±»"></a>åŒ¿åå†…éƒ¨ç±»</h3>          </div><p>æ²¡æœ‰åå­—çš„å†…éƒ¨ç±»ï¼Œç›´æ¥åœ¨å¤–éƒ¨ç±»ä¸­å®ç°ä¸€ä¸ªæ¥å£ï¼Œå¹¶å°†å®ç°ä¿¡æ¯å†™åœ¨å…¶ä¸­ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo4Application</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// åŒ¿åå†…éƒ¨ç±»</span>        <span class="token class-name">MyInterface</span> myInterface <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyInterface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                        <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello Interface"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name"><span class="token namespace">myInterface<span class="token punctuation">.</span></span>Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>è¿›é˜¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€å­¦ã€‘ Java æ‰‹åŠ¨/è‡ªåŠ¨ æ‹†ç®±è£…ç®±</title>
    <link href="/2022/03/12/%E3%80%90%E5%AD%A6%E3%80%91Java%E8%87%AA%E5%8A%A8%E8%A3%85%E7%AE%B1%E4%B8%8E%E6%8B%86%E7%AE%B1/"/>
    <url>/2022/03/12/%E3%80%90%E5%AD%A6%E3%80%91Java%E8%87%AA%E5%8A%A8%E8%A3%85%E7%AE%B1%E4%B8%8E%E6%8B%86%E7%AE%B1/</url>
    
    <content type="html"><![CDATA[<h1 id="Java-è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"><a href="#Java-è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±" class="headerlink" title="Java è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"></a>Java è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±</h1><div class="note note-primary">            <h2 id="åŸºæœ¬ç±»ä¸åŒ…è£…ç±»"><a href="#åŸºæœ¬ç±»ä¸åŒ…è£…ç±»" class="headerlink" title="åŸºæœ¬ç±»ä¸åŒ…è£…ç±»"></a>åŸºæœ¬ç±»ä¸åŒ…è£…ç±»</h2>          </div><table><thead><tr><th align="center">åŸºæœ¬ç±»</th><th align="center">å¤§å°</th><th align="center">åŒ…è£…ç±»</th></tr></thead><tbody><tr><td align="center">boolean</td><td align="center">/</td><td align="center">Boolean</td></tr><tr><td align="center">char</td><td align="center">16bit</td><td align="center">Character</td></tr><tr><td align="center">byte</td><td align="center">8bit</td><td align="center">Byte</td></tr><tr><td align="center">short</td><td align="center">16bit</td><td align="center">Short</td></tr><tr><td align="center">int</td><td align="center">32bit</td><td align="center">Integer</td></tr><tr><td align="center">long</td><td align="center">64bit</td><td align="center">Long</td></tr><tr><td align="center">float</td><td align="center">32bit</td><td align="center">Float</td></tr><tr><td align="center">double</td><td align="center">64bit</td><td align="center">Double</td></tr><tr><td align="center">void</td><td align="center">/</td><td align="center">Void</td></tr><tr><td align="center"><font color=white>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</font></td><td align="center"><font color=white>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</font></td><td align="center"><font color=white>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</font></td></tr></tbody></table><div class="note note-primary">            <h2 id="ä¸ºä»€ä¹ˆä¼šæœ‰è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"><a href="#ä¸ºä»€ä¹ˆä¼šæœ‰è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šæœ‰è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"></a>ä¸ºä»€ä¹ˆä¼šæœ‰è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±</h2>          </div><img src="https://img-blog.csdnimg.cn/ebc60d289ca849c3b51cca2e6831619d.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5LiN6aOf6Iqx55Sf55qE54yr,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="è£…ç®±æ‹†ç®±" style="zoom:50%;" /><p>å¦‚å›¾æ‰€ç¤ºï¼Œå½“æˆ‘æ–°å»ºä¸€ä¸ª <code>List&lt;int&gt;</code>çš„æ—¶å€™ï¼Œä»£ç æŠ¥é”™äº†ï¼Œå¯ä»¥çœ‹åˆ° IDEA æç¤ºæˆ‘å¯ä»¥é€šè¿‡ java.lang.Integer æ¥æ›¿æ¢ intã€‚</p><p>åŒ…æ‹¬ Listã€Mapåœ¨å†…çš„è®¸å¤šæ–¹æ³•éƒ½åªèƒ½ä½¿ç”¨åŒ…è£…ç±»ï¼Œå› æ­¤æ‹†ç®±ä¸è£…ç®±æ˜¯æœ‰å­˜åœ¨çš„å¿…è¦çš„ã€‚</p><div class="note note-primary">            <h2 id="æ‰‹åŠ¨æ‹†ç®±ã€è£…ç®±"><a href="#æ‰‹åŠ¨æ‹†ç®±ã€è£…ç®±" class="headerlink" title="æ‰‹åŠ¨æ‹†ç®±ã€è£…ç®±"></a>æ‰‹åŠ¨æ‹†ç®±ã€è£…ç®±</h2>          </div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> inta <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">// è‡ªå®šä¹‰ä¸€ä¸ª Integer ç±»å‹çš„å˜é‡</span><span class="token class-name">Integer</span> integer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token string">"20"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä½¿ç”¨ intValue()æ–¹æ³• æ‰‹åŠ¨æ‹†ç®±</span><span class="token keyword">int</span> int2 <span class="token operator">=</span> integer<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä½¿ç”¨ valueOf ()æ–¹æ³• æ‰‹åŠ¨è£…ç®±</span><span class="token class-name">Integer</span> integer3 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>inta<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å®ç°äº† String ç±»å‹åˆ° int ç±»å‹çš„è½¬æ¢</span>inta <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å®ç°äº† int ç±»å‹åˆ° Sting ç±»å‹çš„è½¬æ¢</span><span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">""</span><span class="token operator">+</span>inta<span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è½¬æ¢çš„å­—ç¬¦ä¸²æ˜¯ï¼š"</span><span class="token operator">+</span>str1<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <h2 id="è‡ªä»-Java1-5-ä¹‹åï¼ŒJava-ä¾¿å¯ä»¥å®ç°è‡ªåŠ¨è£…ç®±æ‹†ç®±ã€‚"><a href="#è‡ªä»-Java1-5-ä¹‹åï¼ŒJava-ä¾¿å¯ä»¥å®ç°è‡ªåŠ¨è£…ç®±æ‹†ç®±ã€‚" class="headerlink" title="è‡ªä» Java1.5 ä¹‹åï¼ŒJava ä¾¿å¯ä»¥å®ç°è‡ªåŠ¨è£…ç®±æ‹†ç®±ã€‚"></a>è‡ªä» Java1.5 ä¹‹åï¼ŒJava ä¾¿å¯ä»¥å®ç°è‡ªåŠ¨è£…ç®±æ‹†ç®±ã€‚</h2>          </div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ä» JDK1.5 å¼€å§‹ï¼Œå¢åŠ äº†è‡ªåŠ¨æ‹†ç®±ä¸è‡ªåŠ¨è£…ç®±</span><span class="token comment">// è‡ªåŠ¨è£…ç®±</span><span class="token class-name">Integer</span> it2 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">// è‡ªåŠ¨æ‹†ç®±</span><span class="token keyword">int</span> int3 <span class="token operator">=</span> it2<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <h2 id="ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿"><a href="#ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿" class="headerlink" title="ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿"></a>ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿</h2>          </div><div class="note note-primary">            <h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3>          </div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span><span class="token class-name">Integer</span> j <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">==</span> j <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span><span class="token class-name">Integer</span> k <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span><span class="token class-name">Integer</span> p <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>k <span class="token operator">==</span> p <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span><span class="token class-name">Integer</span> c <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">;</span><span class="token class-name">Integer</span> d <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c <span class="token operator">==</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token class-name">Integer</span> e <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">129</span><span class="token punctuation">;</span><span class="token class-name">Integer</span> f <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">129</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e <span class="token operator">==</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h3>          </div><p>Integer.classåœ¨è£…è½½ï¼ˆJavaè™šæ‹Ÿæœºå¯åŠ¨ï¼‰æ—¶ï¼Œå…¶å†…éƒ¨ç±»å‹IntegerCacheçš„staticå—å³å¼€å§‹æ‰§è¡Œï¼Œå®ä¾‹åŒ–å¹¶æš‚å­˜æ•°å€¼åœ¨-128åˆ°127ä¹‹é—´çš„Integerç±»å‹å¯¹è±¡ã€‚å½“è‡ªåŠ¨è£…ç®±intå‹å€¼åœ¨-128åˆ°127ä¹‹é—´æ—¶ï¼Œå³ç›´æ¥è¿”å›IntegerCacheä¸­æš‚å­˜çš„Integerç±»å‹å¯¹è±¡ã€‚</p><div class="note note-success">            <h3 id="æé—®"><a href="#æé—®" class="headerlink" title="æé—®"></a>æé—®</h3>          </div><p>å¦‚ä½•å¯¹æ¯”èŒƒå›´åœ¨[-128,128]ä¹‹å¤–çš„ Integer ç±»å‹æ˜¯å¦ç›¸ç­‰ï¼Ÿ</p><div class="note note-success">            <h3 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h3>          </div><p>ä½¿ç”¨<span class="label label-primary">integer1.equals( integer2 )</span></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>åŸºç¡€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Errorã€‘Springboot æ•´åˆ Swagger2 æŠ¥é”™é—®é¢˜çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆ</title>
    <link href="/2022/03/10/%E3%80%90Java%E3%80%91Springboot_Swagger/"/>
    <url>/2022/03/10/%E3%80%90Java%E3%80%91Springboot_Swagger/</url>
    
    <content type="html"><![CDATA[<h1 id="ã€Errorã€‘Springboot-æ•´åˆ-Swagger2-æŠ¥é”™é—®é¢˜çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆ-ä¸é£ŸèŠ±ç”Ÿçš„çŒ«"><a href="#ã€Errorã€‘Springboot-æ•´åˆ-Swagger2-æŠ¥é”™é—®é¢˜çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆ-ä¸é£ŸèŠ±ç”Ÿçš„çŒ«" class="headerlink" title="ã€Errorã€‘Springboot æ•´åˆ Swagger2 æŠ¥é”™é—®é¢˜çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆ | ä¸é£ŸèŠ±ç”Ÿçš„çŒ«"></a>ã€Errorã€‘Springboot æ•´åˆ Swagger2 æŠ¥é”™é—®é¢˜çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆ | <font size=2 color=darkgray>ä¸é£ŸèŠ±ç”Ÿçš„çŒ«</font></h1><hr><br><div class="note note-default">            <ul><li><p>Springboot - 2.6.4 <font size=3 color=darkgray>Springboot ç‰ˆæœ¬ä¿¡æ¯</font></p></li><li><p>Swagger - 2.9.2  <font size=3 color=darkgray>Swagger2ç‰ˆæœ¬ä¿¡æ¯</font></p></li></ul>          </div><span id="more"></span><br><table><tr><td bgcolor=orange>æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹</td></tr></table><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">2022-03-18 01:43:38.127 ERROR 45845 --- [o-8080-Acceptor] org.apache.tomcat.util.net.Acceptor      : Socket accept failedjava.nio.channels.AsynchronousCloseException: nullat java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:205) ~[na:1.8.0_211]at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:257) ~[na:1.8.0_211]at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:545) ~[tomcat-embed-core-9.0.58.jar:9.0.58]at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]at org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:129) ~[tomcat-embed-core-9.0.58.jar:9.0.58]at java.lang.Thread.run(Thread.java:748) [na:1.8.0_211]2022-03-18 01:43:38.149  INFO 45845 --- [  restartedMain] ConditionEvaluationReportLoggingListener : Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.2022-03-18 01:43:38.176 ERROR 45845 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failedorg.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br></p><div class="note note-info">            <p><font color=orange size=4>è§£å†³æ–¹æ¡ˆä¸€</font> | <font colot=white size=3 >é™ä½ pom æ–‡ä»¶ä¸­ parent çš„ç‰ˆæœ¬</font></p>          </div><ul><li>åŸå› ï¼šç”±äº Springboot ç‰ˆæœ¬è¿‡é«˜ï¼Œä¸ Swagger ä¸å…¼å®¹ï¼Œæ‰€ä»¥é™ä½ Springboot ç‰ˆæœ¬</li><li>æ–¹æ¡ˆï¼šåœ¨ application.properties æ–‡ä»¶ä¸­ï¼Œå°† parent ä¸­çš„ version ä¿®æ”¹ä¸º 2.5.9</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.5.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--        &lt;version>2.6.4&lt;/version>--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br></p><div class="note note-info">            <p><font color=orange size=4> è§£å†³æ–¹æ¡ˆäºŒ </font> | <font colot=white size=3 > ä»…ä¿®æ”¹é…ç½®æ–‡ä»¶Â </font></p>          </div><ul><li>åœ¨ application.properties é…ç½®æ–‡ä»¶ä¸­ï¼ŒåŠ å…¥ä¸‹é¢ä¸€è¡Œä»£ç </li></ul><div class="code-wrapper"><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">spring.mvc.pathmatch.matching-strategy</span><span class="token punctuation">=</span><span class="token attr-value">ANT_PATH_MATCHER</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><br><br></p><div class="note note-success">            <p>ä¿®æ”¹ç»“æŸåï¼Œå¯åŠ¨é¡¹ç›®è®¿é—®ï¼šlocalhost:8080/swagger-ui.html å³å¯è®¿é—®</p>          </div><p>â€‹    </p>]]></content>
    
    
    <categories>
      
      <category>Error</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Error</tag>
      
      <tag>Springboot</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Mavenã€‘å…¥é—¨ä¸è¿›é˜¶</title>
    <link href="/2022/03/10/Maven/%E3%80%90%E4%B8%AD%E9%97%B4%E4%BB%B6%20%7C%20Maven%E3%80%91Maven%EF%BD%9C%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6/"/>
    <url>/2022/03/10/Maven/%E3%80%90%E4%B8%AD%E9%97%B4%E4%BB%B6%20%7C%20Maven%E3%80%91Maven%EF%BD%9C%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6/</url>
    
    <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h1 id="ç¬¬ä¸€ç« -Maven-åŸºç¡€-ä¸é£ŸèŠ±ç”Ÿçš„çŒ«"><a href="#ç¬¬ä¸€ç« -Maven-åŸºç¡€-ä¸é£ŸèŠ±ç”Ÿçš„çŒ«" class="headerlink" title="ç¬¬ä¸€ç«  Maven åŸºç¡€   ä¸é£ŸèŠ±ç”Ÿçš„çŒ«"></a>ç¬¬ä¸€ç«  <strong>Maven åŸºç¡€</strong>   <font color=darkgray size=2><strong>ä¸é£ŸèŠ±ç”Ÿçš„çŒ«</strong></font></h1><hr><br><h3 id="ç›¸å…³ç½‘é¡µåœ°å€"><a href="#ç›¸å…³ç½‘é¡µåœ°å€" class="headerlink" title="ç›¸å…³ç½‘é¡µåœ°å€"></a>ç›¸å…³ç½‘é¡µåœ°å€</h3><ul><li><p><strong>è§†é¢‘åœ°å€ï¼š</strong><a href="https://www.bilibili.com/video/BV1Ah411S7ZE?p=1">https://www.bilibili.com/video/BV1Ah411S7ZE?p=1</a></p></li><li><p><strong>ä¾èµ–æŸ¥è¯¢ï¼š</strong><a href="https://mvnrepository.com/">https://mvnrepository.com/</a></p></li><li><p><strong>Maven ï¼š</strong><a href="https://maven.apache.org/plugins/index.html">https://maven.apache.org/plugins/index.html</a></p></li><li><p><strong>Nexus  ï¼š</strong><a href="https://help.sonatype.com/repomanager3/product-information/download">https://help.sonatype.com/repomanager3/product-information/download</a></p></li></ul><br><h2 id="Maven-æ ‡ç­¾"><a href="#Maven-æ ‡ç­¾" class="headerlink" title="Maven æ ‡ç­¾"></a>Maven æ ‡ç­¾</h2><p><strong>resources:</strong> èµ„æºæ–‡ä»¶é…ç½®ä¿¡æ¯</p><p><strong>resource:</strong> èµ„æºæ–‡ä»¶é…ç½®ä¿¡æ¯</p><p><strong>testResources:</strong> test èµ„æºæ–‡ä»¶é…ç½®ä¿¡æ¯</p><p><strong>testResource:</strong> test èµ„æºæ–‡ä»¶é…ç½®ä¿¡æ¯</p><p><strong>dependencies</strong></p><p><strong>groupId</strong>ï¼š    ã€ç»„ç»‡ IDã€‘å®šä¹‰å½“å‰ Maven é¡¹ç›®éš¶å±ç»„ç»‡åç§°ï¼ˆé€šå¸¸æ˜¯åŸŸååå†™ï¼Œä¾‹å¦‚ org.mybaits)</p><p><strong>artifactId</strong>:     ã€é¡¹ç›® IDã€‘å®šä¹‰å½“å‰ Maven é¡¹ç›®åç§°ï¼ˆé€šå¸¸æ˜¯æ¨¡å—åç§°ï¼Œä¾‹å¦‚ CRMã€SMSï¼‰</p><p><strong>version</strong>ï¼š    ã€ç‰ˆæœ¬å·ã€‘å®šä¹‰å½“å‰é¡¹ç›®çš„ç‰ˆæœ¬å·</p><p><strong>packaging</strong>ï¼š    ã€jar/warã€‘å®šä¹‰è¯¥é¡¹ç›®çš„æ‰“åŒ…æ–¹å¼</p><p> <strong>optionalï¼š</strong>      æ˜¯å¦å¯¹ä¸Šçº§éšè— true / false</p><p><strong>exclusions:</strong>        æ’é™¤æ‰æŸäº›</p><p><strong>exclusionï¼š</strong>    å…·ä½“æ’é™¤æ‰å“ªä¸€ä¸ª ()</p>  <span class="label label-default"> æ³¨æ„ï¼šä¸å†™ç‰ˆæœ¬ è§ä»£ç ç‰‡æ®µ 1.2</span><p><strong>scope:</strong>        èŒƒå›´</p><ul><li>åœ¨ä¸»ç¨‹åºèŒƒå›´èƒ½ä¸èƒ½ç”¨ ã€ main æ–‡ä»¶å¤¹èŒƒå›´å†… ã€‘</li><li>åœ¨æµ‹è¯•èŒƒå›´èƒ½ä¸èƒ½ç”¨ã€ test ã€‘</li><li>æ˜¯å¦å‚ä¸æ‰“åŒ…ã€ package ã€‘</li></ul><p><strong>dependencyManagementï¼š</strong>ã€ä¾èµ–ç®¡ç†ã€‘ åœ¨ çˆ¶pom ä¸­åšä¾èµ–ç®¡ç†</p><p><strong>build</strong></p><ul><li><strong>build</strong> æ„å»º</li><li><strong>plugins</strong> æ’ä»¶ï¼ˆä»¬ï¼‰</li><li><strong>plugin</strong> æ’ä»¶</li></ul><span class="label label-primary"> ä»£ç ç‰‡æ®µ 1.1</span><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!--æ‰§è¡Œ--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!--æ‰§è¡Œä½ç½®</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">></span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- å‚è€ƒå£°æ˜å‘¨æœŸå…¨è¿‡ç¨‹ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">></span></span> generate-test-resources <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><span class="label label-success"> è¡¨ 1.1 scope èŒƒå›´</span><table><thead><tr><th><strong>scope å‚æ•°</strong></th><th><strong>ä¸»ç¨‹åº</strong></th><th><strong>æµ‹è¯•ç¨‹åº</strong></th><th><strong>å‚ä¸æ‰“åŒ…</strong></th><th><strong>å…¸å‹</strong></th></tr></thead><tbody><tr><td>compile</td><td>ğŸ™†ğŸ»â€â™€ï¸</td><td>ğŸ™†ğŸ»â€â™€ï¸</td><td>ğŸ™†ğŸ»â€â™€ï¸</td><td>log4j</td></tr><tr><td>test</td><td></td><td>ğŸ™†ğŸ»â€â™€ï¸</td><td></td><td>junit</td></tr><tr><td>provided</td><td>ğŸ™†ğŸ»â€â™€ï¸</td><td>ğŸ™†ğŸ»â€â™€ï¸</td><td></td><td>servlet-api</td></tr><tr><td>runtime</td><td></td><td></td><td>ğŸ™†ğŸ»â€â™€ï¸</td><td>jdbc</td></tr></tbody></table><span class="label label-success"> è¡¨ 1.2 scope ä»¥æ¥ä¼ é€’ä¸­çš„èŒƒå›´é—®é¢˜</span><table><thead><tr><th><strong>é¡¹ç›® 2 \ é¡¹ç›® 1</strong></th><th><strong>compile</strong></th><th><strong>test</strong></th><th><strong>provided</strong></th><th><strong>runtime</strong></th></tr></thead><tbody><tr><td><strong>compile</strong></td><td>compile</td><td>test</td><td>provided</td><td>runtime</td></tr><tr><td><strong>test</strong></td><td></td><td></td><td></td><td></td></tr><tr><td><strong>provided</strong></td><td></td><td></td><td></td><td></td></tr><tr><td><strong>runtime</strong></td><td>runtime</td><td>test</td><td>provided</td><td>runtime</td></tr></tbody></table><span class="label label-primary">ä»£ç  1.2 æ’é™¤ä¸‹çº§ä¾èµ–</span><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>çˆ¶ç±» ç»„å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  (å®šä¹‰ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span> ä¹‹åå¯ä»¥åˆ é™¤)    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>çˆ¶ç±» artifactId<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>çˆ¶ç±» ç‰ˆæœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>  (å®šä¹‰ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span> ä¹‹åå¯ä»¥åˆ é™¤)    <span class="token comment">&lt;!--æ’é™¤æ‰ä»¥ä¸‹--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">></span></span>         <span class="token comment">&lt;!-- æ’é™¤æ‰ a--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>a çš„ groupId<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>a çš„ artifactId<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><h2 id="ä¾èµ–ä¼ é€’"><a href="#ä¾èµ–ä¼ é€’" class="headerlink" title="ä¾èµ–ä¼ é€’"></a><strong>ä¾èµ–ä¼ é€’</strong></h2><ul><li>è‹¥ b é¡¹ç›®å¼•ç”¨ a é¡¹ç›®ä½œä¸ºä¾èµ–ï¼Œé‚£ä¹ˆ a é¡¹ç›®å¼•ç”¨çš„ä¾èµ– b ä¹Ÿå¼•ç”¨</li><li>ç›´æ¥ä¾èµ–ï¼šç›´æ¥å¼•ç”¨çš„ä¾èµ–</li><li>é—´æ¥ä¾èµ–ï¼šé€šè¿‡å¼•ç”¨å…¶ä»–é¡¹ç›®è·å–å…¶ä»–é¡¹ç›®çš„ä¾èµ–</li></ul><p><strong>ä¾èµ–å†²çªé—®é¢˜</strong></p><ul><li>æ·±åº¦ä¼˜å…ˆåŸåˆ™ï¼šå±‚çº§è¶Šæµ…ä¼˜å…ˆçº§è¶Šé«˜ï¼ˆç›´æ¥ä¾èµ–ï¼é—´æ¥ä»¥ä¾èµ–ï¼‰</li><li>å£°æ˜ä¼˜å…ˆåŸåˆ™ï¼šä¸¤ä¸ªé—´æ¥ä»¥æ¥å…¨éƒ½æ˜¯ 2 å±‚ï¼Œé‚£ä¹ˆçœ‹å¼•ç”¨ä»–ä»¬ä¾èµ–çš„ a ä¸ b ï¼Œè°åœ¨å‰é¢ä½¿ç”¨è°çš„</li><li>åè€…è¦†ç›–åŸåˆ™ï¼šå½“åŒä¸€ä¸ª pom æ–‡ä»¶ä¸­å‡ºç°äº†åŒä¸€ä¸ªä¾èµ–çš„ä¸åŒç‰ˆæœ¬ï¼Œåè€…è¦†ç›–å‰è€…</li><li>å¯¹ä¸Šçº§éšè—    ï¼štrue </li><li>æ’é™¤ä¸‹çº§ä¾èµ–ï¼š</li></ul><h2 id="Maven-ç”Ÿå‘½å‘¨æœŸä¸æ’ä»¶"><a href="#Maven-ç”Ÿå‘½å‘¨æœŸä¸æ’ä»¶" class="headerlink" title="Maven ç”Ÿå‘½å‘¨æœŸä¸æ’ä»¶"></a><strong>Maven ç”Ÿå‘½å‘¨æœŸä¸æ’ä»¶</strong></h2><p><strong>å…¨éƒ¨è¿‡ç¨‹</strong></p><ul><li>validate æ ¡éªŒ</li><li>initialize åˆå§‹åŒ–</li><li>generate-sources ç”Ÿæˆæºä»£ç </li><li>process-sources å¤„ç†æºä»£ç </li><li>generate-resources ç”Ÿæˆèµ„æºæ–‡ä»¶</li><li>process-resources å¤„ç†èµ„æºæ–‡ä»¶</li><li>compile ç¼–è¯‘   </li><li>process-classes å¤„ç†ç±»æ–‡ä»¶</li><li>generate-test-sources å¤„ç†æµ‹è¯•æºä»£ç </li><li>process-test-sources ç”Ÿæˆæµ‹è¯•æºä»£ç </li><li>generate-test-resources ç”Ÿæˆæµ‹è¯•èµ„æºæ–‡ä»¶</li><li>process-test-resources å¤„ç†æµ‹è¯•èµ„æºæ–‡ä»¶</li><li>test-compile ç¼–è¯‘æµ‹è¯•æºç </li><li>process-test-classes å¤„ç†æµ‹è¯•ç±»æ–‡ä»¶</li><li>test æµ‹è¯•   </li><li>prepare-package å‡†å¤‡æ‰“åŒ…</li><li>package æ‰“åŒ…   </li><li>pre-integration-test é›†æˆæµ‹è¯•å‰</li><li>integration-test é›†æˆæµ‹è¯•</li><li>post-integration-test é›†æˆæµ‹è¯•å</li><li>verify éªŒè¯</li><li>install å®‰è£…   </li><li>deploy éƒ¨ç½²   </li></ul><p><br><br><br></p><h1 id="ç¬¬äºŒç« -Maven-é«˜çº§"><a href="#ç¬¬äºŒç« -Maven-é«˜çº§" class="headerlink" title="ç¬¬äºŒç«  Maven é«˜çº§"></a>ç¬¬äºŒç«  Maven é«˜çº§</h1><hr><h3 id="åˆ†æ¨¡å—å¼€å‘æ€è·¯"><a href="#åˆ†æ¨¡å—å¼€å‘æ€è·¯" class="headerlink" title="åˆ†æ¨¡å—å¼€å‘æ€è·¯"></a><strong>åˆ†æ¨¡å—å¼€å‘æ€è·¯</strong></h3><ul><li>å°† controller å±‚ã€service å±‚ç­‰éƒ½å•ç‹¬åˆ’åˆ†ä¸ºä¸€ä¸ªå•ç‹¬çš„ Maven æ¨¡å—ï¼Œé€šè¿‡æ¥å£è¿›è¡Œè¿æ¥</li></ul><h2 id="é…ç½®ç®¡ç†-ï¼ˆæ’ä»¶åŒç†ï¼‰"><a href="#é…ç½®ç®¡ç†-ï¼ˆæ’ä»¶åŒç†ï¼‰" class="headerlink" title="é…ç½®ç®¡ç†  |  ï¼ˆæ’ä»¶åŒç†ï¼‰"></a><strong>é…ç½®ç®¡ç†  |</strong>  <strong>ï¼ˆæ’ä»¶åŒç†ï¼‰</strong></h2><p>é…ç½®ä¸€ä¸ªæ–°çš„ pom æ–‡ä»¶ç”¨äºç®¡ç†æ‰€æœ‰çš„ pom</p><p><strong>packaging:</strong></p><ul><li><strong>èšåˆ pom</strong></li><li><strong>åç«¯ jar</strong></li><li><strong>web war</strong></li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span> pom <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!-- è¯´æ˜æ­¤æ–‡ä»¶ä¸“é—¨ç”¨äºé…ç½®ç®¡ç† --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span> å„å±‚çº§æ–‡ä»¶çš„åç§° <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>../ssm_pojo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>../ssm_dao<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>../ssm_service<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>../ssm_controller<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>    â€¦â€¦<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a><strong>ç»§æ‰¿</strong></h3><p>åœ¨ çˆ¶ pom æ–‡ä»¶ä¸­å®šä¹‰æ‰€æœ‰çš„ä¾èµ–</p><p>çˆ¶ pom</p><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            ä¹Ÿå¯ä»¥å†™è‡ªå·±çš„é¡¹ç›®ï¼Œæ²¡ä¸¤æ ·        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å­ pom        dependency ä¸­ä¸ç”¨å†™ version  </p><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- çˆ¶å·¥ç¨‹ pom.xml æ–‡ä»¶çš„åœ°å€--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">></span></span>  ../ssm/pom.xml <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>relativePath</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="åŒç†æ’ä»¶ä¹Ÿå¯ä»¥ç»§æ‰¿ï¼ŒåŒæ ·åˆ é™¤"><a href="#åŒç†æ’ä»¶ä¹Ÿå¯ä»¥ç»§æ‰¿ï¼ŒåŒæ ·åˆ é™¤" class="headerlink" title="åŒç†æ’ä»¶ä¹Ÿå¯ä»¥ç»§æ‰¿ï¼ŒåŒæ ·åˆ é™¤"></a><strong>åŒç†æ’ä»¶ä¹Ÿå¯ä»¥ç»§æ‰¿ï¼ŒåŒæ ·åˆ é™¤</strong></h3><ol><li><strong>ç»§æ‰¿ä¸èšåˆ</strong></li></ol><ul><li><p>ä½œç”¨</p></li><li><ul><li>èšåˆç”¨äºå¿«é€Ÿæ„å»ºé¡¹ç›®</li><li>ç»§æ‰¿ç”¨äºå¿«é€Ÿé…ç½®</li></ul></li><li><p>ç›¸åŒç‚¹</p></li><li><ul><li>èšåˆä¸ç»§æ‰¿çš„ pom.xml æ–‡ä»¶æ‰“åŒ…æ–¹å¼å‡ä¸º pomï¼Œå¯ä»¥å°†ä¸¤ç§å…³ç³»åªåšåˆ°åŒä¸€ä¸ª pom æ–‡ä»¶ä¸­</li><li>èšåˆä¸é›†æˆå‡å±äºè®¾è®¡å‹æ¨¡å—ï¼Œå¹¶æ— å®é™…çš„æ¨¡å—å†…å®¹ã€‚</li></ul></li><li><p>ä¸åŒç‚¹</p></li><li><ul><li>èšåˆæ˜¯åœ¨å½“å‰æ¨¡å—ä¸­çš„é…ç½®å…³ç³»ï¼Œèšåˆå¯ä»¥æ„ŸçŸ¥åˆ°å‚ä¸èšåˆçš„æ¨¡å—æœ‰å“ªäº›</li><li>ç»§æ‰¿æ˜¯åœ¨å­æ¨¡å—ä¸­é…ç½®å…³ç³»ï¼Œçˆ¶æ¨¡å—æ— æ³•æ„ŸçŸ¥å“ªäº›æ¨¡å—é›†æˆäº†è‡ªå·±</li></ul></li></ul><p><br><br><br></p><h1 id="ç¬¬ä¸‰ç« -è‡ªå®šä¹‰å˜é‡"><a href="#ç¬¬ä¸‰ç« -è‡ªå®šä¹‰å˜é‡" class="headerlink" title="ç¬¬ä¸‰ç«  è‡ªå®šä¹‰å˜é‡"></a>ç¬¬ä¸‰ç«  <strong>è‡ªå®šä¹‰å˜é‡</strong></h1><hr><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">></span></span>1.2.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- ä½¿ç”¨æ ¼å¼ --></span>$&#123;spring.version&#125;<span class="token comment">&lt;!-- ç›´æ¥ä½¿ç”¨é¡¹ç›®çš„ version --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- è¯»å– settings.xml æ–‡ä»¶ä¸­çš„å€¼ --></span>$&#123;settings.localRepository&#125;<span class="token comment">&lt;!-- è¯»å– Java ç³»ç»Ÿå±æ€§ --></span>$&#123;user.home&#125;<span class="token comment">&lt;!-- ä½¿ç”¨ï¼š mvn help:system å¯ä»¥æŸ¥çœ‹ç³»ç»Ÿç¯å¢ƒå˜é‡ --></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br><br></p><h1 id="ç¬¬å››ç« -ç‰ˆæœ¬ç®¡ç†"><a href="#ç¬¬å››ç« -ç‰ˆæœ¬ç®¡ç†" class="headerlink" title="ç¬¬å››ç«  ç‰ˆæœ¬ç®¡ç†"></a>ç¬¬å››ç«  <strong>ç‰ˆæœ¬ç®¡ç†</strong></h1><hr><h2 id="å·¥ç¨‹ç‰ˆæœ¬"><a href="#å·¥ç¨‹ç‰ˆæœ¬" class="headerlink" title="å·¥ç¨‹ç‰ˆæœ¬"></a><strong>å·¥ç¨‹ç‰ˆæœ¬</strong></h2><ul><li><p>SNAPSHOTï¼ˆå¿«ç…§ç‰ˆæœ¬ï¼‰</p></li><li><ul><li>é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸ºæ–¹ä¾¿å›¢é˜Ÿæˆå‘˜åˆä½œï¼Œè§£å†³æ¨¡å—é—´äº’ç›¸ä¾èµ–å’Œå®æ—¶æ›´æ–°çš„é—®é¢˜ï¼Œå¼€å‘è€…å¯¹æ¯ä¸ªæ¨¡å—è¿›è¡Œæ„å»ºçš„æ—¶å€™ï¼Œè¾“å‡ºçš„ä¸´æ—¶æ€§ç‰ˆæœ¬å«åšå¿«ç…§ç‰ˆæœ¬ï¼ˆæµ‹è¯•é˜¶æ®µç‰ˆæœ¬ï¼‰</li><li>å¿«ç…§ç‰ˆæœ¬ä¼šéšç€å¼€å‘çš„è¿›ç«™ä¸æ–­æ›´æ–°</li></ul></li><li><p>RELEASEï¼ˆå‘å¸ƒç‰ˆæœ¬ï¼‰</p></li><li><ul><li>é¡¹ç›®å¼€å‘åˆ°è¿›å…¥é˜¶æ®µé‡Œç¨‹ç¢‘åï¼Œå‘å›¢é˜Ÿå¤–éƒ¨å‘å¸ƒè¾ƒä¸ºç¨³å®šçš„ç‰ˆæœ¬ï¼Œè¿™ç§ç‰ˆæœ¬å¯¹åº”çš„æ„å»ºæ–‡ä»¶æ˜¯ç¨³å®šçš„ï¼Œå‡ éè¿›è¡ŒåŠŸèƒ½çš„åç»­å¼€å‘ï¼Œä¹Ÿä¸ä¼šæ”¹å˜å½“å‰å‘å¸ƒç‰ˆæœ¬çš„å†…å®¹ï¼Œè¿™ç§ç‰ˆæœ¬æˆä¸ºå‘å¸ƒç‰ˆæœ¬</li></ul></li></ul><h2 id="åŠŸèƒ½ç‰ˆæœ¬å·çº¦å®š"><a href="#åŠŸèƒ½ç‰ˆæœ¬å·çº¦å®š" class="headerlink" title="åŠŸèƒ½ç‰ˆæœ¬å·çº¦å®š"></a><strong>åŠŸèƒ½ç‰ˆæœ¬å·çº¦å®š</strong></h2><ul><li><p>çº¦å®šè§„èŒƒ</p></li><li><ul><li>&lt;ä¸»ç‰ˆæœ¬&gt;.&lt;æ¬¡ç‰ˆæœ¬&gt;.&lt;å¢é‡ç‰ˆæœ¬&gt;.&lt;é‡Œç¨‹ç¢‘ç‰ˆæœ¬&gt;</li><li>ä¸»ç‰ˆæœ¬ï¼šè¡¨ç¤ºé¡¹ç›®é‡å¤§æ¶æ„çš„å˜æ›´ï¼Œå¦‚ Spring5 ç›¸è¾ƒäº Spring4 </li><li>æ¬¡ç‰ˆæœ¬ï¼šè¡¨ç¤ºæœ‰è¾ƒå¤§çš„çš„åŠŸèƒ½å¢åŠ å’Œå˜åŒ–ï¼Œæˆ–è€…å…¨é¢ç³»ç»Ÿçš„ä¿®å¤æ¼æ´</li><li>å¢é‡ç‰ˆæœ¬ï¼šè¡¨ç¤ºæœ‰é‡å¤§æ¼æ´ä¿®å¤</li><li>é‡Œç¨‹ç¢‘ç‰ˆæœ¬ï¼šè¡¨ç¤ºä¸€ä¸ªç‰ˆæœ¬çš„é‡Œç¨‹ç¢‘ï¼ˆç‰ˆæœ¬å†…éƒ¨ã€‹ã€‚è¿™æ ·çš„ç‰ˆæœ¬åŒä¸‹ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬ç›¸æ¯”ï¼Œç›¸å¯¹æ¥è¯´ä¸æ˜¯å¾ˆç¨³å®šï¼Œæœ‰å¾…æ›´å¤šçš„æµ‹è¯•</li></ul></li><li><p>èŒƒä¾‹</p></li><li><ul><li>5.1.9.RELEASE</li></ul></li></ul><p><br><br><br></p><h1 id="ç¬¬äº”ç« -å¤šç¯å¢ƒ"><a href="#ç¬¬äº”ç« -å¤šç¯å¢ƒ" class="headerlink" title="ç¬¬äº”ç«  å¤šç¯å¢ƒ"></a>ç¬¬äº”ç«  å¤šç¯å¢ƒ</h1><hr><h2 id="é…ç½®èµ„æºæ–‡ä»¶å¯¹åº”ä¿¡æ¯"><a href="#é…ç½®èµ„æºæ–‡ä»¶å¯¹åº”ä¿¡æ¯" class="headerlink" title="é…ç½®èµ„æºæ–‡ä»¶å¯¹åº”ä¿¡æ¯"></a><strong>é…ç½®èµ„æºæ–‡ä»¶å¯¹åº”ä¿¡æ¯</strong></h2><ul><li>åœ¨ pom æ–‡ä»¶ä¸­è®¾å®šé…ç½®æ–‡ä»¶è·¯å¾„</li><li>å¼€å¯åŠ è½½ pom å±æ€§è¿‡æ»¤åŠŸèƒ½</li><li>ä½¿ç”¨  ${å±æ€§å}  æ ¼å¼å¼•ç”¨ pom å±æ€§</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbc.username</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbc.username</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>../ssm_dao/src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>$&#123;project.basedir&#125;/src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># jdbc.properties </span><span class="token attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token attr-value">$&#123;jdbc.username&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h2 id="å®šä¹‰-ç”Ÿäº§-å¼€å‘-ç¯å¢ƒ"><a href="#å®šä¹‰-ç”Ÿäº§-å¼€å‘-ç¯å¢ƒ" class="headerlink" title="å®šä¹‰ ç”Ÿäº§/å¼€å‘ ç¯å¢ƒ"></a><strong>å®šä¹‰ ç”Ÿäº§/å¼€å‘ ç¯å¢ƒ</strong></h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- å®šä¹‰å…·ä½“çš„ç¯å¢ƒï¼šç”Ÿäº§ç¯å¢ƒ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å®šä¹‰ç¯å¢ƒå”¯ä¸€åç§° --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span> pro_env <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å®šä¹‰ç¯å¢ƒä¸­ä¸“ç”¨çš„å±æ€§å€¼ --></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbc.url</span><span class="token punctuation">></span></span> url1 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbc.url</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--  é»˜è®¤ä½¿ç”¨è¿™ä¸ªé…ç½®  --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å®šä¹‰å…·ä½“çš„ç¯å¢ƒï¼šå¼€å‘ç¯å¢ƒ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span> dev_env <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>         <span class="token comment">&lt;!-- å®šä¹‰ç¯å¢ƒä¸­ä¸“ç”¨çš„å±æ€§å€¼ --></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbc.url</span><span class="token punctuation">></span></span> url2 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbc.url</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a><strong>ä½¿ç”¨</strong></h2><ul><li><ol><li><strong>maven ä¸­åŠ å…¥ä¸€ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸ</strong></li><li><strong>æŒ‡ä»¤ä¸ºï¼šinstall -P dev_env</strong></li></ol></li><li></li><li></li><li><p><br><br><br></p></li><li></li></ul><h1 id="ç¬¬å…­ç« -è·³è¿‡æµ‹è¯•"><a href="#ç¬¬å…­ç« -è·³è¿‡æµ‹è¯•" class="headerlink" title="ç¬¬å…­ç«  è·³è¿‡æµ‹è¯•"></a><strong>ç¬¬å…­ç«  è·³è¿‡æµ‹è¯•</strong></h1><hr><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a><strong>ä½¿ç”¨åœºæ™¯</strong></h2><ul><li>æ•´ä½“æ¨¡å—åŠŸèƒ½æœªå¼€å‘</li><li>æ¨¡å—ä¸­æŸä¸ªåŠŸèƒ½æœªå¼€å‘å®Œæ¯•</li><li>å•ä¸ªåŠŸèƒ½æ›´æ–°è°ƒè¯•å¯¼è‡´å…¶ä»–åŠŸèƒ½å¤±è´¥</li><li>å¿«é€Ÿæ‰“åŒ…</li><li>â€¦â€¦</li></ul><h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a><strong>ä½¿ç”¨æ–¹æ³•</strong></h2><p>æ’ä»¶ï¼šmaven helper</p><ol><li>æ–¹æ¡ˆ 1ï¼šç›´æ¥ä½¿ç”¨ IDEA è¿›è¡Œå±è”½</li><li>æ–¹æ¡ˆ 2ï¼šé€‰ä¸­ pom æ–‡ä»¶ï¼Œå³é”® runä»¥ä¸‹å‘½ä»¤ï¼šinstall -D skipTests</li><li>æ–¹æ¡ˆ 3ï¼šbuild ä¸­è®¾ç½®è·³è¿‡æµ‹è¯•</li></ol><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-surefire-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.22.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- è·³è¿‡æµ‹è¯• --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>skipTest</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>skipTest</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>                <span class="token comment">&lt;!-- æŒ‡å®šæµ‹è¯• --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/Demotest.java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span>                                <span class="token comment">&lt;!-- æ’é™¤ä»¥ä¸‹è¿›è¡Œæµ‹è¯• --></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>excludes</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclude</span><span class="token punctuation">></span></span>**/User*Test.java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclude</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>excludes</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span>           <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br><br></p><h1 id="ç¬¬ä¸ƒç« -Nexus-ç§æœ"><a href="#ç¬¬ä¸ƒç« -Nexus-ç§æœ" class="headerlink" title="ç¬¬ä¸ƒç«  Nexus ç§æœ"></a><strong>ç¬¬ä¸ƒç« </strong> <strong>Nexus ç§æœ</strong></h1><hr><h2 id="Nexusç§æœ"><a href="#Nexusç§æœ" class="headerlink" title="Nexusç§æœ"></a><strong>Nexusç§æœ</strong></h2><ul><li><p>åœ°å€ï¼š<a href="https://help.sonatype.com/repomanager3/product-information/download">https://help.sonatype.com/repomanager3/product-information/download</a></p></li><li><p>å¯åŠ¨ï¼šè¿›å…¥ bin æ–‡ä»¶å¤¹ nexus run    </p></li><li><p>è®¿é—®ï¼šlocalhost:8081</p></li></ul><h2 id="ä»“åº“åˆ†ç±»"><a href="#ä»“åº“åˆ†ç±»" class="headerlink" title="ä»“åº“åˆ†ç±»"></a><strong>ä»“åº“åˆ†ç±»</strong></h2><ol><li><ol><li><p>å®¿ä¸»ä»“åº“ hosted</p></li><li><ol><li><p>ä¿å­˜æ— æ³•ä»ä¸­å¤®ä»“åº“è·å–çš„èµ„æº</p></li><li><ol><li>è‡ªä¸»ç ”å‘</li><li>ç¬¬ä¸‰æ–¹éå¼€æºé¡¹ç›®</li></ol></li></ol></li><li><p>ä»£ç†ä»“åº“ proxy</p></li><li><ol><li>ä»£ç†è¿œç¨‹ä»“åº“ï¼Œé€šè¿‡ nexus è®¿é—®å…¶ä»–å…¬å…±ä»“åº“ï¼Œä¾‹å¦‚ä¸­å¤®ä»“åº“</li></ol></li><li><p>ä»“åº“ç»„ group</p></li><li><ol><li><p>å°†è‹¥å¹²ä¸ªä»“åº“ç»„æˆä¸€ä¸ªç¾¤ç»„ï¼Œç®€åŒ–é…ç½®</p></li><li><p>ä»“åº“ç»„ä¸èƒ½ä¿å­˜èµ„æºï¼Œå±äºè®¾è®¡å‹ä»“åº“</p><br><br></li></ol></li></ol></li></ol><h2 id="Idea-ä¸-Nexus-ç§æœ"><a href="#Idea-ä¸-Nexus-ç§æœ" class="headerlink" title="Idea ä¸ Nexus ç§æœ"></a><strong>Idea ä¸ Nexus ç§æœ</strong></h2><ul><li>Maven settings.xml æ–‡ä»¶ä¸­çš„é…ç½®</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servers</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>jim-release<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">></span></span>admin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">></span></span>admin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>jim-snapshots<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">></span></span>admin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">></span></span>admin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servers</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>jim<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>å» Nexus ç§æœä»“åº“å¤åˆ¶ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>å‘å¸ƒ  ã€ maven deploy  ã€‘</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>distributionManagement</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- settings.server ä¸­çš„ ID --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>distributionManagement</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br><br></p><h1 id="ç¬¬å…«ç« -å…¶ä»–"><a href="#ç¬¬å…«ç« -å…¶ä»–" class="headerlink" title="ç¬¬å…«ç«  å…¶ä»–"></a><strong>ç¬¬å…«ç« </strong> <strong>å…¶ä»–</strong></h1><hr><h2 id="settings-xml"><a href="#settings-xml" class="headerlink" title="settings.xml"></a><strong>settings.xml</strong></h2><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- æœ¬åœ°ä»“åº“åœ°å€ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">></span></span>/Users/hsk/DevTools/mavenRepository<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrors</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ¬¡é•œåƒå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨æ¥åŒºåˆ†ä¸åŒçš„ mirror å…ƒç´ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>nexus-aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--å¯¹é‚£ç§ä»“åº“è¿›è¡Œé•œåƒï¼Œç®€å•æ¥è¯´å°±æ˜¯ä»£æ›¿é‚£ä¸ªä»“åº“--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--é•œåƒåç§°--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>Nexus aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>--é•œåƒ</span> <span class="token attr-name">url</span> <span class="token attr-name">--</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>http://maven.aliyun.com/nexus/content/groups/public/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrors</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Maven-ç”Ÿå‘½å‘¨æœŸå…¨è¿‡ç¨‹"><a href="#Maven-ç”Ÿå‘½å‘¨æœŸå…¨è¿‡ç¨‹" class="headerlink" title="Maven ç”Ÿå‘½å‘¨æœŸå…¨è¿‡ç¨‹"></a><strong>Maven ç”Ÿå‘½å‘¨æœŸå…¨è¿‡ç¨‹</strong></h2><ul><li>validate æ ¡éªŒ</li><li>initialize åˆå§‹åŒ–</li><li>generate-sources ç”Ÿæˆæºä»£ç </li><li>process-sources å¤„ç†æºä»£ç </li><li>generate-resources ç”Ÿæˆèµ„æºæ–‡ä»¶</li><li>process-resources å¤„ç†èµ„æºæ–‡ä»¶</li><li>compile ç¼–è¯‘   </li><li>process-classes å¤„ç†ç±»æ–‡ä»¶</li><li>generate-test-sources å¤„ç†æµ‹è¯•æºä»£ç </li><li>process-test-sources ç”Ÿæˆæµ‹è¯•æºä»£ç </li><li>generate-test-resources ç”Ÿæˆæµ‹è¯•èµ„æºæ–‡ä»¶</li><li>process-test-resources å¤„ç†æµ‹è¯•èµ„æºæ–‡ä»¶</li><li>test-compile ç¼–è¯‘æµ‹è¯•æºç </li><li>process-test-classes å¤„ç†æµ‹è¯•ç±»æ–‡ä»¶</li><li>test æµ‹è¯•   </li><li>prepare-package å‡†å¤‡æ‰“åŒ…</li><li>package æ‰“åŒ…   </li><li>pre-integration-test é›†æˆæµ‹è¯•å‰</li><li>integration-test é›†æˆæµ‹è¯•</li><li>post-integration-test é›†æˆæµ‹è¯•å</li><li>verify éªŒè¯</li><li>install å®‰è£…   </li><li>deploy éƒ¨ç½²   </li></ul>]]></content>
    
    
    <categories>
      
      <category>ä¸­é—´ä»¶</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Maven</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç”Ÿæ´»ã€‘è®°å½•è¢«æƒŠè®¶åˆ°çš„ä¸€å¤©</title>
    <link href="/2021/10/12/%E6%97%A5%E8%AE%B0/%E3%80%90%E7%94%9F%E6%B4%BB%E3%80%91%E8%AE%B0%E5%BD%95%E8%A2%AB%E6%83%8A%E8%AE%B6%E5%88%B0%E7%9A%84%E4%B8%80%E5%A4%A9/"/>
    <url>/2021/10/12/%E6%97%A5%E8%AE%B0/%E3%80%90%E7%94%9F%E6%B4%BB%E3%80%91%E8%AE%B0%E5%BD%95%E8%A2%AB%E6%83%8A%E8%AE%B6%E5%88%B0%E7%9A%84%E4%B8%80%E5%A4%A9/</url>
    
    <content type="html"><![CDATA[<h2 id="æˆ‘ä»Šå¤©è¢«æƒŠåˆ°äº†ï¼"><a href="#æˆ‘ä»Šå¤©è¢«æƒŠåˆ°äº†ï¼" class="headerlink" title="æˆ‘ä»Šå¤©è¢«æƒŠåˆ°äº†ï¼"></a>æˆ‘ä»Šå¤©è¢«æƒŠåˆ°äº†ï¼</h2><div class="note note-primary">            <p>èµ·å› </p>          </div><p>äº‹æƒ…æ˜¯è¿™ä¸ªæ ·å­çš„ï¼Œå‰å‡ å¤©æˆ‘åœ¨å›½å¤–æŸè®ºå›å†²æµªçš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€ä¸ªäººAç§°å‘¼Eä¸ºå¸ˆå‚…ï¼Œé‡åˆ°äº†é—®é¢˜Eè¿˜å¯¹Aè¿›è¡ŒæŒ‡å¯¼ã€‚æˆ‘é¡¿æ—¶å¯¹å…¶äºŒäººäº§ç”Ÿäº†å…´è¶£ï¼Œäº¤æµä¹‹åå‘ç°Eæ˜¯ä¸€ä¸ªå¤§äºŒçš„å­¦ç”Ÿï¼Œå½“å¿ƒçš„å¿ƒæƒ…å¤§æ¦‚å°±æ˜¯ï¼›å‘µï¼Œå°æœ‹å‹å°±å–œæ¬¢è¿™ä¸ªæ ·å­ã€‚</p><p>è™½ç„¶ä»…æ¯”æˆ‘å°å‡ å²ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯ä»å¿ƒé‡ŒæŠŠè‡ªå·±å½“æˆä¸€ä¸ªå¤§äººï¼Œåœ¨çŸ¥æ™“å¹´é¾„ä¹‹å‰æˆ‘ä»¬ä¸€ç›´ç§°å‘¼Eä¸ºã€å¤§Eå“¥ã€‘ï¼ŒçŸ¥é“æ¯”æˆ‘å°ä»¥åï¼Œæˆ‘ç”šè‡³å·®ç‚¹ä¸€åº¦çœ‹è½»ä»–ï¼Œä½†æ˜¯å¹¶æ²¡èƒ½è½»è§†å¤ªä¹…ã€‚</p><p>ä¸‹åˆå› ä¸ºè¦æŸ¥è¯¢Pagermaidæœºå™¨äººçš„ç›¸å…³æŒ‡ä»¤ï¼Œæˆ‘ä¾¿ä½¿ç”¨è°·æ­Œæœç´¢äº†ä¸€ä¸‹ï¼Œè¿›äº†ä¸€ä¸ªå¤§ä½¬çš„åšå®¢ï¼Œå…¶å®ç½‘ç»œä¸ŠPagermaidçš„ç›¸å…³æŒ‡ä»¤å¾ˆå¤šï¼Œä½†æ˜¯è¿™ç¯‡åšå®¢æ’ç¬¬äºŒï¼Œä»…åœ¨å®˜ç½‘ï¼ˆGithubï¼‰ä¸‹é¢ï¼Œæˆ‘å°±ç‚¹è¿›å»äº†ï¼Œè¿™ç‰‡åšå®¢çš„é¦–é¡µåŠä¸‹æ–¹å¸ƒå±€æ˜¯è¿™ä¸ªæ ·å­ï¼š</p><p><img src="https://i.loli.net/2021/10/12/6TM1QadP3EK8rsz.png" alt="E&#39;sblog"></p><p>å½“æ—¶åªè§‰å¾—æ¯”è¾ƒäºŒæ¬¡å…ƒï¼Œè¿˜æœ‰ç‚¹å‡Œä¹±ï¼Œéšåæƒ³çœ‹çœ‹è¿™ç¯‡åšå®¢ä¸Šè¿˜æœ‰ä»€ä¹ˆåˆ«çš„è¥å…»ï¼Œäºæ˜¯ç‚¹äº†ã€ä¸»é¡µï½œHomeã€‘æŒ‰é’®ï¼Œéšåå°±æŸ³æš—èŠ±æ˜åˆä¸€æ‘äº†ï¼Œå› ä¸ºè·³è½¬çš„ä¸æ˜¯é¦–é¡µï¼Œè€Œæ˜¯è¿™æ ·å­çš„ç•Œé¢ï¼š</p><p><img src="https://i.loli.net/2021/10/12/hL7ZTew4yxPMCaG.png"></p><p>å½“æ—¶æˆ‘äººéƒ½å‚»äº†ï¼Œå¿ƒé‡Œç›´é—®è¿™æ˜¯ä»€ä¹ˆå‘€ï¼ï¼</p><p>éšåå°±åœ¨è¿™ä¸ªç•Œé¢ä¸Šçœ‹äº†ä¸€ä¼šå„¿ï¼Œå—¯è¥å…»ä¹Ÿå¾ˆä¸°å¯Œï¼é‡Œé¢æœ‰å¾ˆå¤šçš„å°å·¥å…·ï¼Œè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ï¼</p><hr><p>å½“ç„¶è¿™å¹¶æ²¡æœ‰ç»“æŸï¼Œæˆ‘è§‰å¾—å¦‚æ­¤èŠ±é‡Œèƒ¡å“¨çš„Blogé‡Œé¢åº”è¯¥å…¨æ˜¯è¥å…»ï¼Œäºæ˜¯æˆ‘å°±å»ä»–çš„ä¸»é¡µçœ‹äº†çœ‹ï¼Œæœç„¶å…¨æ˜¯è¥å…»ï¼</p><hr><p>è¿™ä¸ªæ—¶å€™æˆ‘å°±ç‰¹æƒ³è”ç³»åˆ°è¿™ä¸ªåšå®¢çš„åšä¸»ï¼äºæ˜¯ä¹æˆ‘å°±ï¼çœ‹åˆ°äº†è¿™ä¸ªæ¡Œé¢ä¸Šæœ‰æˆ‘å¸¸ç©çš„å›½å¤–ç¤¾åŒºé“¾æ¥ï¼Œæˆ‘å°±ç‚¹è¿›å»äº†ï¼Œè¯•å›¾è”ç³»ä»–ã€‚</p><div class="note note-primary">            <p>ç»“æœï¼šè¿™ä¸ªæ—¶å€™æƒŠäººçš„äº‹æƒ…å‘ç”Ÿäº†ï¼ï¼ä»–å±…ç„¶å°±æ˜¯å¤§Eå“¥ï¼ï¼</p>          </div><p>æœæ–­æŠŠå¤§Eå“¥çš„BlogåŠ å…¥æˆ‘çš„å‹é“¾ï¼Œæƒ³çœ‹çš„è¯å¯ä»¥ç‚¹å‡»æœ€ä¸Šæ–¹<a href="http://110.40.191.51/links/">ã€Linksã€‘</a>å»çœ‹ä¸€ä¸‹ã€‚</p><p>å—¯â€¦.ç„¶åæˆ‘å°±è¯•ç€æŠŠYluiï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ¡Œé¢ç»™é…ç½®äº†ä¸€ä¸‹ï¼Œå¾ˆç®€å•ï¼ŒGithubä¸Šçš„ä¸œè¥¿å®‰è£…èµ·æ¥æ°¸è¿œéƒ½å¾ˆç®€å•ï¼Œè¦ä¹ˆåŒå‡»ï¼Œè¦ä¹ˆä¸€æ¡å‘½ä»¤ï¼Œè¦ä¹ˆcloneä¸€ä¸‹ä¸€æ¡å‘½ä»¤ã€‚</p><p>è¿™ä¸ªæ¡Œé¢å±äºç¬¬ä¸‰è€…ï¼Œæƒ³å°è¯•ä¸€ä¸‹çš„å¯ä»¥å»æˆ‘çš„åšå®¢[ã€å¥½ç‰©å°è®°ã€‘]ï¼ˆ<a href="http://110.40.191.51/2021/09/30/%E5%A5%BD%E7%89%A9%E5%B0%8F%E8%AE%B0/%EF%BC%89%EF%BC%8C%E5%88%92%E5%88%B0%E6%9C%80%E4%B8%8B%E6%96%B9%E6%89%BE%E5%88%B0Ylui%E5%8D%B3%E5%8F%AF%E8%BF%9B%E5%85%A5%E5%AE%98%E7%BD%91%E3%80%82">http://110.40.191.51/2021/09/30/å¥½ç‰©å°è®°/ï¼‰ï¼Œåˆ’åˆ°æœ€ä¸‹æ–¹æ‰¾åˆ°Yluiå³å¯è¿›å…¥å®˜ç½‘ã€‚</a></p><p><br><br></p><div class="note note-primary">            <p>ç„¶è€Œï¼Œè¿™å¹¶ä¸æ˜¯å…¨éƒ¨ï¼Œå¤§Eå“¥ç”šè‡³è¿˜æœ‰è‡ªå·±çš„è§†é¢‘ç½‘ç«™â€¦â€¦.</p>          </div>]]></content>
    
    
    <categories>
      
      <category>æ—¥è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ—¥è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Linuxã€‘Vimï½œå…¥é—¨ä¸è¿›é˜¶</title>
    <link href="/2021/10/10/%E3%80%90%E8%AE%B0%E3%80%91Vim%EF%BD%9C%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6/"/>
    <url>/2021/10/10/%E3%80%90%E8%AE%B0%E3%80%91Vim%EF%BD%9C%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="Linux-åŸºæœ¬æ“ä½œ-vim-ç¯‡"><a href="#Linux-åŸºæœ¬æ“ä½œ-vim-ç¯‡" class="headerlink" title="Linux åŸºæœ¬æ“ä½œ vim ç¯‡"></a>Linux åŸºæœ¬æ“ä½œ vim ç¯‡</h2><hr><p><br><br><br></p><h3 id="vim-ç®€ä»‹"><a href="#vim-ç®€ä»‹" class="headerlink" title="vim ç®€ä»‹"></a>vim ç®€ä»‹</h3><hr><p>vim æ˜¯ Linux ä¸Šæœ€åŸºæœ¬çš„æ–‡æœ¬ç¼–è¾‘å·¥å…·ï¼Œå…¶åœ°ä½åƒæ˜¯ Windows è‡ªå¸¦çš„è®°äº‹æœ¬å·¥å…·ï¼Œè¿˜è¦å°‘æ•°çš„ Linux ç³»ç»Ÿè‡ªå¸¦ leafpad ç¼–è¾‘å™¨ï¼Œleafpad çš„æ“ä½œç•Œé¢æ›´åƒæ˜¯ Win çš„è®°äº‹æœ¬ï¼Œå¯ä»¥ä½¿ç”¨é¼ æ ‡åˆ‡æ¢å…‰æ ‡ï¼Œè‡ªç”±åˆ é™¤ï¼Œå¹¶ä¸”ç‚¹å‡»å·¦ä¸Šè§’çš„æ–‡ä»¶å¯ä»¥è¿›è¡Œä¿å­˜ï¼›ä½†æ˜¯ vim ç¼–è¾‘å™¨å´åƒæ˜¯ä¸€ä¸ªç®€å•çš„æŒ‡ä»¤å·¥å…·ï¼Œå…¶æ“ä½œå¿…é¡»ä¾é æŒ‡ä»¤æ¥å®Œæˆï¼Œä½†æ˜¯å¦‚æœä¸ä¼šä½¿ç”¨ vim çš„è¯ï¼Œæ˜¯æ— æ³•å®Œæˆå¾ˆå¤šæ“ä½œçš„ï¼Œç”šè‡³å¯¹å¤§å¤šæ•°åªé›†æˆäº† vim çš„ç³»ç»Ÿæ¥è¯´ï¼Œä¸ä¼šä½¿ç”¨ vim ï¼Œç”šè‡³æ— æ³•å®‰è£… leafpad ï¼Œè€Œåœ¨ Linux ç³»ç»Ÿä¸­ï¼Œåˆšè£…å®Œçš„ç³»ç»Ÿï¼ˆå›½äº§ç³»ç»Ÿé™¤å¤–ï¼‰ä¸€å®šè¦è¿›è¡Œæ¢æºï¼Œè¿™æ—¶å€™å°±è¦ä½¿ç”¨åˆ°ä¸€ä¸ªç¼–è¾‘å™¨å·¥å…·ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿåªæœ‰ vimï¼Œæœ€å¥½è¿˜æ˜¯å­¦ä¹ ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ vimï¼›</p><p><br><br></p><h3 id="vim-ä¸‰ç§æ¨¡å¼"><a href="#vim-ä¸‰ç§æ¨¡å¼" class="headerlink" title="vim ä¸‰ç§æ¨¡å¼"></a>vim ä¸‰ç§æ¨¡å¼</h3><hr><ul><li>åªè¯»æ¨¡å¼ï¼šä½¿ç”¨ vim æ‰“å¼€æ–‡ä»¶ä¸º  åªè¯»æ¨¡å¼ï¼Œæ­¤æ—¶åªå¯ä»¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œæ— æ³•å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼›</li><li>æ’å…¥æ¨¡å¼ï¼šå³ ç¼–è¾‘æ¨¡å¼ ï¼Œæ­¤æ—¶å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼Œå­—ç¬¦çš„æ’å…¥æˆ–åˆ é™¤ç­‰æ“ä½œï¼›</li><li>åº•è¡Œæ¨¡å¼ï¼šç±»ä¼¼äºç»ˆç«¯çš„å‘½ä»¤è¡Œï¼Œæ­¤æ—¶å¯ä»¥è¾“å…¥å‘½ä»¤ï¼Œé€‰æ‹©æ˜¯ä¿å­˜æ–‡ä»¶ / ä¿å­˜å¹¶é€€å‡º / ä¸ä¿å­˜é€€å‡º / å¼ºåˆ¶é€€å‡º ç­‰ï¼›</li></ul><p><br><br></p><h2 id="vim-åŸºæœ¬å‘½ä»¤"><a href="#vim-åŸºæœ¬å‘½ä»¤" class="headerlink" title="vim åŸºæœ¬å‘½ä»¤"></a>vim åŸºæœ¬å‘½ä»¤</h2><hr><p><font color=DarkGray size=2>åŸºæœ¬çš„ç¼–è¾‘å‘½ä»¤ï¼Œå­¦ä¼šåå¯ä»¥æµç•…æ“ä½œ vim ç¼–è¾‘å™¨ï¼›</font></p><hr><ul><li>åœ¨è¿›å…¥ vim ä¹‹å‰ï¼Œå»ºè®®ä½¿ç”¨ï¼šsudo su å‘½ä»¤è¿›å…¥è¶…çº§ç®¡ç†å‘˜æ¨¡å¼ï¼Œå¦åˆ™ä¸€äº›ç³»ç»Ÿçº§çš„æ–‡ä»¶å³ä½¿ä½ ç¼–è¾‘äº†ï¼Œä¹Ÿæ— æ³•è¿›è¡Œä¿å­˜ï¼›</li><li>æ‰“å¼€æ–‡ä»¶ï¼šæ‰“å¼€æ§åˆ¶ç»ˆç«¯ï¼Œè¾“å…¥ vim + ä¸€ä¸ªæ–‡æœ¬çš„åå­—ï¼Œå°±å¯ä»¥æ‰“å¼€è¿™ä¸ªæ–‡æœ¬ï¼ˆæ‰“å¼€å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶åªéœ€è¦è¾“å…¥æ–‡ä»¶åï¼Œæ‰“å¼€å…¶ä»–ç›®å½•ä¸‹çš„æ–‡ä»¶éœ€è¦è¾“å…¥ç»å¯¹åœ°å€ï¼‰ï¼›è¿™ä¸ªæ—¶å€™æ˜¯â€œåªè¯»â€æ¨¡å¼ï¼Œæ— æ³•å¯¹æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼›</li><li>ç¼–è¾‘å‘½ä»¤ï¼šè¿›å…¥æ–‡ä»¶ä¹‹åï¼Œç‚¹å‡»<code>i</code>ï¼ˆinsert ç¼©å†™ï¼‰ï¼Œè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥è‡ªä½¿ç”¨ä¸Šä¸‹å·¦å³å››ä¸ªé”®æ§åˆ¶å…‰æ ‡ï¼Œä½¿ç”¨åˆ é™¤é”®åˆ é™¤ï¼Œæˆ–è¾“å…¥ä»»æ„å­—ç¬¦ï¼›</li><li>åº•è¡Œæ¨¡å¼ï¼šå¯¹æ–‡ä»¶ç¼–è¾‘å¥½ä¹‹åï¼Œç‚¹ä¸€ä¸‹<code>Esc</code>é”®ï¼Œè¿›å…¥åº•è¡Œæ¨¡å¼ï¼Œæ­¤æ—¶å¯ä»¥è¾“å…¥å‘½ä»¤é€‰æ‹©å¯¹æ–‡ä»¶çš„æ“ä½œï¼ŒåŸºæœ¬å‘½ä»¤å¦‚ä¸‹ï¼ˆæ³¨ï¼šä»¥å†’å·å¼€å¤´ï¼‰ï¼š</li></ul><div class="note note-primary">            <p>å¸¸ç”¨åŸºç¡€å‘½ä»¤</p>          </div><table><thead><tr><th>æŒ‡ä»¤</th><th>æ•ˆæœ</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>ï¼šwq</td><td>ä¿å­˜ å¹¶ é€€å‡º</td><td>ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºæ–‡ä»¶ï¼Œè¿”å›åˆ°å‘½ä»¤ç»ˆç«¯ç•Œé¢ï¼›</td></tr><tr><td>ï¼šq</td><td>é€€å‡º</td><td>ä¸ä¿å­˜ï¼Œç›´æ¥é€€å‡ºæ–‡ä»¶ï¼Œè¿”å›åˆ°å‘½ä»¤ç»ˆç«¯ç•Œé¢ï¼›</td></tr><tr><td>ï¼šqï¼</td><td>å¼ºåˆ¶é€€å‡º</td><td>æç¤ºæ— æ³•ä¿å­˜çš„æ—¶å€™ï¼ŒåŠ ï¼å¯ä»¥å¼ºåˆ¶é€€å‡ºæ–‡ä»¶ï¼Œæ­¤æ—¶çš„æ–‡ä»¶ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œå¹¶ä¸ä¼šå­˜å›ç£ç›˜ä¸­ï¼›</td></tr><tr><td>ï¼šwqï¼</td><td>å¼ºåˆ¶ä¿å­˜å¹¶é€€å‡º</td><td>æ­¤æ—¶æ–‡ä»¶ä¼šè¢«å¼ºåˆ¶ä¿å­˜ï¼Œå¹¶é€€å‡ºå›åˆ°å‘½ä»¤ç»ˆç«¯ï¼›</td></tr></tbody></table><p><br><br></p><h2 id="vim-è¿›é˜¶å‘½ä»¤"><a href="#vim-è¿›é˜¶å‘½ä»¤" class="headerlink" title="vim è¿›é˜¶å‘½ä»¤"></a>vim è¿›é˜¶å‘½ä»¤</h2><hr><p><font color=DarkGray size=2>è¿›é˜¶æŒ‡ä»¤ï¼Œå­¦ä¼šåæ“ä½œæ›´æ–¹ä¾¿ï¼Œç›¸å½“äºé­”æ³•åŠ æˆï¼›</font></p><hr><div class="note note-primary">            <p>å…‰æ ‡æ§åˆ¶</p>          </div><table><thead><tr><th>æŒ‡ä»¤</th><th>æ•ˆæœ</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>:num</td><td>è®©å…‰æ ‡è·³åˆ°ç¬¬ Xnumè¡Œé¦–</td><td>åªä¼šè·³åˆ°è¡Œé¦–</td></tr><tr><td>:nd</td><td>åˆ é™¤ç¬¬ n è¡Œ</td><td>d:delete</td></tr><tr><td>:n , md</td><td>ä»ç¬¬ n è¡Œåˆ åˆ°ç¬¬ m è¡Œ</td><td>m ä¸èƒ½è¶…è¿‡æœ€åä¸€è¡Œï¼Œå¦åˆ™æç¤ºæ— æ•ˆ</td></tr></tbody></table><div class="note note-primary">            <p>å¿«é€Ÿå¤åˆ¶ç²˜è´´</p>          </div><table><thead><tr><th>æŒ‡ä»¤</th><th>æ•ˆæœ</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>:n,my</td><td>å¤åˆ¶ç¬¬ n è¡Œåˆ° m è¡Œçš„å†…å®¹</td><td>æŒ‰ p ç²˜è´´ï¼ˆPasteï¼‰</td></tr><tr><td>:n,md</td><td>å‰ªåˆ‡ç¬¬ n è¡Œåˆ° m è¡Œçš„å†…å®¹</td><td>æŒ‰ p ç²˜è´´ï¼ˆPasteï¼‰</td></tr></tbody></table><div class="note note-primary">            <p>æ–‡æœ¬ç¼–è¾‘ï¼ˆæ•ˆæœç±»ä¼¼äºå„ç±»ç¼–è¾‘å™¨çš„â€œç¼–è¾‘â€åŠŸèƒ½ï¼‰</p>          </div><table><thead><tr><th>æŒ‡ä»¤</th><th>æ•ˆæœ</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>ï¼š%s#old#new#g</td><td>å…¨å±€æ›¿æ¢</td><td>gï¼šå…¨å±€ ï¼›#ä¸æ˜¯ä»£æ›¿ç©ºæ ¼ç”¨çš„ï¼Œä¸å¯ä»¥åˆ é™¤ï¼›</td></tr><tr><td>ï¼šnum s#old#new#g</td><td>åœ¨ç¬¬ num è¡ŒæŸ¥æ‰¾oldå¹¶å°†å…¶æ›¿æ¢æˆnew</td><td>ç›¸å¯¹äºä¸Šä¸€æ¡å‘½ä»¤ï¼ŒåŠ äº†ä¸€ä¸ªèŒƒå›´ï¼šæŸä¸€è¡Œï¼›</td></tr><tr><td>ï¼šn  , m s#old#new#g</td><td>åœ¨ç¬¬ n åˆ° m è¡ŒæŸ¥æ‰¾oldå¹¶å°†å…¶æ›¿æ¢æˆnew</td><td>ç›¸å¯¹äºä¸Šä¸€æ¡å‘½ä»¤ï¼Œæ‰©å¤§äº†èŒƒå›´ï¼Œå¤šè¡Œï¼›-</td></tr></tbody></table><div class="note note-primary">            <p>æ–‡ä»¶æ“ä½œ</p>          </div><table><thead><tr><th>æŒ‡ä»¤</th><th>æ•ˆæœ</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>vsp xxx.c</td><td>å·¦å³åˆ†å±æ‰“å¼€ xxx.c æ–‡ä»¶</td><td>åˆ†å±åº”è¯¥å¾ˆå¸¸è§äº†ï¼Œå¯ä»¥ç†è§£å§</td></tr><tr><td>sp  xxx.c</td><td>ä¸Šä¸‹åˆ†å±æ‰“å¼€ xxx.c æ–‡ä»¶</td><td></td></tr><tr><td>:w new xxx.c</td><td>å°†å½“å‰æ–‡ä»¶å¦å­˜ä¸º xxx.c æ–‡ä»¶</td><td>å¯ä»¥ä½¿ç”¨ç»å¯¹åœ°å€</td></tr><tr><td>:n ,mw new xxx.c</td><td>å°†å½“å‰æ–‡ä»¶çš„ç¬¬ n åˆ° m è¡Œå¦å­˜ä¸º xxx.c æ–‡ä»¶</td><td>ä½¿ç”¨æ—¶å€™æ³¨æ„ä¸è¦å°‘äº† <code>w</code></td></tr><tr><td>:0r  /etc/hosts</td><td>å°†/etc/hostsæ–‡ä»¶ä¸­çš„å†…å®¹å¯¼å…¥åˆ°æ­¤æ–‡ä»¶çš„å¼€å¤´</td><td></td></tr><tr><td>:$r /etc/hosts</td><td>å°†/etc/hostsæ–‡ä»¶ä¸­çš„å†…å®¹å¯¼å…¥åˆ°æ­¤æ–‡ä»¶çš„ç»“å°¾</td><td></td></tr></tbody></table><div class="note note-primary">            <p>æœç´¢å†…å®¹</p>          </div><table><thead><tr><th>æŒ‡ä»¤</th><th>æ•ˆæœ</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>/word</td><td>åœ¨æ–‡ä»¶ä¸­æœç´¢<code>word</code>è¿™ä¸ªå•è¯</td><td></td></tr><tr><td>n</td><td>å‘ä¸‹æŸ¥æ‰¾ï¼ˆä¸‹ä¸€ä¸ªï¼‰</td><td></td></tr><tr><td>N</td><td>å‘ä¸ŠæŸ¥æ‰¾ï¼ˆä¸Šä¸€ä¸ªï¼‰</td><td></td></tr><tr><td>/word\c</td><td><font color=7baf23>å¿½ç•¥å¤§å°å†™</font>,åœ¨æ–‡ä»¶ä¸­æœç´¢<code>word</code>è¿™ä¸ªå•è¯</td><td></td></tr><tr><td>:noh</td><td>å–æ¶ˆé«˜äº®</td><td>é€€å‡ºâ€œæŸ¥æ‰¾æ¨¡å¼â€</td></tr></tbody></table><div class="note note-warning">            <p>æœ¬åšå®¢æ¬è¿è‡ªæˆ‘çš„åšå®¢å›­ï¼ŒåŸä½œè€…äº¦æ˜¯æœ¬äººï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>          </div>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è¿›é˜¶</tag>
      
      <tag>Linux</tag>
      
      <tag>vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç»´æŠ¤å°ç ´ç«™ã€‘è§£å†³Hexoåœ¨æœåŠ¡å™¨ä¸Šæ–­å¼€SSHé“¾æ¥åå°±è‡ªåŠ¨æ–­å¼€çš„é—®é¢˜</title>
    <link href="/2021/10/10/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91%E8%A7%A3%E5%86%B3Hexo%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E6%96%AD%E5%BC%80SSH%E9%93%BE%E6%8E%A5%E5%90%8E%E5%B0%B1%E8%87%AA%E5%8A%A8%E6%96%AD%E5%BC%80%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2021/10/10/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91%E8%A7%A3%E5%86%B3Hexo%E5%9C%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E6%96%AD%E5%BC%80SSH%E9%93%BE%E6%8E%A5%E5%90%8E%E5%B0%B1%E8%87%AA%E5%8A%A8%E6%96%AD%E5%BC%80%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h2 id="å¦‚é¢˜"><a href="#å¦‚é¢˜" class="headerlink" title="å¦‚é¢˜"></a>å¦‚é¢˜</h2><hr><div class="note note-primary">            <p>é—²è¯</p>          </div><p>ä¸ºäº†è®©åšå®¢åœ¨å›½å†…å¯ä»¥è®¿é—®ï¼Œæˆ‘æ”¾å¼ƒäº†GithubPageï¼Œé€‰æ‹©ä½¿ç”¨æœåŠ¡å™¨ï¼Œå½“å¼„å¥½ä¸€åˆ‡ä¹‹åå´å‘ç°ï¼Œåªèƒ½ä¿æŒSSHé“¾æ¥çŠ¶æ€æ‰èƒ½è¿›è¡Œè®¿é—®ï¼Œè¿™å¯çœŸçš„è¦äº†è€å‘½ï¼Œæ€»ä¸èƒ½ä¸€ç›´è¿æ¥ç€å§ï¼Œä»€ä¹ˆæ—¶å€™æˆ‘å‡ºä¸ªé—¨ç½‘ä¸€æ–­å°±ä¸è¡Œäº†ï¼Œç”¨æ ‘è“æ´¾çš„è¯å€’æ˜¯å¯ä»¥ï¼Œä½†æ˜¯å¦‚æœå®¶é‡Œåœç”µçš„è¯ä¹Ÿå‡‰å‡‰ï¼ˆå†µä¸”è¿™ç§æ–¹å¼è¿˜ä¸å¦‚ç›´æ¥éƒ¨ç½²åœ¨æ ‘è“æ´¾é‡Œï¼‰ï¼Œäºæ˜¯æˆ‘æœæ–­æ”¾å¼ƒï¼Œå¼€å§‹å¯»æ‰¾æ–°çš„åŠæ³•ã€‚</p><ul><li>è§£å†³æ–¹æ¡ˆä¸€ï¼šNginxæ‰˜ç®¡ï¼Œå‚è€ƒçš„<a href="https://blog.csdn.net/qq_41684621/article/details/102934590">å…®åŠ¨äººçš„ã€åšå®¢ã€‘</a><ul><li>æ—¢ç„¶Nginxå¯ä»¥æ‰˜ç®¡Vueé¡¹ç›®é‚£ä¹ˆHexoåº”è¯¥ä¹Ÿæ˜¯ä¸æˆé—®é¢˜çš„</li><li>ä½†æ˜¯çœ‹åšå®¢é‡Œå†™çš„å¥½åƒå¾ˆéº»çƒ¦ï¼Œæˆ‘å°±è¯•å›¾å¯»æ‰¾å…¶ä»–æ–¹æ³•</li></ul></li><li>è§£å†³æ–¹æ¡ˆäºŒï¼špm2åå°è¿è¡Œï¼Œå‚è€ƒ<a href="https://blog.csdn.net/m0_43584016/article/details/104997625">å¾·é²å¤§å”æ’¸ä»£ç çš„ã€åšå®¢ã€‘</a><ul><li>è¿™ç§æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œç±»ä¼¼äºå†™è„šæœ¬åå°è·‘</li><li>å…·ä½“å®ç°å¦‚ä¸‹</li></ul></li></ul><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><div class="note note-primary">            <h3 id="è§£å†³æ–¹æ¡ˆï¼ŒPM2åå°è¿è¡ŒHexo"><a href="#è§£å†³æ–¹æ¡ˆï¼ŒPM2åå°è¿è¡ŒHexo" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼ŒPM2åå°è¿è¡ŒHexo"></a>è§£å†³æ–¹æ¡ˆï¼ŒPM2åå°è¿è¡ŒHexo</h3>          </div><p>æœåŠ¡å™¨ç«¯ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤å…¨å±€å®‰è£…pm2ï¼ˆè¯·å…ˆå®‰è£…nodejsï¼‰</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">npm install -g pm2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>è¿›å…¥Hexoåšå®¢æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶run.jsæ–‡ä»¶ï¼Œå¹¶å°†å¦‚ä¸‹å†…å®¹å¤åˆ¶è¿›å»</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> exec <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'hexo server -p 4000'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> stdout<span class="token punctuation">,</span> stderr</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>     <span class="token comment">//æŒ‡å®šç«¯å£</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">exec error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>error<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>    <span class="token keyword">return</span>  <span class="token punctuation">&#125;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">stdout: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>stdout<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">stderr: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>stderr<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å”¯ä¸€è¦ä¿®æ”¹çš„åœ°æ–¹åªæœ‰ç«¯å£å·ï¼Œç”±äºé»˜è®¤ä¾¿æ˜¯4000æ‰€ä»¥æˆ‘è¿™é‡Œä¹Ÿé€‰æ‹©äº†4000ç«¯å£</p><p>é€€å‡ºå¹¶ä¸”ä¿å­˜ï¼Œå¹¶ä¸”åœ¨åŒçº§ç›®å½•ä¸‹æ‰§è¡Œä¸€ä¸‹æŒ‡ä»¤ï¼Œè®©æ­¤è„šæœ¬è·‘èµ·æ¥ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pm2 start run.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>çœ‹åˆ°ä»¥ä¸‹å†…å®¹å°±æ˜¯è¿è¡ŒæˆåŠŸäº†ï¼Œå¯ä»¥å…³æ‰sshè¿œç¨‹å¹¶ä¸”å°è¯•è®¿é—®è‡ªå·±çš„åšå®¢ã€‚</p><p><img src="https://i.loli.net/2021/10/10/khHDbUI4MRJSLAa.png"></p><div class="note note-primary">            <h3 id="å…¶ä»–ç›¸å…³å‘½ä»¤"><a href="#å…¶ä»–ç›¸å…³å‘½ä»¤" class="headerlink" title="å…¶ä»–ç›¸å…³å‘½ä»¤"></a>å…¶ä»–ç›¸å…³å‘½ä»¤</h3>          </div><div class="note note-success">            <p>åˆ›å»ºæ–‡ä»¶å¤¹ï¼šmkdir filename</p>          </div><div class="note note-success">            <p>åˆ›å»ºæ–‡ä»¶: touch name.xxx</p>          </div><div class="note note-success">            <p>Vimçš„ç›¸å…³æŒ‡ä»¤è¯·<a href="http://110.40.191.51:4000/2021/10/10/Vim%EF%BD%9C%E5%85%A5%E9%97%A8%E4%B8%8E%E8%BF%9B%E9%98%B6/">ã€ç‚¹å‡»æ­¤å¤„ã€‘</a></p>          </div>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»´æŠ¤å°ç ´ç«™</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç»´æŠ¤å°ç ´ç«™ã€‘æ­å»ºFluidå¹¶ç¾åŒ–</title>
    <link href="/2021/10/09/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91Fluid%E7%BE%8E%E5%8C%96/"/>
    <url>/2021/10/09/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91Fluid%E7%BE%8E%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h2 id="é—²èŠ"><a href="#é—²èŠ" class="headerlink" title="é—²èŠ"></a>é—²èŠ</h2><hr><div class="note note-primary">            <p>å¾ˆç¦»è°±ï¼Œåˆšæ­å»ºå®ŒæˆNexTæ²¡å‡ å¤©ï¼Œå°±å†³å®šæ›´æ¢ä¸»é¢˜äº†</p>          </div><p>å…¶å®åœ¨æœ€åˆæ¥è§¦Hexoçš„æ—¶å€™ï¼Œæˆ‘ä¾¿æ­å»ºè¿‡Fluidåšå®¢ï¼Œé‚£å¤§æ¦‚å·²ç»æ˜¯ä¸¤å¹´å‰äº†ï¼ŒåŒæ—¶ä»‹ç»Hexoç»™æˆ‘çš„å‰è¾ˆä¹Ÿæ˜¯ä½¿ç”¨çš„Fluidï¼Œä½†æ˜¯é‚£æ¬¡çš„åšå®¢æ²¡æœ‰è¿›è¡Œä¿å­˜ï¼Œæœ¬åœ°è¿è¡Œç»“æŸä¹‹åä¾¿å¼ƒç”¨äº†ã€‚</p><p>è€Œåœ¨æœ€è¿‘æ­å»ºNexTä¸»é¢˜çš„æ—¶å€™ï¼Œé¢‘ç¹é‡åˆ°<a href="http://theme-next.iissnan.com/">NexTä¸»é¢˜çš„é…ç½®æ–‡æ¡£</a>ï¼Œå…¶é¡µé¢éå¸¸çš„ç¾è§‚ä¸”æ¯”è¾ƒä¸¥è‚ƒï¼Œäºæ˜¯ä¾¿æƒ³ç”¨NexTå®ç°ä¸€ä¸‹è¿™ä¸ªç•Œé¢ï¼Œè¿™å…¶ä¸­é‡åˆ°çš„æœ€å¤§é—®é¢˜ä¾¿æ˜¯æ–‡ç« çš„Bannerå›¾ç‰‡çš„æ’å…¥ï¼Œåœ¨å…¶ä¸­æˆ‘å‚è€ƒäº†<a href="https://zhuanlan.zhihu.com/p/75353138">è¿™ä¸€ç¯‡æ–‡ç« </a>ï¼Œæ–‡ç« å‘è¡¨äº2019å¹´ï¼Œæ‰€ä½¿ç”¨çš„é…ç½®å·²ç»æœ‰äº›è¿‡æ—¶äº†ï¼Œç ”ç©¶äº†åŠå°æ—¶çš„ä»£ç ä¹‹åï¼Œç»ˆäºå®ç°äº†ï¼Œåªä¸è¿‡Bannerå›¾ç‰‡åªæ˜¯å¡åœ¨ä¸­é—´ï¼Œä¸€ç‚¹éƒ½ä¸ç¾è§‚ï¼Œäºæ˜¯ä¹æˆ‘å°±è¿›å…¥äº†<a href="https://hexo.io/themes/">Hexoä¸»é¢˜</a>ï¼Œæƒ³æ‰¾ä¸€æ¬¾åˆé€‚çš„ï¼Œæœ€åé”å®šäº†Fluidã€‚</p><hr><p>ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰è·Ÿæˆ‘ä¸€æ ·çš„æ„Ÿè§‰ï¼Œå¤§å¤šæ•°çš„Fluidç”¨æˆ·éƒ½æ˜¯äºŒæ¬¡å…ƒï¼Œè¿™ä¹Ÿè®©æˆ‘å¯¹Fluidä¸€å¼€å§‹çš„å°è±¡ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥æ‰æœ‰äº†åé¢å°è¯•äº†Zzomanå’ŒNexTï¼Œå½“ç„¶æˆ‘ä¹Ÿå¾ˆæ¸…æ¥šHexoçš„æ ·å­éƒ½æ˜¯çœ‹ä¸ªäººçš„ï¼Œè€Œä¸”Fluidè£…é¥°èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚æœè¦åŠ ä¹±ä¸ƒå…«ç³Ÿçš„åŠŸèƒ½çš„è¯åŒæ ·ä¹Ÿä¼šå¾ˆéº»çƒ¦ï¼Œä½†æ˜¯æˆ‘è¿™æ¬¡æ˜¯<strong>æ±‚ç®€é¿çƒ¦</strong>ï¼Œå› æ­¤åœ¨æ­å»ºçš„æ—¶å€™åŸºæœ¬åªè¦å¯¹ç€Fluidçš„<span class="label label-warning">ä¸»é¢˜é…ç½®æ–‡ä»¶</span>ä¸æ–­ä¿®æ”¹å°±è¡Œäº†ï¼Œäºæ˜¯ä»Šå¤©ä¸‹åˆæœ€ä¸»è¦çš„å·¥ä½œå°±æ˜¯ç›¯ç€<span class="label label-warning">ä¸»é¢˜é…ç½®æ–‡ä»¶</span>æ¥æ¥å›å›çœ‹äº†å››äº”éï¼Œé¡ºä¾¿ä¿®æ”¹äº†ä¸€äº›å…¶ä»–å†…å®¹ã€‚</p><h2 id="ç¾åŒ–"><a href="#ç¾åŒ–" class="headerlink" title="ç¾åŒ–"></a>ç¾åŒ–</h2><hr><div class="note note-primary">            <p>å¼€å§‹ç¾åŒ–</p>          </div><div class="note note-success">            <p>Part 1:  1ï½400è¡Œä»£ç </p>          </div><table><thead><tr><th>åºå·</th><th align="left">ç›®æ ‡</th><th>æ”¹åŠ¨åœ°æ–¹ï¼ˆè¡Œæ•°ï¼‰</th><th>åŸæ¥æ˜¯</th><th>æ”¹æˆäº†</th></tr></thead><tbody><tr><td>1</td><td align="left">ä¿®æ”¹èœå•æ åˆ†éš”ç¬¦ä¸º ï½œ</td><td>- 29</td><td>-</td><td>ï½œ</td></tr><tr><td>2</td><td align="left">å…³é—­æ‰“å­—æ•ˆæœ</td><td>- 82</td><td>true</td><td>false</td></tr><tr><td>3</td><td align="left">é»˜è®¤æ˜¯â€œäº®â€æ¨¡å¼</td><td>- 123</td><td>auto</td><td>light</td></tr><tr><td>4</td><td align="left">ä¿®æ”¹äº†ä¸€äº›é»˜è®¤çš„é¢œè‰²ï¼Œè¿™ä¸ªè‡ªå·±æ”¹åŠ¨</td><td>- 128 ï½ 184</td><td></td><td></td></tr><tr><td>5</td><td align="left">æ›´æ”¹äº†å­—ä½“å¤§å°</td><td>- 189</td><td>18px</td><td>13px</td></tr><tr><td>6</td><td align="left">ç«™ç‚¹ç»Ÿè®¡</td><td>- 214</td><td></td><td></td></tr><tr><td>7</td><td align="left">å¯¼èˆªæ ä¿®æ”¹äº†æ ‡é¢˜å¹¶ä¸”å°†è‹±æ–‡æ”¹æˆäº†ä¸­æ–‡</td><td>- 290</td><td>English</td><td>ä¸­æ–‡</td></tr><tr><td>8</td><td align="left">Bannerï¼ˆèƒŒæ™¯å›¾ï¼‰å…³é—­äº†è§†è§‰å·®å¹¶æ›´æ¢å›¾ç‰‡ä¸ºç›®å‰çš„å›¾ç‰‡</td><td>- 346</td><td>parallax: false</td><td>parallax: true</td></tr><tr><td>9</td><td align="left">ç½‘ç«™ç»Ÿè®¡</td><td>- 396</td><td>æš‚æ—¶æ²¡æœ‰é…ç½®å®Œï¼Œéœ€è¦é…ç½®LearnCloud</td><td></td></tr></tbody></table><div class="note note-success">            <p>Part 2:  400ï½800è¡Œ</p>          </div><table><thead><tr><th>åºå·</th><th align="left">ç›®æ ‡</th><th>æ”¹åŠ¨åœ°æ–¹ï¼ˆè¡Œæ•°ï¼‰</th><th>åŸæ¥æ˜¯</th><th>æ”¹æˆäº†</th></tr></thead><tbody><tr><td>1</td><td align="left">Banneré»˜è®¤å›¾ï¼Œè¿™é‡Œæˆ‘æ²¡æœ‰ä¿®æ”¹ä»£ç ï¼›<br />è€Œæ˜¯å¤åˆ¶æ–‡ä»¶åˆ°imageä¹‹åæ”¹äº†æ–‡ä»¶åç§°ã€‚</td><td>- 431</td><td>é»˜è®¤èƒŒæ™¯å›¾</td><td>ç°åœ¨èƒŒæ™¯å›¾</td></tr><tr><td>2</td><td align="left">å‰¯æ ‡é¢˜æ”¹æˆè‡ªå·±å–œæ¬¢çš„</td><td>- 450</td><td>å¿˜äº†</td><td>è¿™é‡Œçœ‹ä¸‹é¢ï¼Œä¸€ä¼šå„¿è¯¦ç»†ä»‹ç»ã€‚</td></tr><tr><td>3</td><td align="left">æ–‡ç« é¡µï¼ˆæ²¡ä»€ä¹ˆè¦ä¿®æ”¹çš„ï¼‰</td><td>- 500</td><td></td><td></td></tr><tr><td>4</td><td align="left">å¼€å¯ã€æ–‡ç« æœ€åæ›´æ–°ã€‘</td><td>- 565</td><td>Content:false</td><td>Content:true</td></tr><tr><td>5</td><td align="left">è¯„è®ºã€è¿™é‡Œç”¨çš„æ˜¯Livereã€‘</td><td>- 645</td><td>false</td><td>true</td></tr><tr><td>6</td><td align="left">æ›´æ”¹Bannerå›¾çš„é«˜åº¦</td><td>- 790 ï½ 933</td><td>banner_img_height:60</td><td>banner_img_height: 25</td></tr><tr><td>7</td><td align="left">å‹æƒ…é“¾æ¥</td><td>- 899 ï½ 933</td><td></td><td></td></tr></tbody></table><div class="note note-success">            <div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;br&gt;&lt;br&gt;&lt;font size&#x3D;6&gt; ä¿æŒé¥¥é¥¿ ä¿æŒå¿«ä¹ &lt;&#x2F;font&gt; &lt;br&gt; &lt;br&gt;&lt;font size&#x3D;3&gt;Stay Hungry &amp; be Happy &amp;nbsp; &amp;nbsp;&amp;nbsp; &amp;nbsp;&lt;&#x2F;font&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><code>&lt;br&gt;</code>æ˜¯æ¢è¡Œ</p><p><code>&lt;font size&gt;</code>æ˜¯æ–‡å­—æ ¼å¼</p><p><code>&amp;nbsp;</code>æ˜¯ç©ºæ ¼ï¼Œä¸ºäº†è®©<code>&amp;</code>ç¬¦å·å‰§ä¸­</p>          </div><div class="note note-success">            <p>é™¤æ­¤ä¹‹å¤–è¿˜ä¿®æ”¹äº†<code>themes/fluid/languages/de.yml</code>æ–‡ä»¶ï¼Œå°†è‹±æ–‡å…¨éƒ¨æ”¹æˆäº†ä¸­æ–‡ï¼›</p><p>è¿™é‡Œçš„å†…å®¹ä¿®æ”¹çš„æ˜¯èœå•æ åˆ†éš”ç¬¦å‰é¢çš„å†…å®¹ï¼ˆtitleï¼‰ä¸é™¤ä¸»é¡µä¸æ–‡ç« é¡µä»¥å¤–å…¶ä»–é¡µé¢çš„å‰¯æ ‡é¢˜ï¼ˆsubtitleï¼‰ã€‚</p>          </div><div class="note note-success">            <p>å¦å¤–ï¼Œä¸ºäº†å°†ä¸‹æ–¹çš„éœ²å‡ºæ¥çš„å°å¤´å¤´ç»™ç æ‰ï¼Œæˆ‘å¯¹<code>themes/f/source/css/_pages/_base/_widget/board.styl</code>æ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-stylus" data-language="stylus"><code class="language-stylus"><span class="token selector">#board</span>  <span class="token comment">// position relative</span>  <span class="token property-declaration"><span class="token property">margin-top</span> <span class="token number">-2</span><span class="token unit">rem</span></span>  <span class="token property-declaration"><span class="token property">background-color</span> <span class="token func"><span class="token function">var</span><span class="token punctuation">(</span><span class="token operator">-</span>-board-bg-color<span class="token punctuation">)</span></span></span>  <span class="token property-declaration"><span class="token property">transition</span> background-color <span class="token number">.9</span><span class="token unit">s</span> ease-<span class="token operator">in</span>-out</span>  <span class="token property-declaration"><span class="token property">border-radius</span> <span class="token number">0.1</span><span class="token unit">rem</span></span>  <span class="token property-declaration"><span class="token property">z-index</span> <span class="token number">3</span></span>  <span class="token comment">//-webkit-box-shadow 0 12px 15px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.19)</span>  <span class="token comment">//box-shadow 0 12px 15px 0 rgba(0, 0, 0, 0.24), 0 17px 50px 0 rgba(0, 0, 0, 0.19)</span>  <span class="token comment">// ç¬¬ä¸€è¡Œæ˜¯å‡¸èµ·</span>  <span class="token comment">// æœ€åä¸¤è¡Œæ˜¯é˜´å½±</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>          </div><p><img src="https://i.loli.net/2021/10/09/kdYTK42JVfGxyUl.png"></p><h2 id="æœ€ç»ˆæ•ˆæœ"><a href="#æœ€ç»ˆæ•ˆæœ" class="headerlink" title="æœ€ç»ˆæ•ˆæœ"></a>æœ€ç»ˆæ•ˆæœ</h2><div class="note note-primary">            <p>æœ€ç»ˆæ•ˆæœ</p>          </div><p><img src="https://i.loli.net/2021/10/09/m2sFMHQIj5bS9Nf.png" alt="æœ€ç»ˆæ•ˆæœå›¾"></p><div class="note note-primary">            <p>ç»“æŸï¼Œç”±äºä»åŸç½‘é¡µè¡ä¸‹æ¥çš„å›¾ç‰‡åˆ†è¾¨ç‡ä¸æ˜¯å¾ˆé«˜ï¼Œæ‰€ä»¥è‡ªå·±Päº†ä¸€å¼ èƒŒæ™¯å›¾ã€‚</p>          </div>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»´æŠ¤å°ç ´ç«™</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç»´æŠ¤å°ç ´ç«™ã€‘åšå®¢é‡æ–°æ­å»º</title>
    <link href="/2021/10/07/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91%E5%8D%9A%E5%AE%A2%E9%87%8D%E6%96%B0%E6%90%AD%E5%BB%BA/"/>
    <url>/2021/10/07/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91%E5%8D%9A%E5%AE%A2%E9%87%8D%E6%96%B0%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€-åæ§½ä¸€ä¸‹é‡åˆ°çš„ç¦»è°±é—®é¢˜"><a href="#å‰è¨€-åæ§½ä¸€ä¸‹é‡åˆ°çš„ç¦»è°±é—®é¢˜" class="headerlink" title="å‰è¨€ åæ§½ä¸€ä¸‹é‡åˆ°çš„ç¦»è°±é—®é¢˜"></a>å‰è¨€ <font size=3>åæ§½ä¸€ä¸‹é‡åˆ°çš„ç¦»è°±é—®é¢˜</font></h2><div class="note note-danger">            <p>å¾ˆç¦»è°±ï¼å¾ˆå¥‡è‘©ï¼æŠŠæœ¬åœ°çš„åšå®¢æ”¾åˆ°äº†TencentCloudä¹‹åï¼Œé»˜è®¤è¯­è¨€å˜æˆäº†é˜¿æ‹‰ä¼¯æ–‡ï¼</p>          </div><p>æ‰¾äº†å¾ˆä¹…çš„é—®é¢˜ï¼Œæœ€åç¡®è®¤æ˜¯NexT<span class="label label-primary">ä¸»é¢˜é…ç½®æ–‡ä»¶</span>å‡ºäº†é—®é¢˜ï¼Œæœ€åç´¢æ€§ç›´æ¥é‡æ–°æ­å»ºäº†ã€‚</p><p><img src="https://i.loli.net/2021/10/07/AB7XDgIbhe5yCmq.png" alt="é˜¿æ‹‰ä¼¯æ–‡ç‰ˆåšå®¢"></p><br><br><h2 id="å‰æœŸå‡†å¤‡ç›¸å…³é…ç½®åŠç‰ˆæœ¬"><a href="#å‰æœŸå‡†å¤‡ç›¸å…³é…ç½®åŠç‰ˆæœ¬" class="headerlink" title="å‰æœŸå‡†å¤‡ç›¸å…³é…ç½®åŠç‰ˆæœ¬"></a>å‰æœŸå‡†å¤‡<font size=3>ç›¸å…³é…ç½®åŠç‰ˆæœ¬</font></h2><hr><div class="note note-primary">            <p>ç›¸å…³é…ç½®ï¼š</p><ul><li>MacBook M1 Air</li><li>NexT version 8.8.0</li><li>Tencent Cloud CentOS 8.2 64bit</li><li>Nodejs 14.16.1</li><li>æ–‡ä»¶ä¼ è¾“ï¼š<a href="bt.cn">å®å¡”</a></li></ul>          </div><hr><br><br><h2 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="headerlink" title="å¼€å§‹å®‰è£…"></a>å¼€å§‹å®‰è£…</h2><h3 id="å®‰è£…-å®å¡”"><a href="#å®‰è£…-å®å¡”" class="headerlink" title="å®‰è£… å®å¡”"></a>å®‰è£… å®å¡”</h3><p>åœ¨TencentCloud å®‰è£…Hexoä¸NexTä¸»é¢˜å¾ˆç®€å•ï¼Œä½¿ç”¨<span class="label label-primary">git</span>ä¸<span class="label label-primary">vim</span>ä¾¿å¯ä»¥å®Œæˆï¼Œä½†æ˜¯ä»…ä»…ä½¿ç”¨<span class="label label-primary">vim</span>æ¥ä¿®æ”¹é…ç½®åˆ™å¤ªéº»çƒ¦äº†ï¼Œå†µä¸”ç¾åŒ–çš„è¿‡ç¨‹å·¥ä½œé‡è¿˜ä¸å°ï¼Œè¯¢é—®è¿‡<a href="https://imfurry.com/">ã€ç‹ç‹¸ã€‘</a>ä¹‹åï¼Œé‡‡å–äº†ä»–çš„åŠæ³•ï¼Œç”¨å®å¡”æ¥å®ç°ä¸€ä¸ªç®€å•çš„â€œæ¡Œé¢â€ï¼Œå®å¡”çš„å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># CentOSyum install -y wget &amp;&amp; wget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install_6.0.sh &amp;&amp; sh install.sh# Ubuntu&#x2F;Deepinwget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh# Debianwget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install-ubuntu_6.0.sh &amp;&amp; bash install.sh# Fedorawget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install_6.0.sh &amp;&amp; bash install.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h3><ul><li>å®‰è£…Nodejs</li><li>ä½¿ç”¨<span class="label label-primary">npm</span>ç›´æ¥å®‰è£…hexo</li><li>è¯¦æƒ…è¯·è§<a href="http://110.40.191.51:4000/2021/09/29/Hexo%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B01-%E5%AE%89%E8%A3%85Hexo%E5%8D%9A%E5%AE%A2/">ã€Hexoåšå®¢å®‰è£…ã€‘</a></li></ul><h3 id="å®‰è£…NexTä¸»é¢˜"><a href="#å®‰è£…NexTä¸»é¢˜" class="headerlink" title="å®‰è£…NexTä¸»é¢˜"></a>å®‰è£…NexTä¸»é¢˜</h3><ul><li>å»<a href="https://github.com/next-theme/hexo-theme-next">NexTä¸»é¢˜ä»“åº“</a>å…‹éš†ä¸‹æ¥</li></ul><div class="note note-danger">            <p>git clone  <a href="https://github.com/next-theme/hexo-theme-next.git">https://github.com/next-theme/hexo-theme-next.git</a> </p>          </div><ul><li>æ‰“å¼€Hexoé…ç½®æ–‡ä»¶ å¹¶å°†themeæ”¹ä¸ºnext</li></ul><p>![å›¾ç‰‡](/Users/hsk/Library/Application Support/typora-user-images/MyMac_2021-10-07 ä¸‹åˆ4.44.57.png)</p><ul><li>æ›´å¤šé…ç½®è¯¦æƒ…è¯·çœ‹<a href="http://110.40.191.51:4000/2021/09/30/Hexo%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B02-%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%961/?highlight=hexo">ã€NexTä¸»é¢˜å‡çº§ã€‘</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»´æŠ¤å°ç ´ç«™</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç»´æŠ¤å°ç ´ç«™ã€‘åšå®¢é‡æ–°æ­å»º</title>
    <link href="/2021/10/07/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91%E5%8D%9A%E5%AE%A2%E9%87%8D%E6%96%B0%E6%90%AD%E5%BB%BA%E7%9A%84%E5%89%AF%E6%9C%AC/"/>
    <url>/2021/10/07/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91%E5%8D%9A%E5%AE%A2%E9%87%8D%E6%96%B0%E6%90%AD%E5%BB%BA%E7%9A%84%E5%89%AF%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€-åæ§½ä¸€ä¸‹é‡åˆ°çš„ç¦»è°±é—®é¢˜"><a href="#å‰è¨€-åæ§½ä¸€ä¸‹é‡åˆ°çš„ç¦»è°±é—®é¢˜" class="headerlink" title="å‰è¨€ åæ§½ä¸€ä¸‹é‡åˆ°çš„ç¦»è°±é—®é¢˜"></a>å‰è¨€ <font size=3>åæ§½ä¸€ä¸‹é‡åˆ°çš„ç¦»è°±é—®é¢˜</font></h2><div class="note note-danger">            <p>å¾ˆç¦»è°±ï¼å¾ˆå¥‡è‘©ï¼æŠŠæœ¬åœ°çš„åšå®¢æ”¾åˆ°äº†TencentCloudä¹‹åï¼Œé»˜è®¤è¯­è¨€å˜æˆäº†é˜¿æ‹‰ä¼¯æ–‡ï¼</p>          </div><p>æ‰¾äº†å¾ˆä¹…çš„é—®é¢˜ï¼Œæœ€åç¡®è®¤æ˜¯NexT<span class="label label-primary">ä¸»é¢˜é…ç½®æ–‡ä»¶</span>å‡ºäº†é—®é¢˜ï¼Œæœ€åç´¢æ€§ç›´æ¥é‡æ–°æ­å»ºäº†ã€‚</p><p><img src="https://i.loli.net/2021/10/07/AB7XDgIbhe5yCmq.png" alt="é˜¿æ‹‰ä¼¯æ–‡ç‰ˆåšå®¢"></p><br><br><h2 id="å‰æœŸå‡†å¤‡ç›¸å…³é…ç½®åŠç‰ˆæœ¬"><a href="#å‰æœŸå‡†å¤‡ç›¸å…³é…ç½®åŠç‰ˆæœ¬" class="headerlink" title="å‰æœŸå‡†å¤‡ç›¸å…³é…ç½®åŠç‰ˆæœ¬"></a>å‰æœŸå‡†å¤‡<font size=3>ç›¸å…³é…ç½®åŠç‰ˆæœ¬</font></h2><hr><div class="note note-primary">            <p>ç›¸å…³é…ç½®ï¼š</p><ul><li>MacBook M1 Air</li><li>NexT version 8.8.0</li><li>Tencent Cloud CentOS 8.2 64bit</li><li>Nodejs 14.16.1</li><li>æ–‡ä»¶ä¼ è¾“ï¼š<a href="bt.cn">å®å¡”</a></li></ul>          </div><hr><br><br><h2 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="headerlink" title="å¼€å§‹å®‰è£…"></a>å¼€å§‹å®‰è£…</h2><h3 id="å®‰è£…-å®å¡”"><a href="#å®‰è£…-å®å¡”" class="headerlink" title="å®‰è£… å®å¡”"></a>å®‰è£… å®å¡”</h3><p>åœ¨TencentCloud å®‰è£…Hexoä¸NexTä¸»é¢˜å¾ˆç®€å•ï¼Œä½¿ç”¨<span class="label label-primary">git</span>ä¸<span class="label label-primary">vim</span>ä¾¿å¯ä»¥å®Œæˆï¼Œä½†æ˜¯ä»…ä»…ä½¿ç”¨<span class="label label-primary">vim</span>æ¥ä¿®æ”¹é…ç½®åˆ™å¤ªéº»çƒ¦äº†ï¼Œå†µä¸”ç¾åŒ–çš„è¿‡ç¨‹å·¥ä½œé‡è¿˜ä¸å°ï¼Œè¯¢é—®è¿‡<a href="https://imfurry.com/">ã€ç‹ç‹¸ã€‘</a>ä¹‹åï¼Œé‡‡å–äº†ä»–çš„åŠæ³•ï¼Œç”¨å®å¡”æ¥å®ç°ä¸€ä¸ªç®€å•çš„â€œæ¡Œé¢â€ï¼Œå®å¡”çš„å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># CentOSyum install -y wget &amp;&amp; wget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install_6.0.sh &amp;&amp; sh install.sh# Ubuntu&#x2F;Deepinwget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh# Debianwget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install-ubuntu_6.0.sh &amp;&amp; bash install.sh# Fedorawget -O install.sh http:&#x2F;&#x2F;download.bt.cn&#x2F;install&#x2F;install_6.0.sh &amp;&amp; bash install.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h3><ul><li>å®‰è£…Nodejs</li><li>ä½¿ç”¨<span class="label label-primary">npm</span>ç›´æ¥å®‰è£…hexo</li><li>è¯¦æƒ…è¯·è§<a href="http://110.40.191.51:4000/2021/09/29/Hexo%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B01-%E5%AE%89%E8%A3%85Hexo%E5%8D%9A%E5%AE%A2/">ã€Hexoåšå®¢å®‰è£…ã€‘</a></li></ul><h3 id="å®‰è£…NexTä¸»é¢˜"><a href="#å®‰è£…NexTä¸»é¢˜" class="headerlink" title="å®‰è£…NexTä¸»é¢˜"></a>å®‰è£…NexTä¸»é¢˜</h3><ul><li>å»<a href="https://github.com/next-theme/hexo-theme-next">NexTä¸»é¢˜ä»“åº“</a>å…‹éš†ä¸‹æ¥</li></ul><div class="note note-danger">            <p>git clone  <a href="https://github.com/next-theme/hexo-theme-next.git">https://github.com/next-theme/hexo-theme-next.git</a> </p>          </div><ul><li>æ‰“å¼€Hexoé…ç½®æ–‡ä»¶ å¹¶å°†themeæ”¹ä¸ºnext</li></ul><p>![å›¾ç‰‡](/Users/hsk/Library/Application Support/typora-user-images/MyMac_2021-10-07 ä¸‹åˆ4.44.57.png)</p><ul><li>æ›´å¤šé…ç½®è¯¦æƒ…è¯·çœ‹<a href="http://110.40.191.51:4000/2021/09/30/Hexo%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B02-%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%961/?highlight=hexo">ã€NexTä¸»é¢˜å‡çº§ã€‘</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»´æŠ¤å°ç ´ç«™</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo å†™ä½œæ ‡ç­¾</title>
    <link href="/2021/10/01/%E5%8D%9A%E5%AE%A2/%E3%80%90%E5%86%99%E5%8D%9A%E5%AE%A2%E3%80%91How-to-Write/"/>
    <url>/2021/10/01/%E5%8D%9A%E5%AE%A2/%E3%80%90%E5%86%99%E5%8D%9A%E5%AE%A2%E3%80%91How-to-Write/</url>
    
    <content type="html"><![CDATA[<p><img src="https://i.loli.net/2021/10/03/dZwz94l3PH25G6a.png" alt="åšå®¢å‡ºå¤„ï¼šè°æŠŠé’±ä¸¢äº†"></p><h2 id="Hexo-Next-æ ‡ç­¾"><a href="#Hexo-Next-æ ‡ç­¾" class="headerlink" title="Hexo/Next æ ‡ç­¾"></a>Hexo/Next æ ‡ç­¾</h2><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>æ•ˆæœï¼š</p><div class="code-wrapper"><pre class="line-numbers language-command" data-language="command"><code class="language-command">è¿™æ˜¯ä¸€è¡Œä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ä»£ç ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#123;% codeblock lang:command %&#125;è¿™æ˜¯ä¸€è¡Œä»£ç &#123;% endcodeblock %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="æ–‡æœ¬å±…ä¸­"><a href="#æ–‡æœ¬å±…ä¸­" class="headerlink" title="æ–‡æœ¬å±…ä¸­"></a>æ–‡æœ¬å±…ä¸­</h3><p>æ•ˆæœï¼š<br>Fluid ä¸­ä¸èƒ½ç”¨ ï¼ŒNext ä¸­å¯ä»¥ã€‚</p><p>ä»£ç ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#123;% cq %&#125;å››éƒï¼Œé‚£å¹´æèŠ±å¾®é›¨ï¼Œä½ è¯´ä½ æ˜¯æœéƒ¡ç‹ã€‚ä¹Ÿè®¸ä»ä¸€å¼€å§‹ï¼Œä¾¿éƒ½æ˜¯é”™çš„ã€‚&#123;% endcq %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="note"><a href="#note" class="headerlink" title="note"></a>note</h3><p>æ•ˆæœï¼š</p><div class="note note-default">            <p>default</p>          </div><div class="note note-primary">            <p>primary</p>          </div><div class="note note-success">            <p>success</p>          </div><div class="note note-info">            <p>info</p>          </div><div class="note note-warning">            <p>warning</p>          </div><div class="note note-danger">            <p>danger</p>          </div><p>_config æ–‡ä»¶é…ç½®å…³é”®å­—ï¼šnote, æˆ‘çš„é…ç½®å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-command" data-language="command"><code class="language-command">style: flaticons: trueborder_radius: 3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>ä»£ç ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#123;% note default %&#125;default&#123;% endnote %&#125;&#123;% note primary %&#125;primary&#123;% endnote %&#125;&#123;% note success %&#125;success&#123;% endnote %&#125;&#123;% note info %&#125;info&#123;% endnote %&#125;&#123;% note warning %&#125;warning&#123;% endnote %&#125;&#123;% note danger %&#125;danger&#123;% endnote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="label"><a href="#label" class="headerlink" title="label"></a>label</h3><p>_config æ–‡ä»¶é…ç½®å…³é”®å­—ï¼šLabel , éœ€è¦ç”¨çš„è¯æŠŠå€¼è®¾ä¸ºtrueå³å¯ã€‚<br>æ•ˆæœï¼š</p><span class="label label-default">é»˜è®¤</span><span class="label label-primary">ä¸»è¦</span><span class="label label-success">æˆåŠŸ</span><span class="label label-info">ä¿¡æ¯</span><span class="label label-warning">è­¦å‘Š</span><span class="label label-danger">å±é™©</span><p>ä»£ç ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#123;% label default@é»˜è®¤ %&#125;&#123;% label primary@ä¸»è¦ %&#125;&#123;% label success@æˆåŠŸ %&#125;&#123;% label info@ä¿¡æ¯ %&#125;&#123;% label warning@è­¦å‘Š %&#125;&#123;% label danger@å±é™© %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="Tabs"><a href="#Tabs" class="headerlink" title="Tabs"></a>Tabs</h3><p>æ•ˆæœï¼š<br>Fluid ä¸­ä¸å¯ç”¨ï¼ŒNext ä¸­å¯ä»¥ã€‚</p><p>ä»£ç ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-&#123;%" data-language="&#123;%"><div class="caption"><span>tabs emoji %&#125;</span></div><code class="language-&#123;%">&#123;% tabs emoji %&#125;&lt;!-- tab --&gt;:smile:&lt;!-- endtab --&gt;&lt;!-- tab --&gt;:laughing:&lt;!-- endtab --&gt;&lt;!-- tab --&gt;:relaxed:&lt;!-- endtab --&gt;&#123;% endtabs %&#125;&#96;&#96;&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å¼•ç”¨å¥å­"><a href="#å¼•ç”¨å¥å­" class="headerlink" title="å¼•ç”¨å¥å­"></a>å¼•ç”¨å¥å­</h3><p>ä»£ç ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">&#123;% blockquote ç‹å°æ³¢ http:&#x2F;&#x2F;www.bwsk.com&#x2F;xd&#x2F;w&#x2F;wangxiaobo&#x2F;hjsd&#x2F;index.html é»„é‡‘æ—¶ä»£ %&#125;é‚£ä¸€å¤©æˆ‘äºŒåä¸€å²ï¼Œåœ¨æˆ‘ä¸€ç”Ÿçš„é»„é‡‘æ—¶ä»£ã€‚æˆ‘æœ‰å¥½å¤šå¥¢æœ›ã€‚æˆ‘æƒ³çˆ±ï¼Œæƒ³åƒï¼Œè¿˜æƒ³åœ¨ä¸€ç¬é—´å˜æˆå¤©ä¸ŠåŠæ˜åŠæš—çš„äº‘ã€‚&#123;% endblockquote %&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>æ•ˆæœï¼š</p><blockquote><p>é‚£ä¸€å¤©æˆ‘äºŒåä¸€å²ï¼Œåœ¨æˆ‘ä¸€ç”Ÿçš„é»„é‡‘æ—¶ä»£ã€‚æˆ‘æœ‰å¥½å¤šå¥¢æœ›ã€‚æˆ‘æƒ³çˆ±ï¼Œæƒ³åƒï¼Œè¿˜æƒ³åœ¨ä¸€ç¬é—´å˜æˆå¤©ä¸ŠåŠæ˜åŠæš—çš„äº‘ã€‚</p><footer><strong>ç‹å°æ³¢</strong><cite><a href="http://www.bwsk.com/xd/w/wangxiaobo/hjsd/index.html">é»„é‡‘æ—¶ä»£</a></cite></footer></blockquote><h3 id="å…¶ä»–æ ‡ç­¾"><a href="#å…¶ä»–æ ‡ç­¾" class="headerlink" title="å…¶ä»–æ ‡ç­¾"></a>å…¶ä»–æ ‡ç­¾</h3><p>åœ¨ <a href="https://hexo.io/docs/tag-plugins.html">Hexoæ ‡ç­¾</a> å’Œ <a href="https://theme-next.iissnan.com/tag-plugins.html">Nextå†…ç½®æ ‡ç­¾</a> å¯ä»¥æ‰¾åˆ°ã€‚</p><h2 id="è‡ªå®šä¹‰æ ‡ç­¾"><a href="#è‡ªå®šä¹‰æ ‡ç­¾" class="headerlink" title="è‡ªå®šä¹‰æ ‡ç­¾"></a>è‡ªå®šä¹‰æ ‡ç­¾</h2><h3 id="æ•°å­—å—"><a href="#æ•°å­—å—" class="headerlink" title="æ•°å­—å—"></a>æ•°å­—å—</h3><p>å‚è€ƒ <a href="https://blog.guanqr.com/study/blog/hexo-theme-next-customization/#%E6%95%B0%E5%AD%97%E5%9D%97">è¿™ä¸ª</a> è®¾ç½®ã€‚</p><p>æ•ˆæœï¼š<br><span id="inline-toc">1.</span><br><span id="inline-toc">2.</span><br><span id="inline-toc">3.</span></p><h2 id="é¢œè‰²è¡¨"><a href="#é¢œè‰²è¡¨" class="headerlink" title="é¢œè‰²è¡¨"></a>é¢œè‰²è¡¨</h2><hr><p><font color=DarkRed>â–ˆâ–ˆâ–ˆ ï¼šDarkRed</font></p><p><font color=DarkYellow>â–ˆâ–ˆâ–ˆ ï¼šDarkYellow</font></p><p><font color=red>â–ˆâ–ˆâ–ˆ ï¼šred</font></p><p><font color=DarkOrange>â–ˆâ–ˆâ–ˆ ï¼šDarkOrange</font></p><p><font color=Orange>â–ˆâ–ˆâ–ˆ ï¼šOrange</font></p><p><font color=Yellow>â–ˆâ–ˆâ–ˆ ï¼šYellow</font></p><p><font color=LightYellow>â–ˆâ–ˆâ–ˆ ï¼šLightYellow</font></p><p><font color=DarkGreen>â–ˆâ–ˆâ–ˆ ï¼šDarkGreen</font></p><p><font color=Green>â–ˆâ–ˆâ–ˆ ï¼šGreen</font></p><p><font color=7baf23 >â–ˆâ–ˆâ–ˆ ï¼š7baf23 </font></p><p><font color=LightGreen>â–ˆâ–ˆâ–ˆ ï¼šLightGreen</font></p><p><font color=DarkBlue>â–ˆâ–ˆâ–ˆ ï¼šDarkBlue</font></p><p><font color=Blue>â–ˆâ–ˆâ–ˆ ï¼šBlue</font></p><p><font color=LigBlue>â–ˆâ–ˆâ–ˆ ï¼šLigBlue</font></p><p><font color=LightBlue>â–ˆâ–ˆâ–ˆ ï¼šLightBlue</font></p><p><font color=Purple>â–ˆâ–ˆâ–ˆ ï¼šPurple</font></p><p><font color=DPurple>â–ˆâ–ˆâ–ˆ ï¼šPurple</font></p><p><a href="https://blog.csdn.net/qq_25824243/article/details/74435757">ã€å…¶ä»–ã€‘</a></p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><span id="inline-toc">1.</span><a href="https://blog.guanqr.com/study/blog/hexo-theme-next-customization">Hexo-NexT ä¸»é¢˜ä¸ªæ€§ä¼˜åŒ–</a><br><span id="inline-toc">2.</span><a href="https://yfzhou.coding.me/2018/08/27/Hexo-Next%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96%EF%BC%89/">Hexo-Nextæ­å»ºä¸ªäººåšå®¢ï¼ˆä¸»é¢˜ä¼˜åŒ–ï¼‰</a></p>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åšå®¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€å¥½ç‰©å°è®°ã€‘å¥½ç‰©å°è®°</title>
    <link href="/2021/09/30/%E3%80%90%E5%A5%BD%E7%89%A9%E5%B0%8F%E8%AE%B0%E3%80%91%E5%A5%BD%E7%89%A9%E5%B0%8F%E8%AE%B0/"/>
    <url>/2021/09/30/%E3%80%90%E5%A5%BD%E7%89%A9%E5%B0%8F%E8%AE%B0%E3%80%91%E5%A5%BD%E7%89%A9%E5%B0%8F%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<p><img src="https://i.loli.net/2021/10/01/vC9zH5f8ipwyg1r.png" alt="çŒ«çŒ«å›¾"></p><span id="more"></span><br><div class="note note-primary">            <p>è®°å½•ä¸€ä¸ªå¥½ç”¨ä¸”ç™½å«–çš„æœåŠ¡å™¨<a href="https://railway.app/">ã€Railwayã€‘</a></p>          </div><p><img src="https://i.loli.net/2021/10/06/AaZlURcN6L3zSdI.png" alt="RailWay"></p><br><div class="note note-primary">            <p>è®°å½•å¤§ç‰›è‡ªå·±å¼€å‘çš„SSHå·¥å…·<a href="https://www.nuoshell.com/">ã€NuoShellã€‘</a>ï¼Œï¼ˆRoyalä¹Ÿå¥½ç”¨å°±æ˜¯å¾—ä»˜è´¹ï¼‰</p>          </div><p><img src="https://i.loli.net/2021/10/06/iTUYGOejRF3cmqd.png" alt="NuoShellç•Œé¢-å› ä¸ºæœ‰æˆ‘ä¸¤ä¸ªæœåŠ¡å™¨çš„IPæˆ‘å°±ä¸è¯¦ç»†å±•ç¤ºå•¦"></p><p><img src="https://i.loli.net/2021/10/06/puOArsBQUzI5K2a.png" alt="NuoShellå®˜ç½‘"></p><br><div class="note note-primary">            <p>è®°å½•å®å¡”æ§åˆ¶é¢æ¿<a href="bt.cn">ã€bt.cnã€‘</a>ï¼Œæœ‰ä»–åœ¨æœåŠ¡å™¨æ–¹ä¾¿ä¸€ä¸‡å€å‘€ï½</p>          </div> <p><font size=2 color=darkgray>å¸¸ç”¨å‘½ä»¤ ï¼š /etc/init.d/bt default</font></p><p><img src="https://i.loli.net/2021/10/06/lT25wSLF1VXYKOJ.png" alt="å®å¡”"></p><br><div class="note note-primary">            <p>è®°å½•å¥½ç”¨çš„Macç»ˆç«¯å·¥å…·<a href="https://github.com/Eugeny/tabby">ã€Tabbyã€‘</a></p>          </div> <p><img src="https://i.loli.net/2021/10/08/19ZfwB4pPQJWOhE.png" alt="Tabbyç»ˆç«¯å·¥å…·"></p><div class="note note-primary">            <p><a href="http://110.40.191.51:5000/">ã€Yluiã€‘</a>)æ¡Œé¢ï¼Œè¿™ä¸ªçœŸçš„çˆ±äº†ï¼ŒBlogçš„æ ¼è°ƒç¬é—´ä¸Šå»äº†ï¼Œ<a href="https://ylui.yuri2.cn/">å®˜ç½‘</a> åœ¨æ­¤ã€‚</p>          </div> <p><img src="https://i.loli.net/2021/10/12/DMuotX6EOHFL9Tl.png" alt="Yluiæ¡Œé¢"></p><br><br><div class="note note-primary">            <p><strong>Spline è½»é‡åŒ–3D åˆ¶ä½œå·¥å…·ï¼Œä¸ªäººç‰ˆæ°¸ä¹…å…è´¹ã€‚</strong></p>          </div> <img src="https://files.catbox.moe/lp8zxa.jpeg" style="width:88%;border-radius:20px;box-shadow:0 0 25px #cac6c6"  />]]></content>
    
    
    <categories>
      
      <category>å¥½ç‰©å°è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¥½ç‰©å°è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘static å…³é”®å­—</title>
    <link href="/2021/09/30/%E3%80%90Java%E3%80%91static-%E5%85%B3%E9%94%AE%E5%AD%97/"/>
    <url>/2021/09/30/%E3%80%90Java%E3%80%91static-%E5%85%B3%E9%94%AE%E5%AD%97/</url>
    
    <content type="html"><![CDATA[<h2 id="static"><a href="#static" class="headerlink" title="static"></a>static</h2><p>é™æ€çš„å†…å®¹åœ¨å†…å­˜ä¸­æ˜¯ä¿ç•™ä¸€ä»½çš„å¹¶ä¸”å„ä¸ªå¯¹è±¡å…±äº«</p><p>é™æ€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨ this</p><p>ä¸€èˆ¬ä½¿ç”¨ç±»åè®¿é—®</p><ol><li>æ•°æ®å…±äº«</li><li>å±äºç±»çš„ï¼Œå¹¶ä¸å±äºå¯¹è±¡</li><li>ä¼˜å…ˆäºå¯¹è±¡äº§ç”Ÿ</li></ol><p>é€šç”¨æ„é€ å™¨ï¼Œé™æ€æ„é€ å™¨</p><p>åˆ›å»ºå¯¹è±¡è¿‡ç¨‹ï¼ˆç®€å•ï¼‰</p><ol><li>é™æ€æ„é€ å™¨</li><li>é€šç”¨æ„é€ å™¨</li><li>æ„é€ æ–¹æ³•-&gt;åˆ›å»ºå¯¹è±¡</li></ol><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span>  <span class="token class-name">String</span> name<span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token class-name">String</span> country <span class="token operator">=</span> <span class="token string">"å¤§æ¸…"</span><span class="token punctuation">;</span>  <span class="token class-name">String</span> address<span class="token punctuation">;</span>      <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">String</span> address<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>    <span class="token comment">// -------------------------------------------------</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"æé“æŸ±"</span><span class="token punctuation">,</span><span class="token string">"å…«å¤§èƒ¡åŒ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"æå°èŠ±"</span><span class="token punctuation">,</span><span class="token string">"æœé˜³é—¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å¤§æ¸…äº¡äº†</span>    p1<span class="token punctuation">.</span>country <span class="token operator">=</span> <span class="token string">"æ°‘å›½"</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>country<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ°‘å›½</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>country<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ°‘å›½</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>åŸºç¡€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç»´æŠ¤å°ç ´ç«™ã€‘Hexoæ­å»ºæ—¥è®°2-ä¸»é¢˜ä¼˜åŒ–1</title>
    <link href="/2021/09/30/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91Hexo%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B02-%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%961/"/>
    <url>/2021/09/30/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91Hexo%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B02-%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%961/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><hr><p>NexTä¸»é¢˜åœ¨æ›´æ–°åˆ°8.0ç‰ˆæœ¬ä¹‹åï¼Œå°†è®¸å¤š8.0ä¹‹å‰éœ€è¦è‡ªå·±æ”¹ä»£ç çš„éƒ¨åˆ†å…¨éƒ¨æ·»åŠ åˆ°äº†_config.ymlæ–‡ä»¶ä¸­å»äº†ï¼Œé…ç½®ååˆ†ç®€å•ï¼Œéœ€è¦è‡ªå·±æ›´æ”¹ä»£ç çš„åœ°æ–¹ç®€ç›´å°‘ä¹‹åˆå°‘ã€‚</p><span id="more"></span><p>åœ¨å‰ä¸¤æ¬¡æ­å»ºNexTçš„æ—¶å€™ï¼Œç”¨çš„éƒ½æ˜¯7.xç‰ˆæœ¬çš„NexTï¼Œæ‰€ä½¿ç”¨çš„ä¿®æ”¹ä¹Ÿéƒ½æ˜¯ç½‘ä¸Šä¸€æœä¸€å¤§æŠŠçš„ï¼Œä½†æ˜¯æœ€è¿‘çœ‹äº†<a href="https://www.jmyblog.top/themeUpgrade/?highlight=hexo">è¿™ä¸€ç¯‡åšå®¢</a>ä¹‹åï¼Œå‘ç°äº‹æƒ…å¹¶ä¸ç®€å•ï¼šç”±äºå›¢é˜Ÿä¹‹é—´çš„äº‰æ‰§ï¼ŒNexTæ›´æ¢äº†ç»´æŠ¤å›¢é˜Ÿï¼Œå¹¶ä¸”æ›´æ¢äº†ä»“åº“ï¼Œå› æ­¤èµ¶ç´§Cloneæ–°çš„ä»“åº“ï¼Œç„¶åå¼€å§‹é…ç½®ã€‚</p><p><img src="https://i.loli.net/2021/06/25/oliLXKknhpUQG51.png" alt="å½“ä¸‹NexTæŒæœ‰è€…çš„è§£é‡Š"></p><hr>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»´æŠ¤å°ç ´ç«™</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ç»´æŠ¤å°ç ´ç«™ã€‘Hexoä¸Šä¼ è‡³ githubä»“åº“</title>
    <link href="/2021/09/30/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91Hexo%E8%BF%9E%E6%8E%A5github%20%E4%BB%93%E5%BA%93/"/>
    <url>/2021/09/30/%E5%8D%9A%E5%AE%A2/%E3%80%90Hexo%E3%80%91Hexo%E8%BF%9E%E6%8E%A5github%20%E4%BB%93%E5%BA%93/</url>
    
    <content type="html"><![CDATA[<h2 id="å¦‚é¢˜"><a href="#å¦‚é¢˜" class="headerlink" title="å¦‚é¢˜"></a>å¦‚é¢˜</h2><p>ä»¥ä¸‹æ‰€æœ‰çš„è®¾ç½®éƒ½åªæ˜¯ä¸ºäº†ä»æœ¬åœ°ä»“åº“ä¸Šè½½åˆ°è‡ªå·±çš„Githubä»“åº“è€Œécloneï¼Œå› ä¸ºhexoåšå®¢çš„ç‰¹ç‚¹å°±æ˜¯åœ¨æœ¬åœ°åˆ›å»ºåº“ï¼Œç”Ÿæˆç›¸åº”çš„æ–‡ä»¶åä½¿ç”¨å‘½ä»¤<code>hexo d</code>ä¸Šè½½åˆ°è‡ªå·±çš„åšå®¢ä»“åº“ï¼Œå› æ­¤è¿æ¥è‡ªå·±çš„GitHubä»“åº“æ˜¯å¿…ä¸å¯å°‘çš„æ­¥éª¤ï¼Œå¦åˆ™åªèƒ½localhostçœ‹çœ‹äº†ï¼Œå…¶ä»–äººæ— æ³•è®¿é—®çš„ã€‚</p><span id="more"></span><h3 id="æ­£æ–‡å¼€å§‹"><a href="#æ­£æ–‡å¼€å§‹" class="headerlink" title="æ­£æ–‡å¼€å§‹"></a>æ­£æ–‡å¼€å§‹</h3><hr><p>åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆè¿™æ˜¯å››æ¡å‘½ä»¤çš„ç»„åˆå‘½ä»¤ï¼Œè¯·å°†æ‰€æœ‰çš„Mailä¸UserNameæ”¹æˆè‡ªå·±çš„ç”¨æˆ·åå’ŒIDï¼‰ï¼š</p><div class="note note-default">            <p>git config â€“global user.name â€œusernameâ€  &amp;&amp;  git config â€“global user.email â€œ<a href="mailto:&#101;&#109;&#97;&#105;&#x6c;&#64;&#x67;&#109;&#97;&#105;&#108;&#46;&#99;&#x6f;&#x6d;">&#101;&#109;&#97;&#105;&#x6c;&#64;&#x67;&#109;&#97;&#105;&#108;&#46;&#99;&#x6f;&#x6d;</a>â€œ &amp;&amp;  ssh-keygen -t rsa -C â€œ<a href="mailto:&#x65;&#109;&#x61;&#x69;&#x6c;&#64;&#103;&#109;&#x61;&#105;&#x6c;&#x2e;&#99;&#x6f;&#x6d;">&#x65;&#109;&#x61;&#x69;&#x6c;&#64;&#103;&#109;&#x61;&#105;&#x6c;&#x2e;&#99;&#x6f;&#x6d;</a>â€œ &amp;&amp; cat ~/.ssh/id_rsa.pub</p>          </div><p>æ‰§è¡Œè¿‡åä¼šè¾“å‡ºè‡ªå·±çš„ <span class="label label-info">Keyå€¼</span> ï¼Œç„¶åæ‰“å¼€Github-ç‚¹å‡»å³ä¸Šè§’å¤´åƒ-è®¾ç½®</p><p><img src="https://i.loli.net/2021/09/30/B4GNzqDkYxCaZEh.png"></p><p>é€‰æ‹© SSH &amp; GPG Keys</p><p><img src="https://i.loli.net/2021/09/30/Cm1QlABhTdfp4H9.png"></p><p>ç‚¹å‡»å³ä¸Šè§’çš„New SSH KEY å°†è‡ªå·±ä¸€å¼€å§‹è·å–çš„ <span class="label label-info">Keyå€¼</span> å¤åˆ¶è¿›å»å°±å¥½äº†ï¼Œè®°å¾—æäº¤å“¦ï½</p><p><img src="https://i.loli.net/2021/09/30/rE4gb7aCS8Rqoec.png"></p><p>å—¯ç»“æŸäº†ï¼Œç»“æŸçš„æœ‰äº›çªç„¶ï¼Œä½†æ˜¯è¿˜æ˜¯ç»“æŸäº†</p>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç»´æŠ¤å°ç ´ç«™</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘super çš„ä½¿ç”¨</title>
    <link href="/2021/08/31/%E3%80%90Java%E3%80%91super%20%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2021/08/31/%E3%80%90Java%E3%80%91super%20%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="super-çš„ä½¿ç”¨"><a href="#super-çš„ä½¿ç”¨" class="headerlink" title="super çš„ä½¿ç”¨"></a>super çš„ä½¿ç”¨</h1><p>å¦‚æœ B ç»§æ‰¿äº† Aï¼Œé‚£ä¹ˆ B å¯ä»¥é€šè¿‡ super æ¥è°ƒç”¨ A ä¸­çš„æ–¹æ³•ã€‚</p><br><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// çˆ¶ç±» A</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sayhello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// å­ç±» B</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// B ç»§æ‰¿äº† Aï¼Œé€šè¿‡ super è°ƒç”¨çˆ¶ç±»ä¸­çš„æ–¹æ³•</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">sayhello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ä¸»ç±» main æ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo4Application</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token class-name">B</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      b<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è¾“å‡ºç»“æœ</span><span class="token class-name">A</span><span class="token class-name">Hello</span><span class="token class-name">B</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>åŸºç¡€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Linuxã€‘Debian ç³» Kali ä½¿ç”¨ Wine è™šæ‹Ÿæœºå®‰è£… QQ/å¾®ä¿¡ ç­‰å¸¸ç”¨è½¯ä»¶</title>
    <link href="/2021/03/10/%E3%80%90Linux%E3%80%91Debian-%E7%B3%BB-Kali-%E4%BD%BF%E7%94%A8-Wine-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85-QQ%E5%BE%AE%E4%BF%A1-%E7%AD%89%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/"/>
    <url>/2021/03/10/%E3%80%90Linux%E3%80%91Debian-%E7%B3%BB-Kali-%E4%BD%BF%E7%94%A8-Wine-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85-QQ%E5%BE%AE%E4%BF%A1-%E7%AD%89%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><hr><br><p>å‰ä¸€æ®µæ—¶é—´åœ¨ Kali ä¸Šå®‰è£…äº† Deepin-wine ï¼Œå¹¶ä¸”å®‰è£…äº†QQ/å¾®ä¿¡ï¼Œé“¾æ¥åŠæ•™ç¨‹<a href="https://www.cnblogs.com/hskcool/p/14227695.html">ã€ç‚¹å‡»æ­¤å¤„ã€‘</a>å¯ä»¥æŸ¥çœ‹ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å®‰è£… wine è™šæ‹Ÿæœºå­˜åœ¨å°å°çš„é—®é¢˜ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><blockquote><ul><li>åœ¨ Ubuntu ä¸Šå®‰è£…è¾ƒé¡ºåˆ©ï¼Œä½†æ˜¯ Kali ä¸Šå®‰è£…å‡ºç°çš„é—®é¢˜è¾ƒå¤š</li><li>å®‰è£… KDE-install.shçš„è¿‡ç¨‹ä¸­æç¤º i386 é”™è¯¯<ul><li>ä½¿ç”¨ <code>apt -f install</code>å¹¶ä¸èƒ½è§£å†³è¿™ä¸ªä¾èµ–é—®é¢˜</li><li>ç›´æ¥å®‰è£…ä»¥æ¥ä¹Ÿæç¤ºæŠ¥é”™</li></ul></li><li>å¿½ç•¥ä¾èµ–ç›´æ¥å®‰è£…ï¼Œç»“æŸåè™½ç„¶å®‰è£…äº† QQ/å¾®ä¿¡ ä½†æ˜¯æ‰“ä¸å¼€</li><li>ä»…èƒ½å®‰è£…å¤§ç‰›æ‰“åŒ…çš„ <code>deb</code> æ–‡ä»¶ï¼Œä¸èƒ½å®‰è£… Windows ä¸Šçš„ <code>.exe</code> æ–‡ä»¶ï¼Œæ‰€ä»¥é€‰æ‹©æœ‰é™ï¼ˆå¤§æ¦‚ä¸è¶…è¿‡10ç§ï¼‰</li><li>æ­£ç¡®å®‰è£…å¥½è½¯ä»¶ä¹‹åï¼Œç”±äºå­—ä½“ä¸åŒ¹é…ï¼Œä¸­æ–‡å…¨éƒ¨ç”±å°æ–¹æ¡†ä»£æ›¿<ul><li>å¯ä»¥ç§»æ¤ Windows çš„ä¸­æ–‡å­—ä½“æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦</li><li>ä¹Ÿè®¸å°†ç³»ç»Ÿè¯­è¨€è°ƒæ•´æˆä¸­æ–‡ä¹Ÿå¯ä»¥è§£å†³ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰å°è¯•è¿‡</li></ul></li></ul></blockquote><p>å‰ä¸€æ®µæ—¶é—´æˆ‘åœ¨ç½‘ä¸Šé—²é€›çš„æ—¶å€™ï¼Œå‘ç°äº†å¦ä¸€ç§å®‰è£…æ–¹å¼ï¼Œç±»ä¼¼äºåœ¨ Linux ä¸Šæ„é€ ä¸€ä¸ªå¾®å‹çš„ Windows è™šæ‹Ÿæœºï¼ŒåŸºæœ¬ä¸Šè§£å†³äº†å¦‚ä¸Šçš„æ‰€æœ‰é—®é¢˜ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><blockquote><ul><li>æ—  i386 æŠ¥é”™</li><li>ä¸­æ–‡æ­£å¸¸æ˜¾ç¤º</li><li>å¯ä»¥ç›´æ¥å®‰è£… <code>.exe</code> æ–‡ä»¶</li></ul></blockquote><p>å…·ä½“å®‰è£…è¿‡ç¨‹çœ‹ä»¥ä¸‹åšå®¢ï¼ˆåŸæ–‡åœ°å€åœ¨åšå®¢ç»“å°¾ä¼šå†™å‡ºï¼‰ï¼š</p><br><br><br><br><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><hr><br><br><h4 id="å¼€å¯kaliçš„i386æ”¯æŒ"><a href="#å¼€å¯kaliçš„i386æ”¯æŒ" class="headerlink" title="å¼€å¯kaliçš„i386æ”¯æŒ"></a>å¼€å¯kaliçš„i386æ”¯æŒ</h4><hr><blockquote><p>å¼€å¯æ”¯æŒï¼šdpkg â€“add-architecture  i386<br>æ›´æ–°ä¸€ä¸‹ï¼šapt updata &amp;&amp; apt upgrade</p></blockquote><br><h4 id="å®‰è£…wineå¹¶è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#å®‰è£…wineå¹¶è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="å®‰è£…wineå¹¶è®¾ç½®ç¯å¢ƒå˜é‡"></a>å®‰è£…wineå¹¶è®¾ç½®ç¯å¢ƒå˜é‡</h4><hr><p>å› ä¸º Kali é»˜è®¤å®‰è£…wine64 ï¼Œæ‰€ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…wine32ï¼š</p><blockquote><p>apt install wine32</p></blockquote><p>å®‰è£…ç»“æŸååœ¨<code>ï½/.bashrc</code>æ–‡ä»¶ï¼ˆåœ¨rootæ¨¡å¼ä¸‹ï¼Œä½¿ç”¨è‡ªå·±å¸¸ç”¨çš„å¦‚ vim æˆ– leafpad æ‰“å¼€å°±å¯ä»¥ï¼‰æœ€åæ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼Œé»˜è®¤ä½¿ç”¨wine32</p><blockquote><p> export WINEPREFIX=~/win32<br> export WINEARCH=win32</p></blockquote><p> å®‰è£…winetricks ä»¥ç”¨æ¥å®‰è£…wineæ‰€éœ€çš„æ”¯æŒåº“</p><blockquote><p> apt-get install winetrick5</p></blockquote><p>åŠ è½½ä¸€ä¸‹ç¯å¢ƒå˜é‡</p><blockquote><p>source ~/.bashrc </p></blockquote><p>å®‰è£…ä¸€ä¸‹æ”¯æŒæ–‡ä»¶</p><blockquote><p>apt install winbind<br>apt install wine32-preloader<br>winetricks riched20</p></blockquote><br><h4 id="å®‰è£…å¾®ä¿¡"><a href="#å®‰è£…å¾®ä¿¡" class="headerlink" title="å®‰è£…å¾®ä¿¡"></a>å®‰è£…å¾®ä¿¡</h4><hr><p>å»<a href="https://weixin.qq.com/cgi-bin/readtemplate?uin=&stype=&promote=&fr=&lang=zh_CN&ADTAG=&check=false&nav=download&t=weixin_download_list&loc=readtemplate,weixin,body,6">ã€å¾®ä¿¡å®˜ç½‘ã€‘</a>ä¸‹è½½å¾®ä¿¡çš„ <code>.exe</code> å®‰è£…åŒ…ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š</p><blockquote><p>wine WeChatSetup.exe </p></blockquote><p>å®‰è£…ç»“æŸï¼Œæ¡Œé¢ä¼šå‡ºç°å¾®ä¿¡çš„å›¾æ ‡ï¼ŒåŒå‡»æ‰“å¼€å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œç•Œé¢å¦‚ä¸‹ï¼š</p><div align=center><img style="width:350px" src="https://img2020.cnblogs.com/blog/2159067/202102/2159067-20210216215846765-289127058.png" alt="äºŒç»´ç "></div><br><br><br><br><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><hr><blockquote><ul><li>å¦‚æœåœ¨å®‰è£…è¿‡ç¨‹ä¸­å‡ºç°ä»»ä½•é”™è¯¯ï¼Œè¯·å›åˆ°å‰ä¸€æ­¥é‡æ–°æ‰§è¡Œ</li><li>å¦‚æœåœ¨å®‰è£…è¿‡ç¨‹ä¸­æ›´æ–°ç¯å¢ƒå˜é‡å‡ºç°é”™è¯¯ï¼Œè¯·å¿½ç•¥</li><li><a href="https://blog.csdn.net/wislove/article/details/96199363?ops_request_misc=&request_id=&biz_id=102&utm_term=kali%20%E5%AE%89%E8%A3%85%20wine&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-96199363.first_rank_v2_pc_rank_v29&spm=1018.2226.3001.4187">åšå®¢åŸæ–‡åœ°å€</a></li></ul></blockquote>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Debian</tag>
      
      <tag>Kali</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€å­¦ã€‘å·¦ç¨‹äº‘ ç®—æ³•çš„ æ¦‚å¿µ ä¸ æ€§è´¨</title>
    <link href="/2021/03/03/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E7%AE%97%E6%B3%95%E7%9A%84-%E6%A6%82%E5%BF%B5-%E4%B8%8E-%E6%80%A7%E8%B4%A8/"/>
    <url>/2021/03/03/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E7%AE%97%E6%B3%95%E7%9A%84-%E6%A6%82%E5%BF%B5-%E4%B8%8E-%E6%80%A7%E8%B4%A8/</url>
    
    <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="ã€å·¦ç¨‹äº‘-01ã€‘ç®—æ³•çš„-æ¦‚å¿µ-ä¸-æ€§è´¨"><a href="#ã€å·¦ç¨‹äº‘-01ã€‘ç®—æ³•çš„-æ¦‚å¿µ-ä¸-æ€§è´¨" class="headerlink" title="ã€å·¦ç¨‹äº‘ 01ã€‘ç®—æ³•çš„ æ¦‚å¿µ ä¸ æ€§è´¨"></a>ã€å·¦ç¨‹äº‘ 01ã€‘ç®—æ³•çš„ æ¦‚å¿µ ä¸ æ€§è´¨</h3><p><br><br><br></p><p><font color=DarkGray size=2>ç®—æ³•è¦æ±‚ï¼šåœ¨ä¿è¯æ—¶é—´å¤æ‚åº¦æœ€ä½çš„å‰æä¸‹ï¼Œå°½å¯èƒ½å‡å°ç©ºé—´å¤æ‚åº¦ä¸å¸¸æ•°é¡¹æ—¶é—´å¤æ‚åº¦ï¼›</font></p><hr><br><h4 id="ä¼˜åŠ£ç®—æ³•è¯„ä¼°"><a href="#ä¼˜åŠ£ç®—æ³•è¯„ä¼°" class="headerlink" title="ä¼˜åŠ£ç®—æ³•è¯„ä¼°"></a>ä¼˜åŠ£ç®—æ³•è¯„ä¼°</h4><ul><li><font color=7baf23 >æ—¶é—´</font>å¤æ‚åº¦ï¼ˆæµç¨‹å†³å®šï¼‰<ul><li>å¿½ç•¥ä½é˜¶é¡¹ ä¸ é«˜é˜¶é¡¹çš„ç³»æ•°ï¼Œç•™ä¸‹æ¥çš„å°±æ˜¯æ—¶é—´å¤æ‚åº¦ï¼›</li><li>å¦‚ä¸€ä¸ªæµç¨‹æœ€åå¾—åˆ°çš„ç®—å¼æ˜¯ 3 * N<sup>4</sup> + 4 * N<sup>2</sup> + C ï¼Œåˆ™æœ€ç»ˆæ—¶é—´å¤æ‚åº¦å°±æ˜¯ O( N<sup>4</sup> )  </li></ul></li><li>é¢å¤–<font color=7baf23 >ç©ºé—´</font>å¤æ‚åº¦ï¼ˆæµç¨‹å†³å®šï¼‰<ul><li>ä¸åŠŸèƒ½æ— å…³ï¼Œå¿…é¡»è‡ªå·±å¼€è¾Ÿçš„é¢å¤–ç©ºé—´</li><li>ç”¨æˆ·è¦æ±‚çš„åŠŸèƒ½ï¼Œï¼ˆå¦‚å¤åˆ¶ä¸€ä¸ªæ•°ç»„ï¼‰ï¼Œåˆ™å®ç°è¿™ä¸ªåŠŸèƒ½æ‰€ä½¿ç”¨çš„ä»£ç ç©ºé—´ä¸ç®—</li></ul></li><li>å¸¸æ•°é¡¹æ—¶é—´ï¼ˆå®ç°ç»†èŠ‚å†³å®šï¼‰</li></ul><br><br><h4 id="å¸¸æ•°ä¸éå¸¸æ•°æ—¶é—´æ“ä½œ"><a href="#å¸¸æ•°ä¸éå¸¸æ•°æ—¶é—´æ“ä½œ" class="headerlink" title="å¸¸æ•°ä¸éå¸¸æ•°æ—¶é—´æ“ä½œ"></a>å¸¸æ•°ä¸éå¸¸æ•°æ—¶é—´æ“ä½œ</h4><ul><li><p>ä»€ä¹ˆæ˜¯<font color=DarkOrange>å¸¸æ•°</font>æ—¶é—´æ“ä½œï¼Ÿ</p><ul><li><p>æ¦‚å¿µï¼šä¸€ä¸ªæ•°æ®æ”¹å˜åç§»é‡ï¼Œæ“ä½œæ‰€éœ€è¦çš„æ—¶é—´ä¸å˜å°±æ˜¯å¸¸æ•°æ—¶é—´æ“ä½œï¼›</p></li><li><p>å®ä¾‹ï¼šä»æ•°ç»„ä¸­å–ç¬¬ä¸€ä¸ªä¸å–ç¬¬100000ä¸ªå…ƒç´ æ‰€éœ€è¦çš„æ—¶é—´ä¸€æ ·ï¼Œåˆ™è¿™å°±æ˜¯ä¸€ä¸ªå¸¸æ•°æ“ä½œï¼›</p></li><li><p>å¸¸è§çš„æ­¤ç±»æ“ä½œï¼š</p><ul><li>åŠ  / å‡ / ä¹˜ / é™¤ / å–ä½™ ï¼š<code>+</code>  <code>-</code> <code>* </code> <code>/</code> <code>%</code></li><li>å¸¸è§çš„ä½è¿ç®—æ“ä½œï¼ˆ&gt;&gt; / &gt;&gt;&gt; / &lt;&lt; / | &amp; / ^ ç­‰ï¼‰</li><li>èµ‹å€¼ã€æ¯”è¾ƒã€è‡ªå¢ã€è‡ªå‡æ“ä½œç­‰</li><li>æ•°ç»„å¯»å€æ“ä½œ</li></ul></li></ul></li><li><p>ä»€ä¹ˆæ˜¯<font color=orange>é</font>å¸¸æ•°æ—¶é—´æ“ä½œï¼š</p><ul><li>é™¤äº†å¸¸æ•°æ—¶é—´æ“ä½œéƒ½æ˜¯éå¸¸æ•°æ—¶é—´æ“ä½œï¼›</li><li>ä¸¾ä¾‹ï¼šLinkedListï¼Œå¯»å€çš„æ—¶å€™éœ€è¦éå†ï¼›</li></ul></li><li><p>æ’åºç®—æ³•ä¸­çš„å¸¸è§ä¼˜åŠ£æ€§</p></li></ul><p><font color=darkgray size=2> å°½é‡å¯ä»¥èƒŒä¸‹æ¥ï¼› </font></p><hr><table><thead><tr><th>ä¸­æ–‡åç§°</th><th>è‹±æ–‡åç§°</th><th>å¹³å‡æ—¶é—´å¤æ‚åº¦</th><th>æœ€åæ—¶é—´å¤æ‚åº¦</th><th>æœ€å¥½æ—¶é—´å¤æ‚åº¦</th><th>ç©ºé—´å¤æ‚åº¦</th><th>ç¨³å®šæ€§</th></tr></thead><tbody><tr><td>é€‰æ‹©æ’åº</td><td>Selection</td><td>nÂ²</td><td>nÂ²</td><td>nÂ²</td><td>1</td><td><font color=red>Ã—</font></td></tr><tr><td>å†’æ³¡æ’åº</td><td>Bubble</td><td>nÂ²</td><td>nÂ²</td><td>n</td><td>1</td><td><font color = 7baf23> âˆš</font></td></tr><tr><td>æ’å…¥æ’åº<font color = 7baf23> âˆš</font></td><td>Insertion</td><td>nÂ²</td><td>nÂ²</td><td>n</td><td>1</td><td><font color = 7baf23> âˆš</font></td></tr><tr><td>å †æ’åº<font color = 7baf23>     âˆš</font></td><td>Heap</td><td>n log<sub>2</sub> n</td><td>n log<sub>2</sub> n</td><td>n log<sub>2</sub> n</td><td>1</td><td><font color=red>Ã—</font></td></tr><tr><td>å¸Œå°”æ’åº</td><td>Shell</td><td>n<sup>1.3</sup></td><td>n<sup>2</sup></td><td>n</td><td>1</td><td><font color=red>Ã—</font></td></tr><tr><td>å½’å¹¶æ’åº<font color = 7baf23> âˆš</font></td><td>Merge</td><td>n log<sub>2</sub> n</td><td>n log<sub>2</sub> n</td><td>n log<sub>2</sub> n</td><td>n</td><td><font color = 7baf23>âˆš</font></td></tr><tr><td>å¿«é€Ÿæ’åº<font color = 7baf23> âˆš</font></td><td>Quick</td><td>n log<sub>2</sub> n</td><td>n<sup>2</sup></td><td>n log<sub>2</sub> n</td><td>log<sub>2</sub> n</td><td><font color=red>Ã—</font></td></tr><tr><td>æ¡¶æ’åº</td><td>Bucket</td><td>n + k</td><td>n<sup>2</sup></td><td>n</td><td>n + k</td><td><font color = 7baf23>âˆš</font></td></tr><tr><td>è®¡æ•°æ’åº</td><td>Counting</td><td>n + k</td><td>n + k</td><td>n + k</td><td>n + k</td><td><font color = 7baf23>âˆš</font></td></tr><tr><td>åŸºæ•°æ’åº</td><td>Radix</td><td>n * k</td><td>n * k</td><td>n * k</td><td>n + k</td><td><font color = 7baf23>âˆš</font></td></tr></tbody></table><blockquote><p>ä¸¾ä¾‹ï¼šæ’å…¥æ’åºçš„æœ€ä¼˜ä¸æœ€å·®æ—¶é—´å¤æ‚åº¦</p><ul><li>æœ€ä¼˜ä¾‹å­ï¼šã€0 1 2 3 4 5 6 ã€‘</li><li>æœ€å·®ä¾‹å­ï¼šã€6 5 4 3 2 1 0 ã€‘</li></ul></blockquote><hr><p><br><br></p><h4 id="åˆç†ä½¿ç”¨å¯¹æ•°å™¨"><a href="#åˆç†ä½¿ç”¨å¯¹æ•°å™¨" class="headerlink" title="åˆç†ä½¿ç”¨å¯¹æ•°å™¨"></a>åˆç†ä½¿ç”¨å¯¹æ•°å™¨</h4><hr><br><blockquote><ul><li>è®¤è¯†å¯¹æ•°å™¨<ul><li>æƒ³è¦æµ‹è¯•çš„ æ–¹æ³• a</li><li>å®ç°å¤æ‚åº¦ä¸å¥½ä½†ä½¿ç”¨ä»¥å®ç°çš„ æ–¹æ³• b</li><li>å®ç°ä¸€ä¸ªéšæœºæ ·æœ¬äº§ç”Ÿå™¨</li><li>æŠŠ æ–¹æ³• a å’Œ æ–¹æ³• b è·‘ç›¸åŒçš„éšæœºæ ·æœ¬ï¼Œçœ‹å¾—åˆ°çš„ç»“æœæ˜¯å¦ä¸€è‡´</li><li>å¦‚æœä¸€ä¸ªéšæœºæ ·æœ¬ä½¿æ¯”å¯¹ç»“æœä¸ä¸€è‡´ï¼Œæ‰“å°æ ·æœ¬è¿›è¡Œäººå·¥å¹²é¢„ï¼Œæ”¹å¯¹ æ–¹æ³• a å’Œ æ–¹æ³• bï¼›</li><li>å½“æ ·æœ¬æ•°é‡å¾ˆå¤šæ—¶æ¯”å¯¹æµ‹è¯•ä¾ç„¶æ­£ç¡®ï¼Œåˆ™å¯ä»¥ç¡®å®šæ–¹æ³• a å·²ç»æ­£ç¡®ã€‚ </li></ul></li></ul></blockquote><p><br><br><br><br></p><h3 id="ç®—æ³•ç¤ºä¾‹ï¼ˆé‡è¦ï¼ï¼‰"><a href="#ç®—æ³•ç¤ºä¾‹ï¼ˆé‡è¦ï¼ï¼‰" class="headerlink" title="ç®—æ³•ç¤ºä¾‹ï¼ˆé‡è¦ï¼ï¼‰"></a>ç®—æ³•ç¤ºä¾‹ï¼ˆé‡è¦ï¼ï¼‰</h3><hr><br><ul><li>ä»ä¸€ä¸ªé•¿åº¦ä¸º n çš„ <font color=DarkOrange>æœ‰åºæ•°ç»„ </font>ä¸­å¯»æ‰¾ä¸€ä¸ªæ•°å­— mï¼›</li></ul><blockquote><p>æ–¹æ³•ä¸€ï¼šéå†ï¼š Oï¼ˆ n ï¼‰</p><p>æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾æ³•ï¼š Oï¼ˆ log<sub>2</sub> N ï¼‰</p></blockquote><br><hr><br><ul><li>ä»ä¸€ä¸ªé•¿åº¦ä¸º n çš„ <font color=red> <strong>æ— </strong> </font> <font color=DarkOrange>åºæ•°ç»„ï¼ˆç›¸é‚»ä¸ç­‰ï¼‰</font> ä¸­å¯»æ‰¾ä¸€ä¸ªå±€éƒ¨æœ€å°å€¼ï¼ˆä»»æ„ä¸€ä¸ªï¼‰ï¼›</li></ul><blockquote><p>ç•¥</p></blockquote><br><hr><br><ul><li>ä¸€ä¸ªæ•°ç»„ä¸­æœ‰ä¸€ç§æ•°å‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œå…¶ä»–çš„éƒ½æ˜¯å¶æ•°æ¬¡ï¼Œæ‰¾å‡ºè¿™ä¸ªå¥‡æ•°æ¬¡çš„æ•°å­—ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ç”¨ä¸€ä¸ª 0 ä»å¤´å¼‚æˆ–åˆ°å°¾ï¼Œæœ€åè¿™ä¸ª 0 æ•°å­—å°±ä¼šå˜æˆ é‚£ä¸ª å¥‡æ•°æ•°å­—ï¼›</span><span class="token keyword">int</span> eor <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span>  arr <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>eor <span class="token operator">=</span> aor<span class="token operator">^</span>arr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><hr><br><ul><li>abcde äº”ä¸ªæ•°å­—å¼‚æˆ–çš„ç»“æœä¸€æ ·ï¼Œé¡ºåºæ— æ‰€è°“ï¼ˆ æ»¡è¶³ <font color= 7baa2>äº¤æ¢å¾‹</font> ä¸ <font color= 7baf23>ç»“åˆå¾‹</font> ï¼‰</li></ul><blockquote><p>å¼‚æˆ–<font color=Orange>å¸¸ç”¨å…¬å¼</font>ï¼š</p><blockquote><p>0  ^ N == N</p><p>N ^ N == 0</p></blockquote><p>a b ä¸¤ä¸ªæ•°å­—äº¤æ¢å€¼ï¼šï¼ˆè‡ªå·±æ¨å¯¼ä¸€ä¸‹ï¼Œå¾ˆç®€å•ï¼Œä¸æ‡‚å¾—å¯ä»¥çœ‹æ¨å¯¼è¿‡ç¨‹ <strong>A01</strong>ã€‚ï¼‰</p><p>a = a ^ b</p><p>b = a ^ b</p><p>a = a ^ b</p></blockquote><br><hr><br><ul><li>ä¸€ä¸ªæ•°å­—ï¼Œå–å‡ºæœ€å³ä¾§çš„ 1 ï¼Œå¦‚ 14 äºŒè¿›åˆ¶ä¹‹åå˜æˆã€ 1 1 <u><code>1</code></u> 0ã€‘ å–å‡ºä¸‹åˆ’çº¿çš„ <code>1</code></li></ul><blockquote><p>å¦‚ è¦è®¡ç®—çš„æ˜¯ a</p><p>åˆ™ b = aå–å + 1</p><p>a = a ^ b;</p></blockquote><br><hr><br><ul><li>ä¸€ä¸ªæ•°ç»„ä¸­æœ‰ä¸¤ç§æ•°ï¼ˆè¿™ä¸¤ä¸ªæ•°å­—ä¸ç›¸ç­‰ä¸” a ! = 0,b != 0 ï¼‰å‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œå…¶ä»–çš„éƒ½æ˜¯å¶æ•°æ¬¡ï¼Œæ‰¾å‡ºè¿™ä¸¤ç§å¥‡æ•°æ¬¡çš„æ•°å­—ï¼š</li></ul><blockquote><p>æ ¹æ®ç¬¬ä¸‰é¢˜çš„ç†è®ºï¼šå¥½æ¯”è¿™ä¸¤ä¸ªæ•°å­—æ˜¯ a å’Œ bï¼Œeor å¼‚æˆ–ä¹‹å å¾—åˆ°çš„ç»“æœæ˜¯ a ^ bï¼ˆa != bï¼‰</p><p>æ ¹æ®ç¬¬äº”é¢˜çš„ç†è®ºï¼šeor ä¸€å®šåœ¨æŸä¸€ä¸ªä½ç½®æœ‰ä¸ª1ï¼ˆè®°æ­¤ä½ç½®ä¸º n ï¼‰ï¼Œé‚£è¿™ä¸ªä½ç½®å¯¹äº a å’Œ b æ¥è¯´ï¼Œä¸€å®šä¸ä¸€æ ·ï¼Œï¼ˆa å’Œ b åœ¨è¿™ä¸€ä½ä¸Šä¸€å®šä¸€ä¸ªæ˜¯ 0 ä¸€ä¸ªæ˜¯ 1ï¼‰</p><p>é‚£æ•´ä¸ªæ•°ç»„ä¸€å®šå¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±» ï¼šç¬¬nä½ä¸º 0 çš„æ•° ä¸ ç¬¬nä½ä¸º 1 çš„æ•°ï¼Œå‡ºç°å¶æ•°æ¬¡çš„æ•°æ— è®ºæ€ä¹ˆåˆ†éƒ½æ— æ‰€è°“ï¼Œæ‰€ä»¥æ‰§è¡Œä¸‹é¢çš„æ­¥éª¤ï¼š</p><p>eorå¼‚æˆ–ä¹‹å‰ + ä¸€ä¸ªæ¡ä»¶ï¼Œåªè¦ç¬¬ n ä½ä¸º 0 ï¼ˆæˆ–è€…åªå¼‚æˆ– ä¸º 1çš„ï¼‰</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> rightOne <span class="token operator">=</span> eor <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">~</span>eor <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å–å‡ºæœ€å³ä¾§çš„é‚£ä¸ª 1</span><span class="token keyword">int</span> onlyOne  <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// eor'</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> rightOne<span class="token punctuation">)</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>     onlyOne <span class="token operator">^=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>onlyOne<span class="token operator">+</span><span class="token string">""</span><span class="token operator">+</span><span class="token punctuation">(</span>eor<span class="token operator">^</span>onlyOne<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>é‚£ä¹ˆä¸€ä¸ªæ•°å·²ç»å‡ºæ¥äº†ï¼Œå°±æ˜¯eorï¼Œå¦ä¸€ä¸ªæ•°å°±æ˜¯ eor ^ eorâ€™ ï¼ˆ eor å¼‚æˆ–ä¸Š eor å–åï¼‰</p></blockquote><br><hr><br><ul><li>æ‰¾ä¸€ä¸ªäºŒè¿›åˆ¶æ•°å­—ä¸­æ‰€æœ‰çš„ 1</li></ul><blockquote><p>æ‰¾å‡ºæœ€å³ä¾§çš„ 1 è®°ä¸º rightOne</p><p>rightOne ä¸ è¿™ä¸ªæ•°å­— å¼‚æˆ–ï¼Œè¿™å°±æ¶ˆé™¤äº†æœ€å³ä¾§çš„ 1</p><p>é‡å¤ç¬¬ä¸€æ­¥ä¸ç¬¬äºŒéƒ¨ï¼Œç›´åˆ°æ‰¾ä¸åˆ° rightOne</p></blockquote><p><br><br><br><br></p><h3 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><hr><br><h4 id="æ¨å¯¼è¿‡ç¨‹-A01"><a href="#æ¨å¯¼è¿‡ç¨‹-A01" class="headerlink" title="æ¨å¯¼è¿‡ç¨‹ A01"></a>æ¨å¯¼è¿‡ç¨‹ A01</h4><blockquote><p>ç”² ä¹™ ä¸¤ä¸ªæ•°å­—äº¤æ¢å€¼ï¼Œè®©int a = ç”²ï¼Œint b = ä¹™ï¼š</p><ul><li>a = a ^ b </li></ul><blockquote><p>æ­¤æ—¶ a = ç”² ^ ä¹™ ;b = ä¹™;</p></blockquote><ul><li>b = a ^ b</li></ul><blockquote><p>æ­¤æ—¶ b = ç”² ^ ä¹™ ^ ä¹™;ï¼ˆç”±äº a åœ¨ä¸Šä¸€æ­¥å·²ç»ç­‰äº â€œç”² ^ ä¹™â€ äº†ï¼‰</p></blockquote><blockquote><p>æ ¹æ®å…¬å¼ï¼šN ^ N == 0ï¼Œæ‰€ä»¥ b ^ b == 0ï¼›ï¼ˆå¼‚æˆ–æ»¡è¶³äº¤æ¢å®šå¾‹ï¼Œè¿ç®—é¡ºåºæ— æ‰€è°“ï¼‰</p></blockquote><blockquote><p>æ ¹æ®å…¬å¼ï¼š0 ^ N == Nï¼Œæ‰€ä»¥  a ^ 0 == a ï¼Œ æ‰€ä»¥ b = a;</p></blockquote><ul><li>a = a ^ b</li></ul><blockquote><p>æ­¤æ—¶çš„ a == ç”² ^ ä¹™ï¼Œb == ç”²ï¼Œæ‰€ä»¥è¿™ä¸ªç®—æ˜¯å¯ä»¥å†™æˆï¼ša = ç”² ^ ä¹™ ^ ç”²ï¼›</p></blockquote><blockquote><p>æ‰€ä»¥å¾—åˆ° a = ä¹™ï¼ˆåŸç†åŒç¬¬äºŒæ­¥ï¼‰</p></blockquote></blockquote><hr><br><h4 id="äºŒåˆ†æ³•æ³¨æ„äº‹é¡¹ï¼š"><a href="#äºŒåˆ†æ³•æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="äºŒåˆ†æ³•æ³¨æ„äº‹é¡¹ï¼š"></a>äºŒåˆ†æ³•æ³¨æ„äº‹é¡¹ï¼š</h4><blockquote><p>æ–¹æ³•ä¸€ï¼šmid = ( L + R ) / 2</p><p>æ”¹    è¿›ï¼šmid = L + ( R - L ) / 2</p><p>N / 2 == N &gt;&gt; 1    ï¼ˆä½è¿ç®—é€Ÿåº¦æ¯”é™¤è¿ç®—å¿«ï¼‰</p><p>mid = L + ( R - L ) &gt;&gt; 1</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘è·¨åŸŸ ä»¥åŠ è§£å†³è·¨åŸŸçš„ä¸‰ç§åŠæ³•</title>
    <link href="/2021/02/15/%E3%80%90Java%E3%80%91%E8%B7%A8%E5%9F%9F-%E4%BB%A5%E5%8F%8A-%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E7%9A%84%E4%B8%89%E7%A7%8D%E5%8A%9E%E6%B3%95/"/>
    <url>/2021/02/15/%E3%80%90Java%E3%80%91%E8%B7%A8%E5%9F%9F-%E4%BB%A5%E5%8F%8A-%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E7%9A%84%E4%B8%89%E7%A7%8D%E5%8A%9E%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="è·¨åŸŸ-ä»¥åŠ-è§£å†³è·¨åŸŸçš„ä¸‰ç§åŠæ³•"><a href="#è·¨åŸŸ-ä»¥åŠ-è§£å†³è·¨åŸŸçš„ä¸‰ç§åŠæ³•" class="headerlink" title="è·¨åŸŸ ä»¥åŠ è§£å†³è·¨åŸŸçš„ä¸‰ç§åŠæ³•"></a>è·¨åŸŸ ä»¥åŠ è§£å†³è·¨åŸŸçš„ä¸‰ç§åŠæ³•</h1><p>æµè§ˆå™¨çš„åŒæºç­–ç•¥</p><p>åè®®ã€åŸŸåã€ç«¯å£ä¸‰è€…å…¨éƒ¨ç›¸åŒæ‰ç®—æ˜¯åŒæº</p><div class="note note-primary">            <h3 id="è§£å†³æ–¹æ¡ˆä¸€"><a href="#è§£å†³æ–¹æ¡ˆä¸€" class="headerlink" title="è§£å†³æ–¹æ¡ˆä¸€"></a>è§£å†³æ–¹æ¡ˆä¸€</h3>          </div><p>ç›®æ ‡æ–¹æ³•ä¸Šæ·»åŠ <span class="label label-success"></span>æ³¨è§£</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/hello"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@CrossOrigin</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token class-name">HelloController</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"Hello "</span><span class="token operator">+</span> name<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <h3 id="è§£å†³æ–¹æ¡ˆäºŒ"><a href="#è§£å†³æ–¹æ¡ˆäºŒ" class="headerlink" title="è§£å†³æ–¹æ¡ˆäºŒ"></a>è§£å†³æ–¹æ¡ˆäºŒ</h3>          </div><p>æ·»åŠ  CORS è¿‡æ»¤å™¨</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>cors<span class="token punctuation">.</span></span><span class="token class-name">CorsConfiguration</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>cors<span class="token punctuation">.</span></span><span class="token class-name">UrlBasedCorsConfigurationSource</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span><span class="token class-name">CorsFilter</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CorsConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">CorsFilter</span> <span class="token function">corsFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">CorsConfiguration</span> corsConfiguration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CorsConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// å…è®¸é‚£äº›åŸŸé€šè¿‡</span>        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedOrigin</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// å…è®¸å“ªäº›å¤´å­—æ®µ</span>        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedHeader</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// å…è®¸å“ªäº›è¯·æ±‚æ–¹å¼ GET/POST</span>        corsConfiguration<span class="token punctuation">.</span><span class="token function">addAllowedMethod</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">UrlBasedCorsConfigurationSource</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlBasedCorsConfigurationSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        source<span class="token punctuation">.</span><span class="token function">registerCorsConfiguration</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">,</span>corsConfiguration<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CorsFilter</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="note note-primary">            <h3 id="è§£å†³æ–¹æ¡ˆä¸‰"><a href="#è§£å†³æ–¹æ¡ˆä¸‰" class="headerlink" title="è§£å†³æ–¹æ¡ˆä¸‰"></a>è§£å†³æ–¹æ¡ˆä¸‰</h3>          </div><p>å®ç° WebMvcConfigurer æ¥å£ï¼Œé‡å†™ addCorsMappings æ–¹æ³•</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">CorsRegistry</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebMvcConfigurer</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Controller</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CorsConfiguration</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCorsMappings</span><span class="token punctuation">(</span><span class="token class-name">CorsRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        registry<span class="token punctuation">.</span><span class="token function">addMapping</span><span class="token punctuation">(</span><span class="token string">"/**"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">allowedOriginPatterns</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">allowedMethods</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span><span class="token string">"POST"</span><span class="token punctuation">,</span><span class="token string">"PUT"</span><span class="token punctuation">,</span><span class="token string">"DELETE"</span><span class="token punctuation">,</span><span class="token string">"HEAD"</span><span class="token punctuation">,</span><span class="token string">"POTIONS"</span><span class="token punctuation">)</span>                <span class="token comment">// å…è®¸æºå¸¦ cookie</span>                <span class="token punctuation">.</span><span class="token function">allowCredentials</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>                <span class="token comment">// 3600 ç§’å†…æµè§ˆå™¨ä¸å¿…å†æ¬¡è®¿é—®</span>                <span class="token punctuation">.</span><span class="token function">maxAge</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">allowedHeaders</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Errorã€‘æƒé™ ä¸å¤Ÿ/ å—é˜» ä¸€ç±»é—®é¢˜çš„è§£å†³æ–¹æ³•</title>
    <link href="/2021/01/05/%E3%80%90Linux%E3%80%91-%E6%9D%83%E9%99%90-%E4%B8%8D%E5%A4%9F-%E5%8F%97%E9%98%BB-%E4%B8%80%E7%B1%BB%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <url>/2021/01/05/%E3%80%90Linux%E3%80%91-%E6%9D%83%E9%99%90-%E4%B8%8D%E5%A4%9F-%E5%8F%97%E9%98%BB-%E4%B8%80%E7%B1%BB%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><hr><p>åœ¨ Linux ä¸­å¯èƒ½ä¼šé‡åˆ°ä¸¤ç§æƒé™é—®é¢˜ï¼Œç¬¬ä¸€ç§åªè¦åœ¨å‘½ä»¤æœ€å‰æ–¹ï¼‹<code>sudo</code>ä¾¿å¯ä»¥æ‰§è¡Œï¼Œè¿™æ˜¯ä½¿ç”¨ root èº«ä»½è¿›è¡Œæ‰§è¡Œï¼Œå¦ä¸€ç§åˆ™ä¸ä»…ä¼šå‡ºç°åœ¨ä½¿ç”¨å‘½ä»¤ä¸­ï¼Œå¦‚åœ¨æŸä¸ªæ–‡ä»¶å¤¹å³å‡»åˆ é™¤æŸä¸ªå†…å®¹æ—¶ï¼Œä¹Ÿä¼šå‡ºç°<code>æƒé™ä¸å¤Ÿï¼Œæ˜¯å¦è·³è¿‡ï¼Ÿ</code>è¿™ä¸€ç±»æç¤ºï¼Œè¿™æ—¶å€™åªè¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä¾¿å¯ä»¥è§£å†³ï¼š</p><blockquote><p>chmod 777 æ–‡ä»¶ï¼ˆæˆ–æ–‡ä»¶å¤¹ï¼‰åç§°</p></blockquote><p>åœ¨æ‰€æœ‰ä½¿ç”¨ root æ— æ³•è§£å†³ï¼Œæˆ–åœ¨å›¾å½¢ç”¨æˆ·åŒ–ç•Œé¢æ“ä½œæ— æ³•è§£å†³æ—¶ï¼Œéƒ½å¯ä»¥æ‰“å¼€ ç»ˆç«¯ å¹¶ä¸”è¾“å…¥å¦‚ä¸Šå‘½ä»¤è§£å†³</p><br><br><h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><hr><p>å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œå¯ä»¥ã€å…³æ³¨ã€‘ä½œè€…ï¼Œä¸”å³ä¸‹è§’å¯å¯¹ä½œè€…è¿›è¡Œæ‰“èµå“¦</p>]]></content>
    
    
    <categories>
      
      <category>Error</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Error</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Springbootã€‘Spring Framework 5 æ¡†æ¶</title>
    <link href="/2021/01/05/%E3%80%90Springboot%E3%80%91Spring-Framework-5-%E6%A1%86%E6%9E%B6%E7%B3%BB%E5%88%97/"/>
    <url>/2021/01/05/%E3%80%90Springboot%E3%80%91Spring-Framework-5-%E6%A1%86%E6%9E%B6%E7%B3%BB%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="Spring-Framework-5-æ¡†æ¶ç³»åˆ—"><a href="#Spring-Framework-5-æ¡†æ¶ç³»åˆ—" class="headerlink" title="Spring Framework 5 æ¡†æ¶ç³»åˆ—"></a>Spring Framework 5 æ¡†æ¶ç³»åˆ—</h3><p><br><br><br></p><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><hr><ul><li><p>ä»€ä¹ˆæ˜¯Springï¼Ÿ</p><ul><li>Spring æ˜¯ä¸€ä¸ªè½»é‡çº§çš„<em>ï¼ˆå¯¹è±¡ï¼‰</em>æ§åˆ¶ç¿»è½¬ï¼ˆIOC/DIï¼‰å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰çš„å¯¹è±¡å®¹å™¨æ¡†æ¶ï¼›</li><li>æå¤§ç®€åŒ–å¼€å‘è¿‡ç¨‹ï¼Œé™ä½å¼€å‘éš¾åº¦ï¼›</li></ul></li><li><p>ä»€ä¹ˆæ˜¯æ§åˆ¶ç¿»è½¬ï¼ˆIOCï¼‰ï¼Ÿ</p><blockquote><p><font color=#f90>Spring ç”¨æˆ·ç›¸å½“äºçªƒå– Spring æˆæœçš„å­˜åœ¨</font></p><p>ä¸¾ä¾‹ï¼š</p><p>æˆ‘ æƒ³è¦ç”Ÿä¸€ä¸ªå­©å­</p><p>æˆ‘ éœ€è¦ä»˜å‡ºçš„ä»£ä»·æ˜¯ï¼šç”Ÿå­©å­ã€å–‚å¥¶ã€æ•™ä»–è¯»ä¹¦â€¦â€¦</p><p>æˆ‘ ç”Ÿå­©å­çš„ç›®çš„æ˜¯ï¼šç©å„¿ã€æ´—å®Œã€èµšé’±ã€å…»è€â€¦â€¦</p><p>ç°åœ¨æœ‰ä¸€ä¸ªç¬¬ä¸‰æ–¹æœºæ„ï¼Œå¯ä»¥å¸®æˆ‘å®Œæˆç”Ÿå­©å­æ‰€ä»˜å‡ºçš„ä»£ä»·ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æ›¿æˆ‘ç”Ÿäº§ã€å–‚å¥¶ã€æ•™å­¦</p><p>æ‰€ä»¥æˆ‘åªè¦ç­‰ç€ç©å­©å­ã€è®©ä»–æ´—ç¢—ã€èµšé’±å°±å¯ä»¥äº†</p></blockquote></li><li><p>ä»€ä¹ˆæ˜¯ ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ ï¼Ÿ</p><ul><li>å¯¹è±¡ <code>new</code> å‡ºæ¥ä¹‹åï¼Œç”± <code>Spring</code> æ¥å†³å®š <code>set</code> è·Ÿ <code>get</code></li><li><code>IOC</code>æ˜¯æ€æƒ³ï¼Œ<code>DI</code>æ˜¯è§£å†³æ–¹æ¡ˆ</li></ul></li><li><p>ä¸‹è½½</p><ul><li>å®˜ç½‘ï¼ˆæ–‡æ¡£æœ€åº•éƒ¨ï¼‰ä¸‹è½½æœ€æ–°ç‰ˆçš„<code>dist</code>å‹ç¼©åŒ…</li></ul></li></ul><hr><p><br><br></p><h4 id="äº”ä¸ªæ ¸å¿ƒ-jar-åŒ…"><a href="#äº”ä¸ªæ ¸å¿ƒ-jar-åŒ…" class="headerlink" title="äº”ä¸ªæ ¸å¿ƒ jar åŒ…"></a>äº”ä¸ªæ ¸å¿ƒ jar åŒ…</h4><hr><div class="code-wrapper"><pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">commons-logging-1.2.jarspring-beans-5.1.7.RELEASE.jarspring-context-5.1.7.RELEASE.jarspring-core-5.1.7.RELEASE.jarspring-expression-5.1.7.RELEASE.jar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=#f890 size=2>commons-lang.3.3.9.jar éœ€è¦è‡ªå·±<code>ä¸‹è½½</code></font></p><p><br><br></p><h4 id="æ§åˆ¶ç¿»è½¬-IOC-ä¾èµ–æ³¨å…¥-DI"><a href="#æ§åˆ¶ç¿»è½¬-IOC-ä¾èµ–æ³¨å…¥-DI" class="headerlink" title="æ§åˆ¶ç¿»è½¬ IOC ä¾èµ–æ³¨å…¥ DI"></a>æ§åˆ¶ç¿»è½¬ IOC ä¾èµ–æ³¨å…¥ DI</h4><hr><ul><li>å¼•ç”¨æ ¸å¿ƒç±»</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestGetBean</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// åŸå§‹æ–¹æ³• åˆ›å»ºå¯¹è±¡</span>        <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        p<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// æ§åˆ¶ç¿»è½¬å åˆ›å»ºå¯¹è±¡</span>        <span class="token class-name">ClsssPathXmlApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// â†‘ â†‘  é€šè¿‡ ClassPath æŸ¥æ‰¾ xml æ–‡ä»¶ applicationContext.xml</span>        <span class="token comment">// â†‘ â†‘  é€šè¿‡ ApplicationContextï¼ˆåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ï¼‰ æŸ¥æ‰¾ åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡</span>        <span class="token comment">// æœ‰äº†ä¸Šé¢ä¸¤ä¸ªå°±å¯ä»¥é€šè¿‡ ctx è¿›è¡Œ getBean äº†</span>        <span class="token class-name">Object</span> bean <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">)</span>ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"person"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// -------- åˆ†å‰²çº¿ ---------</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span>bean<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span>bean<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>é…ç½®æ–‡ä»¶ applicationContext.xml ä¸­</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ·»åŠ </span><span class="token operator">&lt;</span>beans â€¦â€¦ <span class="token operator">></span><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"person"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.â€¦â€¦.Person"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="è§£è€¦åˆ-amp-amp-å±æ€§"><a href="#è§£è€¦åˆ-amp-amp-å±æ€§" class="headerlink" title="è§£è€¦åˆ &amp;&amp; å±æ€§"></a>è§£è€¦åˆ &amp;&amp; å±æ€§</h4><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span> <span class="token comment">// Lombok æ³¨é‡Šï¼šæ›¿ä»£set / get / toString æ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span><span class="token keyword">private</span> <span class="token class-name">Food</span> foot<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Food</span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> hungry<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">â€¦â€¦</span> <span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>person<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦.Person<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zhangsan<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>food<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>food<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=#f890 size=2> <code>&lt;constructor-arg name=&quot;name&quot; value=&quot;zhangsan&quot;&gt;&lt;/constructor-arg&gt;</code></font></p><p><font color=#f890 size=2> å…¶ä¸­ï¼šconstructor-argæ˜¯<code>å±æ€§</code>ï¼Œvalueæ˜¯<code>å€¼</code>ï¼Œrefä»£è¡¨<code>å¼•ç”¨å…¶ä»–çš„ç±»</code></font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Food</span> food <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"food"</span><span class="token punctuation">,</span><span class="token class-name">Food</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> a <span class="token operator">=</span> <span class="token class-name">ToStringBuilder</span><span class="token punctuation">.</span><span class="token function">reflectionToString</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Sout</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><hr><h4 id="ApplicationContext-xml-æ–‡ä»¶çš„è¯¦æƒ…"><a href="#ApplicationContext-xml-æ–‡ä»¶çš„è¯¦æƒ…" class="headerlink" title="ApplicationContext.xml æ–‡ä»¶çš„è¯¦æƒ…"></a>ApplicationContext.xml æ–‡ä»¶çš„è¯¦æƒ…</h4><hr><div class="code-wrapper"><pre class="line-numbers language-xxxml" data-language="xxxml"><code class="language-xxxml">&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot; &lt;!--è¿™é‡Œåªæ˜¯ä¸€ä¸ªæ ‡ç­¾--&gt;xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;&lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=#f890 size=2>xmlæ–‡ä»¶çš„å®šä¹‰</font></p><hr><ul><li>åŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ–‡ä»¶ä¸€ï¼š ApplicationContext.xml</span><span class="token comment">// æ–‡ä»¶äºŒï¼š ApplicationContext-service.xml</span><span class="token comment">// è°ƒç”¨ï¼š</span><span class="token comment">// æ–¹æ³•ä¸€ï¼š</span><span class="token class-name">ClassPathXmlApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"ApplicationContext.xml"</span><span class="token punctuation">,</span><span class="token string">"ApplicationContext-service.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ–¹æ³•äºŒï¼š</span><span class="token comment">//å°†å­—ç¬¦ä¸²å®šä¹‰æˆä¸€ä¸ªæ•°ç»„</span><span class="token comment">// æ–¹æ³•ä¸‰ï¼šåœ¨ä¸€ä¸ª XML æ–‡ä»¶ä¸­ä½¿ç”¨</span><span class="token operator">&lt;</span><span class="token keyword">import</span> <span class="token namespace">resource</span><span class="token operator">=</span><span class="token string">"applicationContext-service1.xml"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token keyword">import</span> <span class="token namespace">resource</span><span class="token operator">=</span><span class="token string">"applicationContext-service2.xml"</span><span class="token operator">></span><span class="token comment">// ä¼˜åŒ–</span><span class="token operator">&lt;</span><span class="token keyword">import</span> <span class="token namespace">resource</span><span class="token operator">=</span><span class="token string">"application-*.xml"</span><span class="token operator">></span>    <span class="token comment">// â€¦â€¦â€¦â€¦â€¦â€¦</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><hr><ul><li>å°† <code>new</code> æ¢æˆ <code>&lt;bean id=&quot;xxx&quot; class=&quot;xxx.class&quot;&gt;&lt;/bean&gt;</code></li><li>å°†<code>set</code>æ¢æˆ <code>&lt;constructor-arg name=&quot;xxx&quot; value=&quot;xxx&quot;&gt;&lt;/constructor-arg&gt;</code></li><li>é…ç½®æ–‡ä»¶çš„å¼€å¤´éƒ¨åˆ†çš„åŠŸèƒ½</li><li>å¼•ç”¨ ä¸€ä¸ª / å¤šä¸ª é…ç½®æ–‡ä»¶çš„æ–¹å¼</li></ul><hr><p><br><br></p><h4 id="ä½¿ç”¨-Spring"><a href="#ä½¿ç”¨-Spring" class="headerlink" title="ä½¿ç”¨ Spring"></a>ä½¿ç”¨ Spring</h4><hr><ul><li>å¼•ç”¨æ ¸å¿ƒç±»</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestGetBean</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">ClsssPathXmlApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// â†‘ â†‘  é€šè¿‡ ClassPath æŸ¥æ‰¾ xml æ–‡ä»¶ applicationContext.xml</span>        <span class="token comment">// â†‘ â†‘  é€šè¿‡ ApplicationContextï¼ˆåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ï¼‰ æŸ¥æ‰¾ åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡</span>        <span class="token comment">// æœ‰äº†ä¸Šé¢ä¸¤ä¸ªå°±å¯ä»¥é€šè¿‡ ctx è¿›è¡Œ getBean äº†</span>        <span class="token class-name">Object</span> bean <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">)</span>ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"person"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        bean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// -------- åˆ†å‰²çº¿ ---------</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span>bean<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span>bean<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>é…ç½®æ–‡ä»¶ applicationContext.xml ä¸­</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ·»åŠ </span><span class="token operator">&lt;</span>beans â€¦â€¦ <span class="token operator">></span><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"person"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.â€¦â€¦.Person"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br></p><p><br><br></p><h3 id="è¡¥å……å­¦ä¹ "><a href="#è¡¥å……å­¦ä¹ " class="headerlink" title="è¡¥å……å­¦ä¹ "></a>è¡¥å……å­¦ä¹ </h3><br><br><h5 id="ä»€ä¹ˆæ˜¯-å•ä¾‹ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-å•ä¾‹ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ å•ä¾‹ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ å•ä¾‹ï¼Ÿ</h5><hr><ul><li>åº”ç”¨ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™åªå‡ºæ¥ä¸€ä¸ªå¯¹è±¡ï¼›</li><li><a href="https://blog.csdn.net/qq_42857603/article/details/83375057">å•ä¾‹å¯¹è±¡ï¼ˆ é¡ºä¾¿ å¤ä¹ ä¸€ä¸‹ é¥±æ±‰/é¥¿æ±‰ æ¨¡å¼ï¼‰</a></li></ul><hr><p><br><br></p><h4 id="ä»€ä¹ˆæ˜¯-Beanï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-Beanï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ Beanï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ Beanï¼Ÿ</h4><hr><p>bean ï¼Œä½œä¸ºä¸€ä¸ªè‹±æ–‡å•è¯çš„æ„æ€æ˜¯è±†å­ï¼Œåœ¨ Spring æ¡†æ¶ä¸­ï¼ŒBean çš„æ„æ€å°±æ˜¯ä¸€ä¸ªå®ä½“ï¼Œå¥½æ¯”æˆ‘åˆ›å»ºä¸€ä¸ª Son.java å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Son</span><span class="token punctuation">&#123;</span><span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span><span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>é‚£ä¹ˆè¿™ä¸ªç±»å°±æ˜¯ä¸€ä¸ª Bean å¯¹è±¡ï¼Œä½ åˆ›å»ºçš„æ‰€æœ‰å®ä½“ï¼Œæ¯ä¸€ä¸ªå®ä½“éƒ½æ˜¯ä¸€ä¸ª Beanï¼›</p><p><br><br></p><h4 id="MVC-ç®€ä»‹ï¼ˆ-ä»€ä¹ˆæ˜¯MVCï¼Ÿï¼‰"><a href="#MVC-ç®€ä»‹ï¼ˆ-ä»€ä¹ˆæ˜¯MVCï¼Ÿï¼‰" class="headerlink" title="MVC ç®€ä»‹ï¼ˆ ä»€ä¹ˆæ˜¯MVCï¼Ÿï¼‰"></a>MVC ç®€ä»‹ï¼ˆ ä»€ä¹ˆæ˜¯MVCï¼Ÿï¼‰</h4><hr><ul><li>ç¼˜èµ·ï¼š<ul><li>æœ€åˆæ²¡æœ‰ MVC çš„æ—¶å€™ï¼Œåªæ˜¯ä¸€ä¸ªç®€å•çš„åŸºäº<font color=#f52g>è¯·æ±‚ / å“åº”</font>çš„æµæ¨¡å¼</li><li>Serviet(request / response) ã€è¯·æ±‚ã€‘ â†’  Serviceã€å¤„ç†ä¸šåŠ¡é€»è¾‘ã€‘ â†’ jspã€å±•ç¤ºã€‘ </li><li>ã€Model æ§åˆ¶å±‚ã€‘ä¸€ä¸ªä¸šåŠ¡é€»è¾‘éƒ½æœ‰ä¸€ä¸ª <strong>å…·ä½“çš„ç±»</strong> æ¥å¤„ç†ï¼Œå°†æ‰€æœ‰çš„ <strong>ç±»</strong> æ•´åˆèµ·æ¥ï¼Œç§°ä½œ <code>Service</code></li><li>ã€View    è§†å›¾å±‚ã€‘å±•ç¤º <strong>ç»“æœ</strong> çš„ä¸€ä¸ªå±‚ï¼Œjspã€ä¸‹è½½ ç­‰</li><li>ã€Controller æ¥æ”¶å±‚ã€‘æ¥æ”¶å‰ç«¯ç»™çš„æ•°æ®å±‚ï¼Œæ¥æ”¶ä¹‹åç»™ <strong>Model</strong> å±‚æ¥å¤„ç†</li></ul></li></ul><hr><p><br><br></p><h4 id="SSM-ç»“æ„"><a href="#SSM-ç»“æ„" class="headerlink" title="SSM ç»“æ„"></a>SSM ç»“æ„</h4><p><font color=DarkGray size=2>Spring / SpringMVC / Mybatis</font></p><hr><ul><li>Spring ä½œç”¨ï¼š<code>new</code> å¯¹è±¡<ul><li>DI ä¾èµ–æ³¨å…¥ï¼ˆController éœ€è¦ Serviceï¼Œæ¯æ¬¡<code>new</code>ä¸€ä¸ªååˆ†æ¶ˆè€—æ€§èƒ½ï¼Œ<code>DI</code> å¯ä»¥ä¼˜åŒ–æ€§èƒ½ï¼‰ï¼›<ul><li><code>service</code>ï¼ˆå•ä¾‹ï¼‰ - å¤„ç†é€»è¾‘</li><li><code>DAO</code>ï¼ˆå•ä¾‹ï¼‰ - å¤„ç†æ•°æ®åº“</li><li><code>pojo</code>ï¼ˆå¤šä¾‹ï¼‰ - ä¸å½’<code>Spring</code>å®¹å™¨ç®¡ç†</li></ul></li></ul></li><li>SpringMVC ï¼š<ul><li>ä¸€ä¸ªMVCæ¡†æ¶</li></ul></li><li>MyBatisï¼š<ul><li>ï¼ˆä½¿ç”¨ xml æ–‡ä»¶ï¼‰æ“ä½œæ•°æ®åº“</li></ul></li></ul><hr><p><br><br></p><h4 id="ä¸ºä»€ä¹ˆç”¨å•ä¾‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆç”¨å•ä¾‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆç”¨å•ä¾‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆç”¨å•ä¾‹ï¼Ÿ</h4><hr><ul><li>æ€§èƒ½å¥½ï¼ˆèŠ‚çœå†…å­˜ï¼‰ï¼›</li><li>è¿¸å‘æƒ…å†µä¸‹ï¼Œå®¹æ˜“äº§ç”Ÿ <strong>çº¿ç¨‹å®‰å…¨</strong> é—®é¢˜ï¼›</li><li>å®¹å™¨ï¼ˆå¦‚ï¼šSpringï¼‰æ¥åˆ°è¯·æ±‚ï¼Œæ¯ä¸€ä¸ªè¯·æ±‚éƒ½æ˜¯ä¸€ä¸ª <strong>çº¿ç¨‹</strong> ï¼›</li></ul><hr><p><br><br></p><h4 id="å•ä¾‹ç±»çš„æ³¨æ„äº‹é¡¹ï¼š"><a href="#å•ä¾‹ç±»çš„æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="å•ä¾‹ç±»çš„æ³¨æ„äº‹é¡¹ï¼š"></a>å•ä¾‹ç±»çš„æ³¨æ„äº‹é¡¹ï¼š</h4><hr><ul><li>ä¸èƒ½æœ‰çŠ¶æ€æ•°æ®ï¼Œå¦‚æœæœ‰è¦éå¸¸å°å¿ƒï¼›</li><li>ä¸€ä¸ªçº¿ç¨‹æ”¹äº†ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è¯»äº†è¿™ä¸ªæ ·å­ï¼›</li><li><code>ThreadLocal</code> ç”¨æ¥åšçº¿ç¨‹éš”ç¦»çš„ï¼Œçº¿ç¨‹ ä¸ çº¿ç¨‹ä¹‹é—´ä¸å…±äº«ï¼Œä½†æ˜¯ æŸäº›å®ä½“ç±»æˆ–è€…æŸäº›æ–¹æ³•ä¸­å†™äº†<code>private</code>çš„å±æ€§ï¼ˆå¯ä»¥ä½¿ç”¨<code>set</code>æ¥ä¿®æ”¹ï¼‰ï¼Œä¸€ä¸ªåˆš<code>set</code>å®Œï¼ˆæˆ–è€…è¿˜æ²¡<code>set</code>ç»“æŸï¼‰ï¼Œå¦ä¸€ä¸ªå°±ä¹Ÿæ¥<code>set</code>äº†ï¼›</li></ul><hr><p><br><br></p><h4 id="Spring-çš„ä½œç”¨åŸŸ"><a href="#Spring-çš„ä½œç”¨åŸŸ" class="headerlink" title="Spring çš„ä½œç”¨åŸŸ"></a>Spring çš„ä½œç”¨åŸŸ</h4><p><font color = DarkGray size=2>è¿™ä¸‰ä¸ª <code>Person</code>å®Œå…¨ä¸€æ¨¡ä¸€æ ·ï¼Œå­˜å‚¨åœ°å€ä¹Ÿä¸€æ ·ï¼›</font> </p><hr><blockquote><p>ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext(â€œapplicationContext.xmlâ€);</p><p>Person person1 = ctx.getBean(â€œpersonâ€,Person.class);</p><p>Person person2 = ctx.getBean(â€œpersonâ€,Person.class);</p><p>Person person3 = ctx.getBean(â€œpersonâ€,Person.class);</p></blockquote><hr><p><br><br></p><h4 id="6-ç§ï¼ˆå•ä¾‹ï¼‰ä½œç”¨åŸŸ"><a href="#6-ç§ï¼ˆå•ä¾‹ï¼‰ä½œç”¨åŸŸ" class="headerlink" title="6 ç§ï¼ˆå•ä¾‹ï¼‰ä½œç”¨åŸŸ"></a>6 ç§ï¼ˆå•ä¾‹ï¼‰ä½œç”¨åŸŸ</h4><hr><ul><li><p>singleton   scope å•ä¾‹ä½œç”¨åŸŸ</p></li><li><p>prototype  scope åŸå‹ä½œç”¨åŸŸ</p></li><li><p>websocket scope åŸºäºè¿æ¥ è¿æ¥æ–­å¼€çš„æ—¶å€™å¯¹è±¡å°±æ¶ˆå¤±</p></li><li><p>request åŸºäºè¯·æ±‚çš„ï¼Œè¯·æ±‚æ‰“è¿‡æ¥ï¼Œå¯¹è±¡å°±å‡ºæ¥ï¼ˆåªå‡ºæ¥ä¸€æ¬¡ï¼‰</p></li><li><p>session åŸºäºç™»å½•çš„ï¼Œå¯¹è±¡ç™»é™†äº†ï¼Œå°± new ä¸€ä¸ªå¯¹è±¡ï¼ˆåªæœ‰ä¸€ä¸ªï¼‰</p></li><li><p>application åŸºäºåº”ç”¨ç¨‹åºï¼Œåº”ç”¨ç¨‹åºå¯åŠ¨ï¼Œå°± new ä¸€ä¸ªå¯¹è±¡</p></li></ul><hr><p><br><br></p><h4 id="ApplicationContext-xml-æ–‡ä»¶ä¸­åŠ å…¥-ä½œç”¨åŸŸçš„æ–¹å¼"><a href="#ApplicationContext-xml-æ–‡ä»¶ä¸­åŠ å…¥-ä½œç”¨åŸŸçš„æ–¹å¼" class="headerlink" title="ApplicationContext.xml æ–‡ä»¶ä¸­åŠ å…¥ ä½œç”¨åŸŸçš„æ–¹å¼"></a>ApplicationContext.xml æ–‡ä»¶ä¸­åŠ å…¥ ä½œç”¨åŸŸçš„æ–¹å¼</h4><p><font color=GrayGreen size=2>åšäº†ä»¥ä¸Šæ›´æ”¹ä¹‹åï¼Œ<code>new</code>å‡ºæ¥çš„ä¸‰ä¸ªå¯¹è±¡åœ°å€ä¸ä¸€æ ·äº†ï¼›</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>person<span class="token punctuation">"</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prototype<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.â€¦â€¦.Person<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å’Œæ ‘ä¸å›°<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><hr><p><br><br></p><h4 id="Spring-å¯¹è±¡ç”Ÿäº§çš„ä¸¤ç§æ–¹å¼ï¼ˆåªæœ‰ä¸¤ç§ï¼‰"><a href="#Spring-å¯¹è±¡ç”Ÿäº§çš„ä¸¤ç§æ–¹å¼ï¼ˆåªæœ‰ä¸¤ç§ï¼‰" class="headerlink" title="Spring å¯¹è±¡ç”Ÿäº§çš„ä¸¤ç§æ–¹å¼ï¼ˆåªæœ‰ä¸¤ç§ï¼‰"></a>Spring å¯¹è±¡ç”Ÿäº§çš„ä¸¤ç§æ–¹å¼ï¼ˆåªæœ‰ä¸¤ç§ï¼‰</h4><hr><ul><li>å•ä¾‹ï¼šsingleton ï¼ˆæ¯æ¬¡å»çš„éƒ½æ˜¯åŒä¸€ä¸ªï¼‰ï¼ŒåŒ…æ‹¬<ul><li>websocket </li><li>request </li><li>session </li><li>application </li><li>ä»¥ä¸Šå››ç§<font color=#f890>ç»‘å®šäº†ç”Ÿå‘½å‘¨æœŸ</font>ï¼Œåœ¨ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¸ä¼šæœ‰ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ï¼ŒgetBean çš„æ—¶å€™æ°¸è¿œéƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼›</li></ul></li><li>new å‡ºæ¥ï¼š ï¼ˆscope = â€œprototypeâ€ï¼‰</li></ul><hr><p><font color=LSDJR>å½“ scope = â€œprototypeâ€ çš„æ—¶å€™ï¼Œæ¯æ¬¡ getBean éƒ½æ˜¯æ–°çš„ Beanï¼Œå¦åˆ™éƒ½æ˜¯ä¸€ä¸ª Beanï¼›</font></p><p><br><br></p><h3 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h3><p><font color=DarkGray size=2>åˆ›å»ºä¸€ä¸ªå·¥å‚æ¥å£ï¼Œéœ€è¦ä»€ä¹ˆç›´æ¥ä¼ å‚ç”Ÿæˆï¼›</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Car</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AoDi</span> <span class="token keyword">implements</span> <span class="token class-name">Car</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"å¥¥è¿ªA7"</span>ï¼›    <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"100w"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaoMa</span> <span class="token keyword">implements</span> <span class="token class-name">Car</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"å®é©¬R7"</span>ï¼›    <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"120w"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// å·¥å‚æ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CarFactory</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">Car</span> <span class="token function">getCar</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"Aodi"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            retrun <span class="token keyword">new</span> <span class="token class-name">Aodi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">&#123;</span>            retrun <span class="token keyword">new</span> <span class="token class-name">BaoMa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">"æ— æ³•ç”Ÿäº§è¿™è¾†è½¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Car</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CarFac</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><hr><ul><li>åœ¨ ApplicationContext.xml ä¸­å®šä¹‰è¿™ä¸ªå·¥å‚</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>carFactory<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.â€¦â€¦.carFactory<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>car<span class="token punctuation">"</span></span> <span class="token attr-name">factory-bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>carFactory<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--éœ€è¦ set æ–¹æ³•--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Aodi<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-JAVA" data-language="JAVA"><code class="language-JAVA">ClassPathXmlApplicationContext ctx &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);Car car &#x3D; ctx.getBean(&quot;car&quot;,Car.class);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><hr><p><br><br></p><h4 id="å¾ªç¯å¼•ç”¨ï¼ˆå¼ºå¼•ç”¨ï¼‰"><a href="#å¾ªç¯å¼•ç”¨ï¼ˆå¼ºå¼•ç”¨ï¼‰" class="headerlink" title="å¾ªç¯å¼•ç”¨ï¼ˆå¼ºå¼•ç”¨ï¼‰"></a>å¾ªç¯å¼•ç”¨ï¼ˆå¼ºå¼•ç”¨ï¼‰</h4><p><font color=DARKGRAY size=2>Aå¼•ç”¨B / Bå¼•ç”¨C / Cå¼•ç”¨Aï¼š JVMè®¡æ•°å™¨ï¼Œå½“æ£€æµ‹åˆ°è¿˜åœ¨è¢«å¼•ç”¨çš„æ—¶å€™å°±ä¸ä¼šé”€æ¯å®ƒï¼Œæ‰€ä»¥è¿™ä¸‰ä¸ªæ°¸è¿œéƒ½ä¸ä¼šè¢«é”€æ¯ï¼Œå®¹æ˜“é€ æˆ<font color=#f123>å†…å­˜æº¢å‡º</font>ï¼›</font></p><hr><ul><li>åœ¨ Spring ä¸­å¯ä»¥æ£€æµ‹è¿™ç§é”™è¯¯çš„åšæ³•ï¼Œå¹¶ä½œå‡ºæé†’</li><li>å•ä¾‹æ¨¡å¼æ˜¯å¯ä»¥å…è®¸è¿™æ ·å¼•ç”¨çš„ï¼Œä½†æ˜¯ new æˆ–è€… prototype  æ˜¯ä¸å…è®¸çš„</li><li>åŒæ—¶æœ‰ å•ä¾‹æ¨¡å¼ &amp; prototype æ¨¡å¼æ˜¯å…è®¸çš„ï¼Œ å¹¶ä¸”<font color=7baf23 >å•ä¾‹å¯¹è±¡çš„å¼•ç”¨å¯¹è±¡ä¹Ÿå˜æˆäº†å•ä¾‹çš„ã€‚</font></li></ul><hr><p><br><br></p><h3 id="Spring-åˆå§‹åŒ–-Bean-çš„å››ç§æ–¹å¼ï¼ˆåˆå§‹åŒ–é¡ºåºï¼‰"><a href="#Spring-åˆå§‹åŒ–-Bean-çš„å››ç§æ–¹å¼ï¼ˆåˆå§‹åŒ–é¡ºåºï¼‰" class="headerlink" title="Spring åˆå§‹åŒ– Bean çš„å››ç§æ–¹å¼ï¼ˆåˆå§‹åŒ–é¡ºåºï¼‰"></a>Spring åˆå§‹åŒ– Bean çš„å››ç§æ–¹å¼ï¼ˆåˆå§‹åŒ–é¡ºåºï¼‰</h3><hr><ul><li>æŒ‰ç…§ Bean æ ‡ç­¾çš„é¡ºåº</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">// ApplicationContext.cml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦â€¦â€¦.A.class<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p><font color=DarkGray size=2><code>&lt;bean&gt;</code>æ ‡ç­¾çš„ä½ç½®è¶Šé å‰ï¼Œåˆ™åˆå§‹åŒ–è¶Šæ—©ï¼›</font></p><hr><ul><li>å…ˆåŠ è½½ depends-on=â€ â€œ ä¾èµ–äº:</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">// ApplicationContext.cml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦â€¦â€¦.A.class<span class="token punctuation">"</span></span> <span class="token attr-name">depends-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>B<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p><font color=DarkGray size=2>A depends-on Bï¼Œåˆ™åœ¨åˆå§‹åŒ– A ä¹‹å‰ä¸€å®šä¼šåˆå§‹åŒ– Bï¼›</font></p><hr><ul><li>æ‡’åŠ è½½</li></ul><p><font color=DarkGray size=2><code>&lt;lazy-init=&quot;true&quot;&gt;</code>ï¼Œç”¨åˆ°å“ªä¸ªåŠ è½½å“ªä¸ªï¼Œä¸ç”¨åˆ°ä¸åŠ è½½ã€‚</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦.class<span class="token punctuation">"</span></span> <span class="token attr-name">lazy-init</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><hr><ul><li>å¼º / å¼±å¼•ç”¨</li></ul><hr><blockquote><p>å¼ºå¼•ç”¨ï¼šAå®Œå…¨æŒæœ‰ä¸€ä¸ªç±»Bï¼Œå¦‚æœAä¸åˆå§‹åŒ–ï¼Œåˆ™è¿™ä¸ªç±»å®Œå…¨ä¸èƒ½è¿è¡Œï¼›<br>å¼±å¼•ç”¨ï¼šAåœ¨ä¸€ä¸ªæ–¹æ³•é‡Œé¢ç”¨åˆ°äº†Bçš„æŸä¸€ä¸ªå±æ€§å€¼ï¼Œä¸åˆå§‹åŒ–Bé¡¶å¤šA çš„æ–¹æ³•ä¼šæŠ¥åºŸï¼›</p></blockquote><hr><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦.class<span class="token punctuation">"</span></span> <span class="token attr-name">lazy-init</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>b<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦.class<span class="token punctuation">"</span></span> <span class="token attr-name">lazy-init</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>null</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>null</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>b<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦.class<span class="token punctuation">"</span></span> <span class="token attr-name">lazy-init</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// è¿è¡Œç»“æœ(TtoStringBuilder)ï¼š</span>b<span class="token punctuation">.</span>getName <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// ç©ºæŒ‡é’ˆ</span>a<span class="token punctuation">.</span>getName <span class="token operator">=</span>  <span class="token comment">// ç©ºå­—ç¬¦ä¸²</span>a<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>b<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æŠ¥é”™</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br></p><h4 id="è‡ªåŠ¨è£…é…"><a href="#è‡ªåŠ¨è£…é…" class="headerlink" title="è‡ªåŠ¨è£…é…"></a>è‡ªåŠ¨è£…é…</h4><p><font color=DarkGray size=2>byName åŒ¹é… ID ï¼ŒA é‡Œé¢å¼•ç”¨çš„æ˜¯ b æ‰€ä»¥ B çš„ id=â€bâ€å¯ä»¥ï¼Œä½†æ˜¯byTypeå¼•ç”¨çš„æ˜¯ C è¿™ä¸ªç±»å‹ï¼›</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>A<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦.A<span class="token punctuation">"</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>byName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>b<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦.B<span class="token punctuation">"</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>byType<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>C<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>â€¦â€¦.C<span class="token punctuation">"</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>byName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><ul><li>é…ç½®é»˜è®¤è£…é…çš„ç±»å‹</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">â€¦â€¦â€¦â€¦â€¦â€¦</span> <span class="token attr-name">default-autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>byType<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span><span class="token punctuation">></span></span> â€¦â€¦ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><br><br><h4 id="å­¦ä¹ è¦æ±‚"><a href="#å­¦ä¹ è¦æ±‚" class="headerlink" title="å­¦ä¹ è¦æ±‚"></a>å­¦ä¹ è¦æ±‚</h4><hr><ul><li>æŒæ¡ä½œç”¨åŸŸ</li><li>æŒæ¡å•ä¾‹</li><li>ç†è§£ MVC ä¸ SSM</li><li>æŒæ¡å·¥å‚æ–¹å¼</li></ul><hr><p><br><br><br><br></p><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><hr><p><br><br><br></p><h4 id="Spring-çš„æ‰§è¡Œæµç¨‹"><a href="#Spring-çš„æ‰§è¡Œæµç¨‹" class="headerlink" title="Spring çš„æ‰§è¡Œæµç¨‹"></a>Spring çš„æ‰§è¡Œæµç¨‹</h4><hr><p><img src="https://img-blog.csdnimg.cn/20210113144940866.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hza18wMw==,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>æˆ‘ä»¬ä»å‰ç«¯è®¿é—®Controllerå±‚ï¼Œåˆä»Controllerå±‚è®¿é—®æ•°æ®åº“ï¼Œå°±å¯ä»¥åˆ°è¾¾ä¸€ä¸ªç®€å•çš„ Spring æ¡†æ¶ï¼Œä½†æ˜¯è¿™æ ·æ‰§è¡Œçš„è¯ Controller å±‚æ—¢è¦æ¥æ”¶å‰ç«¯æ•°æ® åˆè¦ å¤„ç†æ•°æ® è¿˜è¦å¯¹æ¥æ•°æ®åº“ï¼Œæ‰€ä»¥å°†â€œå¤„ç†æ•°æ®â€è¿™ä¸€éƒ¨åˆ†å•ç‹¬åˆ’åˆ†å‡ºå»ï¼Œä½œä¸º Service å±‚ï¼Œå°† â€œ å¯¹æ¥æ•°æ®åº“ â€ è¿™ä¸€éƒ¨åˆ† åˆ†ç¦»å‡ºå»ï¼Œæ‰€è°“,Mapperå±‚ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„ Dao å±‚ã€‚</p></blockquote><p>ç”±äºå‰ç«¯ç»™å‡ºçš„è®¿é—®ä¸å¯èƒ½ä¸€æ¬¡åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬å®ä¾‹åŒ–çš„å¯¹è±¡ä¸èƒ½æ˜¯å•ä¾‹çš„ï¼Œå¦åˆ™ABCDåŒæ—¶ç™»é™†çš„è¯ï¼Œç™»å½•çš„å¯èƒ½æ˜¯åŒä¸€ä¸ªç”¨æˆ·ã€‚<br><br><br>ä¸ºäº†è®©ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ Application.xml ä¸­å†™å…¥ Bean å¯¹è±¡ï¼Œç›´æ¥å®ä¾‹åŒ–ä¾¿å¯ä»¥ åˆ›å»º / å¼•ç”¨ ä¸€ä¸ªå¯¹è±¡ï¼›<br><br><br>ç”±äºæˆ‘ä»¬åœ¨ç¼–ç¨‹çš„æ—¶å€™å¹¿æ³›ä½¿ç”¨æ³¨è§£ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†é€ä¸ªæ³¨è§£ç»†åˆ†,å¸¸ç”¨æ³¨è§£å¦‚ä¸‹ï¼š</p><br><table><thead><tr><th>æ³¨è§£åç§°</th><th>ç”¨é€”</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>@Controller</td><td>Controllerå±‚</td><td>ç”¨äºæ ‡æ³¨å½“å‰æ˜¯Controllerå±‚</td></tr><tr><td>@Service</td><td>Serviceå±‚</td><td>ç”¨äºæ ‡æ³¨å½“å‰æ˜¯Serviceå±‚</td></tr><tr><td>@Mapper</td><td>Mapperå±‚</td><td>ç”¨äºæ ‡æ³¨å½“å‰æ˜¯Mapperå±‚</td></tr><tr><td>@autowire</td><td>ä»»æ„å±‚</td><td>ç”¨äºè‡ªåŠ¨è£…é…ï¼Œä¸‹æ–¹ä¸¾ä¾‹å­</td></tr><tr><td>@value</td><td>æµ‹è¯•æ—¶ç»™åˆå€¼</td><td></td></tr><tr><td>@Data</td><td>get / set  / toString æ–¹æ³•çš„æ±‡æ€»</td><td>åœ¨å®ä½“ç±»çš„æœ€ä¸Šæ–¹å†™ä¸Šè¿™ä¸ªæ–¹æ³•åˆ™ä¸ç”¨å†å†™set / get æ–¹æ³•ï¼Œå½“ç„¶ä½ å¯ä»¥å¯¹æ–¹æ³•è¿›è¡Œé‡å†™</td></tr><tr><td>@Override</td><td>æ–¹æ³•é‡å†™çš„æ—¶å€™æ ‡æ³¨åœ¨ä¸Šé¢ï¼Œå¯ä»¥è‡ªåŠ¨æ£€é”™ï¼›</td><td></td></tr></tbody></table><ul><li>autowire è¯´æ˜</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//åœ¨Mapperå±‚åˆ›å»ºä¸€ä¸ª SonService.java çš„æ¥å£ï¼Œç”¨äºè¿æ¥æ•°æ®åº“è¯»å– Son è¿™ä¸ªå®ä½“</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SonController</span><span class="token punctuation">&#123;</span> <span class="token comment">// Son çš„ Controller å±‚</span><span class="token annotation punctuation">@autowire</span> <span class="token class-name">Sonservice</span> sonService <span class="token comment">// è¿™æ ·å°±åˆ›å»ºäº†ä¸€ä¸ª SonService çš„æ¥å£</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>son<span class="token punctuation">></span></span> sonList <span class="token operator">=</span> sonService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿™æ ·å°±èƒ½è·å– son æ•°æ®åº“ä¸­æ‰€æœ‰çš„æ•°æ®</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Springboot</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Springboot</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€ä¿®ç†ã€‘ç”µè„‘ç»´ä¿® æ˜¾å¡é”™è¯¯ï¼ˆé”™è¯¯ä»£ç ï¼š43ï¼‰</title>
    <link href="/2021/01/05/%E3%80%90%E4%BF%AE%E7%90%86%E3%80%91%E7%94%B5%E8%84%91%E7%BB%B4%E4%BF%AE-%E6%98%BE%E5%8D%A1%E9%94%99%E8%AF%AF%EF%BC%88%E9%94%99%E8%AF%AF%E4%BB%A3%E7%A0%81%EF%BC%9A43%EF%BC%89/"/>
    <url>/2021/01/05/%E3%80%90%E4%BF%AE%E7%90%86%E3%80%91%E7%94%B5%E8%84%91%E7%BB%B4%E4%BF%AE-%E6%98%BE%E5%8D%A1%E9%94%99%E8%AF%AF%EF%BC%88%E9%94%99%E8%AF%AF%E4%BB%A3%E7%A0%81%EF%BC%9A43%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="ç”µè„‘ç»´ä¿®-æ˜¾å¡é”™è¯¯ï¼ˆé”™è¯¯ä»£ç ï¼š43ï¼‰"><a href="#ç”µè„‘ç»´ä¿®-æ˜¾å¡é”™è¯¯ï¼ˆé”™è¯¯ä»£ç ï¼š43ï¼‰" class="headerlink" title="ç”µè„‘ç»´ä¿® æ˜¾å¡é”™è¯¯ï¼ˆé”™è¯¯ä»£ç ï¼š43ï¼‰"></a>ç”µè„‘ç»´ä¿® æ˜¾å¡é”™è¯¯ï¼ˆé”™è¯¯ä»£ç ï¼š43ï¼‰</h3><hr><p><br><br></p><h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><hr><p>ä»Šæ™šä½¿ç”¨æœ‹å‹çš„ç”µè„‘çš„æ—¶å€™ï¼Œé‡å‡»äº†ä¸€ä¸‹å›è½¦é”®ï¼Œå¯¼è‡´è“å±ï¼Œå¼•èµ·çš„åŸå› åœ¨äºï¼šåœ¨ä¹‹å‰æ‹†æœºçš„æ—¶å€™ï¼Œè¯¥æœ‹å‹æ’•æ‰äº†é”®ç›˜ä¸ä¸»æ¿ä¹‹é—´çš„ä¿æŠ¤è†œï¼Œå¯¼è‡´é”®ç›˜ç›´æ¥æ’å‡»ä¸»æ¿åŸä»¶ï¼Œé€ æˆçŸ­è·¯æˆ–ä¸»æ¿åŸä»¶æ¾åŠ¨ã€‚</p><ul><li>æ–¹æ¡ˆä¸€ï¼šå¸è½½é©±åŠ¨-é‡è£…é©±åŠ¨ï¼ˆ<font color=red>å¤±è´¥</font>ï¼‰</li><li>æ–¹æ¡ˆäºŒï¼šé‡è£…ç³»ç»Ÿ-ä»é›¶å¼€å§‹ï¼ˆ<font color=red>å¤±è´¥</font>ï¼‰</li><li>æ–¹æ¡ˆä¸‰ï¼šæ‹†æœºæ£€æŸ¥ï¼ˆ<font color=7baf23 >æˆåŠŸ</font>ï¼‰</li></ul><br><br><h4 id="æ‹†æœºæè¿°"><a href="#æ‹†æœºæè¿°" class="headerlink" title="æ‹†æœºæè¿°"></a>æ‹†æœºæè¿°</h4><p><font color=Darkgray size=2>é‡è£…ç³»ç»Ÿè¿˜æ²¡æœ‰è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘æ€€ç–‘æ˜¯é™ç”µæˆ–è€…å‡»ç©¿çš„é—®é¢˜ï¼Œæ‹†æœºä¹‹åå‘ç°é”®ç›˜èƒŒé¢æœ‰ä¸ªæ’å‡»å‡ºç°çš„å°å‡¹æ§½ï¼›</font></p><hr><ul><li>æ‹†åç›–ã€å›ºæ€ã€å¤©çº¿ã€ä¸»æ¿â€¦â€¦</li><li>æ£€æŸ¥ä¸»æ¿ï¼Œåœ¨ä¸ <code>å›è½¦é”®</code> æ¥å£¤çš„åœ°æ–¹ï¼Œæœ‰ä¸ªå…ƒä»¶æœ€ä¸Šæ–¹çš„ç„Šé”¡æœ‰è½»å¾®ç£¨æŸï¼Œé”®ç›˜èƒŒé¢æœ‰æ’å‡»å½¢æˆçš„å°å‡¹æ§½ï¼›</li><li>é‡Šæ”¾é™ç”µï¼ˆæ‹”æ‰åŒ…æ‹¬<code>bios</code>ç”µå­åœ¨å†…çš„æ‰€æœ‰çš„ç”µæºï¼›ï¼‰</li><li>ç”±äºå¸¸å¹´æ²¡æœ‰æ‹†æœºï¼Œæ•£çƒ­æ¿ä¸ä¸»æ¿ç²˜åˆåœ¨ä¸€èµ·ï¼Œæ‰€ä»¥ GPU ä¸Šçš„æ•£çƒ­ç®¡æ²¡èƒ½æ‹†ä¸‹æ¥ï¼›</li><li>é¡ºä¾¿æ¸…äº†ä¸ªç°ï¼›</li><li>ç»„è£…ç”µè„‘ï¼Œå¹¶ä¸”å¼€å§‹é‡è£…ç³»ç»Ÿï¼›</li><li>ä½¿ç”¨é©±åŠ¨ç²¾çµå®‰è£… N å¡ é©±åŠ¨ï¼›</li><li>å®‰è£…æˆåŠŸï¼›</li></ul><br><br><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><hr><ul><li>å¹¶æ²¡æœ‰å®Œå…¨çš„æ‰¾å‡ºæ•…éšœåœ¨å“ªå„¿ï¼Œåªèƒ½è¯´æ˜¯å› ä¸ºç”µè„‘çš„ä¸æ­£å½“ä½¿ç”¨å¯¼è‡´çš„é—®é¢˜ï¼Œåœ¨è¿™é‡Œå»ºè®®é”®ç›˜è½»è½»æ•²å‡»ï¼Œä¸”ä¸è¦éšä¾¿ä»ç”µè„‘é‡Œæ‹¿æ‰ä¸€äº› <font color=#f890>çœ‹ä¼¼æ— ç”¨</font> çš„ä¸œè¥¿ï¼›</li><li>ç”µè„‘å‡ºç°é—®é¢˜ï¼Œæœ‰ä¸ªå£è¯€æ˜¯ï¼šé‡è£…é©±åŠ¨è§£å†³ 50% çš„é—®é¢˜ï¼Œé‡è£…ç³»ç»Ÿè§£å†³ 99% çš„é—®é¢˜ï¼Œæ¢ç”µè„‘è§£å†³ 100 %çš„é—®é¢˜ï¼Œä½†æ˜¯é‡è£…ç³»ç»Ÿä¸æ¢ç”µè„‘ä¹‹é—´è¿˜æœ‰ä¸€ä¸ªå°å±éšœï¼Œå°±æ˜¯ç»™ä¸»æ¿æ”¾ç”µï¼Œè§£å†³ 99.99% çš„é—®é¢˜ï¼›</li><li>å¤§éƒ¨åˆ†é—®é¢˜ï¼Œæ¯”å¦‚æ— æ•…è“å±ã€é»‘å±ã€æ­»æœºã€æ— æ³•å¼€æœº ç­‰é—®é¢˜ï¼Œéƒ½æœ‰å¯èƒ½æ˜¯ä¸»æ¿é™ç”µé€ æˆçš„ï¼Œæ‰€ä»¥æ¢ç”µè„‘ä¹‹å‰ï¼Œä¸€å®šè¦è¯•ä¸€ä¸‹ç»™ä¸»æ¿æ”¾ç”µï¼›<br><br><br></li></ul><h4 id="æ”¾å¼ ä¸»æ¿çš„å›¾"><a href="#æ”¾å¼ ä¸»æ¿çš„å›¾" class="headerlink" title="æ”¾å¼ ä¸»æ¿çš„å›¾"></a>æ”¾å¼ ä¸»æ¿çš„å›¾</h4><hr><br><p><img src="https://img2020.cnblogs.com/blog/2159067/202101/2159067-20210105120230675-2074013727.png"></p><p><img src="https://img2020.cnblogs.com/blog/2159067/202101/2159067-20210105120308191-1907092098.png"></p>]]></content>
    
    
    <categories>
      
      <category>ä¿®ç†</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä¿®ç†</tag>
      
      <tag>Windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Linuxã€‘ ç¼–ç¨‹ç¯å¢ƒæ­å»º JDKã€Node.jsã€Npmã€Yarnã€Redisã€Mavençš„å®‰è£…ä¸æ­å»º</title>
    <link href="/2020/11/21/%E3%80%90Linux%E3%80%91-%E7%BC%96%E7%A8%8B%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-JDK%E3%80%81Node.js%E3%80%81Npm%E3%80%81Yarn%E3%80%81Redis%E3%80%81Maven%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E6%90%AD%E5%BB%BA/"/>
    <url>/2020/11/21/%E3%80%90Linux%E3%80%91-%E7%BC%96%E7%A8%8B%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-JDK%E3%80%81Node.js%E3%80%81Npm%E3%80%81Yarn%E3%80%81Redis%E3%80%81Maven%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h3 id="Linux-ç¼–ç¨‹ç¯å¢ƒæ­å»º-JDKã€Node-jsã€Npmã€Yarnã€Redisã€Mavençš„å®‰è£…ä¸æ­å»º"><a href="#Linux-ç¼–ç¨‹ç¯å¢ƒæ­å»º-JDKã€Node-jsã€Npmã€Yarnã€Redisã€Mavençš„å®‰è£…ä¸æ­å»º" class="headerlink" title="Linux ç¼–ç¨‹ç¯å¢ƒæ­å»º JDKã€Node.jsã€Npmã€Yarnã€Redisã€Mavençš„å®‰è£…ä¸æ­å»º"></a>Linux ç¼–ç¨‹ç¯å¢ƒæ­å»º JDKã€Node.jsã€Npmã€Yarnã€Redisã€Mavençš„å®‰è£…ä¸æ­å»º</h3><p><br><br></p><h3 id="JDK-çš„æ­å»ºï¼š"><a href="#JDK-çš„æ­å»ºï¼š" class="headerlink" title="JDK çš„æ­å»ºï¼š"></a>JDK çš„æ­å»ºï¼š</h3><hr><p><font color=DarkGray size=2><font color=red>æ³¨ï¼š</font>åœ¨è¿›è¡Œæ‰€æœ‰çš„æ­¥éª¤ä¹‹å‰ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œè¯·åœ¨ç»ˆç«¯è¾“å…¥<code>sudo su</code>è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼;</font>ã€æ³¨ï¼šå³ä¾§ç›®å½•å¯ä»¥è·³è½¬æŸ¥çœ‹æ–‡ç« ã€‘</p><hr><p><br><br></p><h4 id="ä¸‹è½½èµ„æºï¼š"><a href="#ä¸‹è½½èµ„æºï¼š" class="headerlink" title="ä¸‹è½½èµ„æºï¼š"></a>ä¸‹è½½èµ„æºï¼š</h4><hr><ul><li>ç‚¹å‡»è¿›å…¥<a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html"><font color=#00BFFF>Oracleå®˜ç½‘</font></a>ä¸‹è½½ JDKï¼Œç‰ˆæœ¬è¦æ±‚å¦‚ä¸‹å¦‚æ‰€ç¤ºï¼š</li></ul><p><img src="https://img-blog.csdnimg.cn/2020112109190774.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><br></p><br><h4 id="è§£å‹ç¼©èµ„æºï¼š"><a href="#è§£å‹ç¼©èµ„æºï¼š" class="headerlink" title="è§£å‹ç¼©èµ„æºï¼š"></a>è§£å‹ç¼©èµ„æºï¼š</h4><hr><ul><li>æ‰“å¼€ç»ˆç«¯ï¼Œä½¿ç”¨ <code>cd Downloads</code>å‘½ä»¤ï¼Œè¿›å…¥<code>ä¸‹è½½</code>æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œå¯¹ä¸‹è½½å¥½çš„å‹ç¼©æ–‡ä»¶å¤¹è¿›è¡Œè§£å‹ç¼©ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</li></ul><blockquote><p>tar -zxvf jdk-<font color=7baf23>(æŒ‰ <code>tab</code>é”®è¡¥å…¨) </font> -C /usr/local/salt/</p></blockquote><p><font size=2 color=DarkGray>    è¡¥å……ï¼šè¿™ä¸€æ­¥ä¹Ÿå¯ä»¥æ‹†åˆ†æˆ<code>tar -zxvf jdk</code>å‹ç¼©åŒ…ï¼Œç„¶åå†<code>mv</code> è§£å‹ç¼©æ–‡ä»¶å¤¹ åˆ°<code>/usr/local/salt</code>æ–‡ä»¶å¤¹ ï¼›</font></p><ul><li>è§£é‡Šï¼šè¿™æ¡å‘½ä»¤çš„æ„æ€æ˜¯å°†<code>jdk-8u271-linux-x64.tar.gz</code>è¿™ä¸ªå‹ç¼©æ–‡ä»¶è§£å‹åˆ° <code>/usr/local/salt</code> ç›®å½•ä¸‹ï¼Œä½†å…¶å®ç§»åŠ¨è·¯å¾„æ— æ‰€è°“ï¼Œæœ€å¥½æ˜¯<code>/usr/local</code> ï¼Œè¿™æ ·å¯ä»¥ä¸æˆ‘çš„å®‰è£…è¿›åº¦ä¿æŒä¸€è‡´ï¼Œ<code>salt</code>ï¼ˆç›ï¼‰æ˜¯æˆ‘è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å­˜æ”¾ç€æˆ‘ç¼–ç¨‹éœ€è¦çš„å¤§éƒ¨åˆ†ä¸œè¥¿ï¼Œæ¯”å¦‚ redisã€node.jsç­‰ã€‚ </li><li>è¿›å…¥è§£å‹ç¼©æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸‹ï¼Œæˆ‘çš„æ˜¯ <code>/usr/local/salt/</code>ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">mv jdk<span class="token operator">-</span><span class="token number">8</span>u271<span class="token operator">-</span>linux<span class="token operator">-</span>x64 jdk<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><font color=DarkGray size=2>è¿™æ¡å‘½ä»¤ç®€å•ç†è§£æˆ<code>é‡å‘½å</code>ï¼Œå°†å†—é•¿çš„æ–‡ä»¶å¤¹é‡å‘½åæˆ<code>jdk</code>ï¼Œæ–¹ä¾¿ä»¥åä½¿ç”¨ï¼Œæ¯•ç«Ÿæ¯æ¬¡ç”¨åˆ°çš„æ—¶å€™éƒ½è¦è¾“å…¥å¤§é•¿ä¸²å­—ç¬¦ä¸å¤ªæ–¹ä¾¿å§ã€‚</font><br><img src="https://img-blog.csdnimg.cn/20201121093445604.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br></p><h4 id="æ·»åŠ ç¯å¢ƒå˜é‡ï¼š"><a href="#æ·»åŠ ç¯å¢ƒå˜é‡ï¼š" class="headerlink" title="æ·»åŠ ç¯å¢ƒå˜é‡ï¼š"></a>æ·»åŠ ç¯å¢ƒå˜é‡ï¼š</h4><hr><ul><li>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œè¿›å…¥<code>profile</code>æ–‡ä»¶ï¼Œç¼–è¾‘ç¯å¢ƒå˜é‡ï¼Œå¯¹ vim ç¼–è¾‘å™¨ä¸æ˜¯å¾ˆç†Ÿç»ƒçš„å¯ä»¥<a href="https://www.cnblogs.com/C-Noah/p/14223399.html">ã€ç‚¹å‡»æ­¤å¤„ã€‘</a>è¿›æˆ‘åšå®¢æŸ¥çœ‹ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">vim <span class="token operator">/</span>etc<span class="token operator">/</span>profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>è¿›å…¥ä¹‹åï¼Œè½»ç‚¹ä¸€ä¸‹é”®ç›˜ä¸Šçš„ <code>i</code> é”®ï¼Œè¿›å…¥ &gt; ç¼–è¾‘æ¨¡å¼ &lt; ;</li><li>å°†å…‰æ ‡ç§»åŠ¨åˆ°æ–‡æ¡£çš„ <font color=#f890>æœ€æœ«å°¾</font>ï¼Œç›´æ¥è¾“å…¥ <font color=#f890>æˆ–</font> å¤åˆ¶ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼ˆLinuxä¸‹çš„ç²˜è´´å¿«æ·é”®æ˜¯ï¼š <code>ctrl</code> + <code>shift</code> + <code>V</code> ï¼‰å†…å®¹å¦‚ä¸‹ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">#JAVA <span class="token number">1.8</span> <span class="token class-name">HOME</span>JAVA_HOME<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>salt<span class="token operator">/</span>jdkCLASSPATH<span class="token operator">=</span><span class="token punctuation">.</span><span class="token punctuation">:</span>$JAVA_HOME<span class="token operator">/</span>bin<span class="token punctuation">.</span>tools<span class="token punctuation">.</span>jarPATH<span class="token operator">=</span>$JAVA_HOME<span class="token operator">/</span>bin<span class="token operator">:</span>$PATHexport JAVA_HOME CLASSPATH PATH<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=7baf23 size=2>å…¶ä¸­ï¼Œç¬¬ä¸€è¡Œæ˜¯æ³¨è§£ï¼Œç¬¬äºŒè¡Œæ˜¯åˆšåˆšåœ¨<code>usr/local/</code>ä¸‹çš„å‹ç¼©åŒ…çš„æ ¹ç›®å½•ï¼Œæˆ‘è¿™é‡Œå¤šäº†ä¸€ä¸ª<code>salt</code>æ–‡ä»¶å¤¹ï¼Œå› ä¸ºæˆ‘æŠŠ<code>jdk</code>æ–‡ä»¶å¤¹æ”¾åœ¨äº†<code>salt</code>ä¸‹ï¼Œä½ çš„è·¯å¾„æ ¹æ®ä½ è‡ªå·±çš„æ¥ã€‚å‰©ä¸‹ä¸‰è¡Œä¸ç”¨å˜ï¼›</font></p><hr><ul><li>ç²˜è´´å®Œæˆä¹‹åï¼Œç‚¹å‡»<code>Esc</code>é”®ï¼Œè¿›å…¥åº•è¡Œæ¨¡å¼ï¼ˆå¦‚æœä½ ä¸çŸ¥é“å¹¶ä¸”æƒ³çŸ¥é“ä»€ä¹ˆæ˜¯â€œåº•è¡Œæ¨¡å¼â€çš„è¯ï¼Œå¯ä»¥<a href="https://www.cnblogs.com/C-Noah/p/14223399.html">ã€ç‚¹å‡»æ­¤å¤„ã€‘</a>è¿›æˆ‘åšå®¢æŸ¥çœ‹ï¼‰,è¾“å…¥<code>ï¼šwq</code>ï¼ˆä¿å­˜å¹¶é€€å‡ºï¼‰ï¼Œç‚¹å‡»å›è½¦ï¼›</li></ul><h4 id="æ£€æŸ¥"><a href="#æ£€æŸ¥" class="headerlink" title="æ£€æŸ¥"></a>æ£€æŸ¥</h4><hr><ul><li>åœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>java -version</code> æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¦‚æœå‡ºç°äº†ç‰ˆæœ¬ä¿¡æ¯åˆ™æˆåŠŸï¼Œæ¯”å¦‚æˆ‘çš„æœºå­ï¼Œç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼š<br><img src="https://img-blog.csdnimg.cn/20201121094908963.png" alt="æè¿°ä¿¡æ¯"><br>å°±å®‰è£…æˆåŠŸäº†ï½<br></li><li><font color=#f123>å¦‚æœæ²¡æœ‰</font>ï¼Œé‚£å°±æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">source <span class="token operator">/</span>etc<span class="token operator">/</span>profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>ç„¶åå†æ‰§è¡Œ<code>java -version</code>å°±ä¼šå‡ºç°ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰çš„è¯ï¼Œè¯·æ£€æŸ¥ä½ çš„ç¯å¢ƒå˜é‡è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œå¹¶åœ¨æ›´æ”¹è·¯å¾„åå°† &gt; é…ç½®ç¯å¢ƒå˜é‡ &lt; è¿™ä¸€æ­¥åŠä¸‹é¢çš„æ‰€æœ‰æ­¥éª¤æ‰§è¡Œä¸€éï¼›</li></ul><p><br><br></p><h3 id="Nodejs-npm-yarn-çš„å®‰è£…-ä¸-æ­å»ºï¼š"><a href="#Nodejs-npm-yarn-çš„å®‰è£…-ä¸-æ­å»ºï¼š" class="headerlink" title="Nodejs / npm /yarn çš„å®‰è£… ä¸ æ­å»ºï¼š"></a>Nodejs / npm /yarn çš„å®‰è£… ä¸ æ­å»ºï¼š</h3><hr><p><font color=DarkGray size=2><font color=red>æ³¨ï¼š</font>åœ¨è¿›è¡Œæ‰€æœ‰çš„æ­¥éª¤ä¹‹å‰ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œè¯·åœ¨ç»ˆç«¯è¾“å…¥<code>sudo su</code>è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼;</font></p><hr><p><br><br></p><h4 id="ä¸‹è½½èµ„æºï¼š-1"><a href="#ä¸‹è½½èµ„æºï¼š-1" class="headerlink" title="ä¸‹è½½èµ„æºï¼š"></a>ä¸‹è½½èµ„æºï¼š</h4><ul><li>è¿›å…¥<a href="http://nodejs.cn/download/"><font color=#00BFFF>NodeJså®˜ç½‘</font></a>ä¸‹è½½æ–‡ä»¶ï¼Œç‰ˆæœ¬è¦æ±‚å¦‚ä¸‹å›¾æ‰€ç¤º:<br><img src="https://img2020.cnblogs.com/blog/2159067/202101/2159067-20210105024729755-1017970495.png"></li></ul><br><h4 id="æ“ä½œæ–‡ä»¶å¤¹ï¼š"><a href="#æ“ä½œæ–‡ä»¶å¤¹ï¼š" class="headerlink" title="æ“ä½œæ–‡ä»¶å¤¹ï¼š"></a>æ“ä½œæ–‡ä»¶å¤¹ï¼š</h4><hr><ul><li>æ‰“å¼€ ç»ˆç«¯ ï¼Œä½¿ç”¨ <code>cd Downloads</code> è¿›å…¥<code>ä¸‹è½½</code>æ–‡ä»¶å¤¹ï½</li></ul><br><ul><li>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œå°†å‹ç¼©æ–‡ä»¶è§£å‹ç¼©è‡³<code>/usr/local/salt</code>æ–‡ä»¶å¤¹ä¸‹ï¼š</li></ul><blockquote><p>tar xf node-v14.15.0-linux-x64.tar.xz -C /usr/local/salt/</p></blockquote><div class="code-wrapper"><pre><code>&lt;font color=DarkGray size=2&gt;&lt;font color=#f890 &gt;æ³¨ï¼š&lt;/font&gt;`salt`(ç›)æ˜¯æˆ‘è‡ªå·±åˆ›å»ºçš„ç”¨æ¥å­˜å‚¨ç¼–ç¨‹ç¯å¢ƒçš„æ–‡ä»¶å¤¹ï¼Œå¦‚æœä½ å……åˆ†äº†è§£å‘½ä»¤è¡Œä»¥åŠæ–‡ä»¶å¤¹ç»“æ„ï¼Œå¯ä»¥å»æ‰saltæ–‡ä»¶å¤¹ï¼Œå¦åˆ™ï¼Œå»ºè®®è·Ÿéšæ­¥éª¤æ‰§è¡Œï¼›&lt;/font&gt;</code></pre></div><br><ul><li>åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨<code>cd /usr/local/salt</code>è¿›å…¥<code>/usr/local/salt</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">mv node<span class="token operator">-</span>v14<span class="token punctuation">.</span><span class="token number">15.0</span><span class="token operator">-</span>linux<span class="token operator">-</span>x64 nodejs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><font color=DarkGray size=2>    æ­¤å‘½ä»¤å¯ä»¥ç®€å•ç†è§£æˆé‡å‘½åï¼Œç›®çš„æ˜¯å°†<font color=#f890 size=2>å†—é•¿</font>çš„æ–‡ä»¶å¤¹åç§°<font color=#f890 size=2>é‡å‘½å</font>æˆ<code>nodejs</code></font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">ls <span class="token comment">//æ­¤å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å‡ºç°äº†nodejsæ–‡ä»¶å¤¹</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><br><ul><li>æ‰§è¡Œ<code>cd nodejs</code>å‘½ä»¤è¿›å…¥nodejsæ–‡ä»¶å¤¹ä¸‹ï¼ˆæ¥ä¸‹æ¥ä¸€æ­¥è®¸å¤šæ•™ç¨‹å»ºè®®å¤åˆ¶ç²˜è´´ï¼Œä½†æ˜¯è¿™é‡Œå»ºè®®ç›´æ¥ä½¿ç”¨è½¯é“¾æ¥ï¼Œæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¹Ÿä¸ä¼šç ´åæ–‡ä»¶çš„ç»“æ„ï¼‰ã€‚</li></ul><br><ul><li>ä¾æ¬¡æ‰§è¡Œå¦‚ä¸‹ä¸¤æ¡å‘½ä»¤ï¼Œåˆ›å»ºè½¯è¿æ¥ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">ln <span class="token operator">-</span>s <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>salt<span class="token operator">/</span>nodejs<span class="token operator">/</span>bin<span class="token operator">/</span>node <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>binln <span class="token operator">-</span>s <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>salt<span class="token operator">/</span>nodejs<span class="token operator">/</span>bin<span class="token operator">/</span>npm <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p><font color=DarkGray size=2>è½¯è¿æ¥ï¼šåŠŸèƒ½ç±»ä¼¼äº<code>Windows</code>çš„æ¡Œé¢å¿«æ·æ–¹å¼ï¼Œå°†å‘½ä»¤æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œå¯ä»¥å…¨å±€æ‰§è¡Œï¼ˆå³å¯ä»¥åœ¨ä»»æ„ä½ç½®ä½¿ç”¨node ä»¥åŠ npmï¼‰</font><br><br></p><h4 id="æ£€æŸ¥-1"><a href="#æ£€æŸ¥-1" class="headerlink" title="æ£€æŸ¥"></a>æ£€æŸ¥</h4><hr><ul><li>è¿ç»­æ‰§è¡Œä¸¤æ¬¡<code>cd ..</code> å›é€€åˆ°<code>local</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œä½¿ç”¨<code>cd bin</code>è¿›å…¥<code>local</code>ä¸‹çš„<code>bin</code>ç›®å½•ï¼Œä½¿ç”¨<code>ls</code>å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å­˜åœ¨<code>npm</code> ä¸ <code>node</code>æ–‡ä»¶ï¼Œå¦‚æœæç¤ºå¦‚ä¸‹ï¼Œåˆ™æˆåŠŸï¼š</li></ul><p><img src="https://img-blog.csdnimg.cn/20201121104734809.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><br></p><ul><li>åœ¨ä»»æ„ä½ç½®ï¼Œæ‰§è¡Œ <code>node -v</code> æˆ– <code>npm -v</code>ï¼Œå¦‚æœå‡ºç°ç‰ˆæœ¬ä¿¡æ¯ï¼Œåˆ™å®‰è£…æˆåŠŸï¼Œå¦‚ä¸‹ï¼š</li></ul><p><img src="https://img-blog.csdnimg.cn/20201121104834339.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><br></p><h4 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h4><hr><ul><li><p>è¿›å¦‚<code>salt</code>æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ<code>rm -rf nodejs</code>å‘½ä»¤åˆ é™¤<code>nodejs</code> æ–‡ä»¶å¤¹ï¼ˆ<code>-rf</code>  ç”¨æ¥åˆ é™¤æ–‡ä»¶å¤¹ï¼Œä¸å¸¦ <code>-rf</code> åªèƒ½åˆ é™¤æ–‡ä»¶æˆ–å‹ç¼©æ–‡ä»¶ç­‰ï¼‰ï¼š</p></li><li><p>è¿›å…¥<code>/usr/local/bin</code>æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ é™¤<code>npm</code> ä¸ <code>node</code></p></li></ul><blockquote><p>rm node<br>rm npm</p></blockquote><ul><li>å¸è½½å®Œæˆ</li></ul><br><br><h3 id="å®‰è£…-cnpm"><a href="#å®‰è£…-cnpm" class="headerlink" title="å®‰è£… cnpm"></a>å®‰è£… cnpm</h3><hr><ul><li>åœ¨å®‰è£…å®Œ Nodejs åï¼Œæ‰§è¡Œå‘½ä»¤ï¼ˆä¸‹è½½èµ„æºå‘½ä»¤ï¼‰ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">npm install <span class="token operator">-</span>g cnpm <span class="token operator">--</span>registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>å½“å‡ºç°å¦‚ä¸‹æç¤ºçš„æ—¶å€™ï¼Œä¸‹è½½æˆåŠŸï¼š</li></ul><p><img src="https://img-blog.csdnimg.cn/2020112120350955.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>     <font color=#f123 size=2>å¦‚æœæ²¡æœ‰ä¸Šè¿°æç¤ºï¼Œæˆ–æç¤º<code>Error</code>ï¼Œåˆ™ä½¿ç”¨<code>Ctrl</code> + <code>C</code>é€€å‡ºï¼Œç„¶åå¤šæ‰§è¡Œå‡ æ¬¡ï¼ˆåŸå› ï¼šnpmæ˜¯ä»å›½å¤–ä¸‹èµ„æºï¼Œè¾ƒæ…¢ï¼Œæ˜“å‡ºé”™ï¼›ï¼‰ã€‚</font></p><ul><li>ä¸º cnpm åˆ›å»ºè½¯è¿æ¥ï¼š </li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">ln <span class="token operator">-</span>s <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>salt<span class="token operator">/</span>nodejs<span class="token operator">/</span>bin<span class="token operator">/</span>cnpm <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>bin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><font color=Darkgray size=2>æ³¨æ„ï¼šè¾ƒå·¦ä¾§çš„ç¬¬ä¸€ä¸ªåœ°å€ä¸­çš„<code>salt</code>ï¼ˆç›ï¼‰æ–‡ä»¶å¤¹ï¼Œæ˜¯æˆ‘è‡ªè¡Œåˆ›å»ºï¼Œç”¨æ¥å­˜å‚¨å˜æˆç¯å¢ƒçš„ï¼Œä½ ä»¬å¯ä»¥è‡ªè¡Œå–èˆã€‚</font></p><ul><li>åœ¨ç»ˆç«¯ä¸­ï¼ˆä»»æ„ä½ç½®ï¼‰è¾“å…¥å‘½ä»¤ï¼š<code>cnpm -version</code>ï¼Œè‹¥å‡ºç°ä»¥ä¸‹å†…å®¹ï¼Œåˆ™å®‰è£…æˆåŠŸï¼š</li></ul><p><img src="https://img-blog.csdnimg.cn/20201121204026530.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ul><li><p>è‹¥æ˜¯<code>bashï¼šcnpmï¼šcommand not found</code> æˆ– <code>bashï¼šcnpm ï¼šæœªæ‰¾åˆ°å‘½ä»¤</code>ï¼Œåˆ™åˆ é™¤<code>/usr/local/bin</code>ç›®å½•ä¸‹çš„<code>cnpm</code>ï¼Œé‡æ–°åˆ›å»ºä¸€æ¬¡é“¾æ¥ï¼Œå¹¶æ£€æŸ¥è½¯è¿æ¥å‘½ä»¤ä¸­æ˜¯å¦å°‘äº†<code>-s</code>ã€‚<br><img src="https://img-blog.csdnimg.cn/20201121204242450.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><font color=Darkgray size=2>ä¸Šå›¾å°±æ˜¯å®‰è£…é”™è¯¯çš„æç¤ºï¼Œå› ä¸ºæˆ‘åˆ›å»ºè½¯è¿æ¥çš„æ—¶å€™å°‘äº†<code>-s</code>ï¼Œæ‰§è¡Œåˆ é™¤å‘½ä»¤<code>rm /usr/local/bin/cnpm</code>å°±å¯ä»¥äº†ï¼›</font></p></li></ul><p>è¡¥å…… ï¼š ä¸€é”®å®‰è£… - git ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">sudo apt<span class="token operator">-</span>get install git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><br><br></p><h3 id="å®‰è£…Redis"><a href="#å®‰è£…Redis" class="headerlink" title="å®‰è£…Redis"></a>å®‰è£…Redis</h3><hr><p><font color=DarkGray size=2>å®‰è£…å‰å»ºè®®æ‰§è¡Œå‘½ä»¤<code>sudo su</code>è¿›å…¥è¶…çº§ç®¡ç†å‘˜æ¨¡å¼ï¼›</p><hr><p><br><br></p><h4 id="ä¸‹è½½èµ„æº"><a href="#ä¸‹è½½èµ„æº" class="headerlink" title="ä¸‹è½½èµ„æº"></a>ä¸‹è½½èµ„æº</h4><hr><ul><li>ç‚¹å‡»<a href="https://redis.io/"><font color=#00BFFF>NodeJså®˜ç½‘</font></a>ä¸‹è½½ï¼ˆç‰ˆæœ¬å¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰: <img src="https://img-blog.csdnimg.cn/2020112114110396.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br></li></ul><h4 id="æ“ä½œæ–‡ä»¶å¤¹"><a href="#æ“ä½œæ–‡ä»¶å¤¹" class="headerlink" title="æ“ä½œæ–‡ä»¶å¤¹"></a>æ“ä½œæ–‡ä»¶å¤¹</h4><hr><ul><li>ä½¿ç”¨å‘½ä»¤<code>cd Downloads</code>è¿›å…¥Downloadsæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œä¸‹åˆ—å‘½ä»¤:</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">tar <span class="token operator">-</span>zxvf redis<span class="token operator">-</span><span class="token number">6.0</span><span class="token number">.9</span><span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><font color = DarkGray size=2>ä»¥ä¸Šå‘½ä»¤æ˜¯è§£å‹ç¼© [ - å‹ç¼©æ–‡ä»¶ - ]</font></p><ul><li>æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼Œç§»åŠ¨è§£å‹åçš„æ–‡ä»¶å¤¹:</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">mv redis<span class="token operator">-</span><span class="token number">6.0</span><span class="token number">.9</span> <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>salt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><font color = DarkGray size=2>å°†å‹ç¼©åçš„æ–‡ä»¶å¤¹ç§»åŠ¨åˆ°<code>/usr/local/salt</code>ä¸‹,å…¶ä¸­<code>salt(ç›)</code>æ–‡ä»¶æ˜¯æˆ‘è‡ªå·±åˆ›å»ºçš„ç”¨æ¥å­˜å‚¨ç¯å¢ƒçš„ï¼›</font></p><ul><li>ä½¿ç”¨å‘½ä»¤<code>cd /usr/local/salt</code>è¿›å…¥<code>salt</code>æ–‡ä»¶å¤¹,ä½¿ç”¨å‘½ä»¤:</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">mv redis<span class="token operator">-</span><span class="token number">6.0</span><span class="token number">.9</span> redis<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><font color = DarkGray size=2>ç®€å•ç†è§£æ¥å°±æ˜¯é‡å‘½å,æŠŠ<code>redis-6.0.9 </code> é‡å‘½å æˆ <code>redis</code>ï¼›</font></p><ul><li>ä½¿ç”¨<code>cd redis</code>å‘½ä»¤,è¿›å…¥<code>redis</code>æ–‡ä»¶å¤¹,æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">make <span class="token comment">// ç¼–è¯‘</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>æ‰§è¡Œç»“æŸä¹‹å,<code>redis</code>ç›®å½•ä¸‹å‡ºç°äº†<code>redis.conf</code>æ–‡ä»¶ä¸<code>src</code>æ–‡ä»¶å¤¹ï¼›æ‰§è¡Œ<code>cd src</code> è¿›å…¥<code>src</code>æ–‡ä»¶å¤¹,ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤:</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">make install<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>è¿è¡Œç»“æŸ,å®‰è£…å®Œæˆ(å¦‚ä¸‹å›¾æ‰€ç¤º):<br><img src="https://img-blog.csdnimg.cn/20201121143926753.png#pic_center" alt="å“ˆå“ˆå“ˆ"><br></li></ul><h4 id="å¯-åŠ¨-Redis"><a href="#å¯-åŠ¨-Redis" class="headerlink" title="å¯ åŠ¨ Redis"></a>å¯ åŠ¨ Redis</h4><hr><ul><li>åœ¨ä»»æ„ç›®å½•ä¸‹æ‰§è¡Œï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">redis<span class="token operator">-</span>server <span class="token operator">&amp;</span> redis<span class="token operator">-</span>cli<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h4 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h4><hr><ul><li>ç‚¹å‡»æœç´¢<a href="https://www.baidu.com/"> - rediså‘½ä»¤</a>å¤§å…¨ - <img src="file:///C:\Users\Hsk\AppData\Local\Temp\SGPicFaceTpBq\13092\0FB51D94.png" alt="img"></li></ul><p><br><br></p><h3 id="å®‰è£…-Maven"><a href="#å®‰è£…-Maven" class="headerlink" title="å®‰è£… Maven"></a>å®‰è£… Maven</h3><hr><p><font color=DarkGray size=2>å®‰è£…å‰å»ºè®®æ‰§è¡Œå‘½ä»¤<code>sudo su</code>è¿›å…¥è¶…çº§ç®¡ç†å‘˜æ¨¡å¼ï¼›</font></p><hr><p><br><br></p><h4 id="ä¸‹è½½èµ„æº-1"><a href="#ä¸‹è½½èµ„æº-1" class="headerlink" title="ä¸‹è½½èµ„æº"></a>ä¸‹è½½èµ„æº</h4><hr><ul><li><a href="http://maven.apache.org/download.cgi">ç‚¹å‡»è¿›å…¥å®˜ç½‘ä¸‹è½½Maven</a>ï¼Œç‰ˆæœ¬å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</li></ul><p><img src="https://img-blog.csdnimg.cn/20201122223231667.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ul><li>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œè§£å‹ç¼©æ–‡ä»¶å¤¹è‡³ <code>/usr/local/salt</code>æ–‡ä»¶å¤¹ï¼š</li></ul><blockquote><p>tar -zxvf apache-maven-3.6.3-bin.tar.gz -C /usr/local/salt/</p></blockquote><p><font color=DarkGray size=2>å…¶ä¸­<code>salt</code>æ–‡ä»¶å¤¹æ˜¯æˆ‘è‡ªå·±åˆ›å»ºç”¨äºå­˜å‚¨<code>nodejs</code>ã€<code>mvn</code>ç­‰å·¥å…·çš„æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºä¸å¦è‡ªè¡Œæ–Ÿé…Œï¼›</font><br><br></p><ul><li>æ‰§è¡Œ<code>cd salt</code><font color=#f890 size=2>(å¦‚æœä½ ä¹Ÿæœ‰è¿™ä¸ªæ–‡ä»¶å¤¹çš„è¯)</font>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°† å†—é•¿ çš„æ–‡ä»¶å¤¹åç§°å˜æˆ ç®€æ´ çš„<code>mvn</code>ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">mv apache<span class="token operator">-</span>maven<span class="token operator">-</span><span class="token number">3.6</span><span class="token number">.3</span><span class="token operator">-</span>bin mvn````<span class="token operator">-</span> åœ¨ä»»æ„ä½ç½®æ‰§è¡Œ`vim <span class="token operator">/</span>etc<span class="token operator">/</span>profile`å‘½ä»¤ï¼Œè¿›å…¥`profile`æ–‡ä»¶ä¸­ï¼Œåœ¨æ–‡ä»¶æœ€æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œä¸º`mvn`å¢åŠ ç¯å¢ƒå˜é‡ï¼š```java#MAVEN_HOME mvnMAVEN_HOME<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>salt<span class="token operator">/</span>mvnexport MAVEN_HOMEexport PATH<span class="token operator">=</span>$<span class="token punctuation">&#123;</span>PATH<span class="token punctuation">&#125;</span><span class="token operator">:</span>$<span class="token punctuation">&#123;</span>MAVEN_HOME<span class="token punctuation">&#125;</span><span class="token operator">/</span>bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=DarkGray size=2>å…¶ä¸­ç¬¬äºŒè¡Œæ˜¯ä½ åˆšåˆšå­˜å‚¨<code>mvn</code>æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ï¼Œä¾æƒ…å†µè‡ªè¡Œæ›´æ”¹ã€‚</font></p><ul><li>ä¿å­˜é€€å‡ºï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œè®©ç³»ç»Ÿè¯»å–ä¸€ä¸‹<code>profile</code>æ–‡ä»¶ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">source <span class="token operator">/</span>etc<span class="token operator">/</span>profile<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><br><h4 id="æ£€æŸ¥-2"><a href="#æ£€æŸ¥-2" class="headerlink" title="æ£€æŸ¥"></a>æ£€æŸ¥</h4><hr><ul><li>ç»ˆç«¯ä¸­ï¼ˆä»»æ„ä½ç½®ï¼‰è¾“å…¥<code>mvn -h</code>å‘½ä»¤ï¼Œå¦‚æœæ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼Œåˆ™å®‰è£…æˆåŠŸï¼š</li></ul><p><img src="https://img-blog.csdnimg.cn/20201122224556237.png" alt="Nodejså®˜ç½‘æˆªå›¾"><br><br></p>]]></content>
    
    
    <categories>
      
      <category>ç¯å¢ƒæ­å»º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>ç¯å¢ƒæ­å»º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€è¯•ã€‘HashCat å‚æ•°</title>
    <link href="/2020/11/21/%E3%80%90%E8%AF%95%E3%80%91HashCat-%E5%8F%82%E6%95%B0/"/>
    <url>/2020/11/21/%E3%80%90%E8%AF%95%E3%80%91HashCat-%E5%8F%82%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h3 id="HashCat-å‚æ•°"><a href="#HashCat-å‚æ•°" class="headerlink" title="HashCat å‚æ•°"></a>HashCat å‚æ•°</h3><hr><p>ç›´æ¥è¿è¡Œhashcatï¼ˆåˆ†ä¸º32å’Œ64ä½ç‰ˆæœ¬ï¼‰ä¼šæç¤ºä½¿ç”¨å‚æ•°ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Usage</span><span class="token operator">:</span>hashcat64 <span class="token punctuation">[</span>options<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> hash<span class="token operator">|</span>hashfile<span class="token operator">|</span>hccapxfile <span class="token punctuation">[</span>dictionary<span class="token operator">|</span>mask<span class="token operator">|</span>directory<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ä¹Ÿå³hashcat [é€‰é¡¹] ç ´è§£çš„å“ˆå¸Œå€¼æˆ–hashæ–‡ä»¶ã€hccapxæ–‡ä»¶ [å­—å…¸|æ©ç |ç›®å½•] â€¦</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Hccapxfile</span>å¯¹åº”æ— çº¿åŒ…ï¼Œå…¶å¯¹åº”ç ´è§£å“ˆå¸Œç±»å‹ä¸ºâ€œ<span class="token operator">-</span>m <span class="token number">2500</span> <span class="token operator">=</span> WPA<span class="token operator">/</span>WPA2â€ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><br><br><h4 id="é€‰é¡¹"><a href="#é€‰é¡¹" class="headerlink" title="é€‰é¡¹"></a>é€‰é¡¹</h4><ul><li>æ™®é€š</li></ul><div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">-m, â€”hash-type=NUM           å“ˆå¸Œç±»åˆ«ï¼Œå…¶NUMå€¼å‚è€ƒå…¶å¸®åŠ©ä¿¡æ¯ä¸‹é¢çš„å“ˆå¸Œç±»åˆ«å€¼ï¼Œå…¶å€¼ä¸ºæ•°å­—ã€‚å¦‚æœä¸æŒ‡å®šmå€¼åˆ™é»˜è®¤æŒ‡md5ï¼Œä¾‹å¦‚-m 1800æ˜¯sha512 LinuxåŠ å¯†ã€‚-a, --attack-mode=NUM         æ”»å‡»æ¨¡å¼ï¼Œå…¶å€¼å‚è€ƒåé¢å¯¹å‚æ•°ã€‚â€œ-a 0â€å­—å…¸æ”»å‡»ï¼Œâ€œ-a 1â€ ç»„åˆæ”»å‡»ï¼›â€œ-a 3â€æ©ç æ”»å‡»ã€‚ -V, â€”version                 ç‰ˆæœ¬ä¿¡æ¯     -h, --help                   å¸®åŠ©ä¿¡æ¯ã€‚    --quiet                       å®‰é™çš„æ¨¡å¼, æŠ‘åˆ¶è¾“å‡º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>åŸºå‡†æµ‹è¯•</li></ul> <div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">-</span>b<span class="token punctuation">,</span> <span class="token operator">--</span>benchmark                       æµ‹è¯•è®¡ç®—æœºç ´è§£é€Ÿåº¦å’Œæ˜¾ç¤ºç¡¬ä»¶ç›¸å…³ä¿¡æ¯<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li>æ‚é¡¹</li></ul> <div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">--</span>hex<span class="token operator">-</span>salt                     saltå€¼æ˜¯ç”¨åå…­è¿›åˆ¶ç»™å‡ºçš„<span class="token operator">--</span>hex<span class="token operator">-</span>charset                  è®¾å®šå­—ç¬¦é›†æ˜¯åå…­è¿›åˆ¶ç»™å‡º<span class="token operator">--</span>runtime<span class="token operator">=</span>NUM                  è¿è¡Œæ•°ç§’ï¼ˆNUMå€¼ï¼‰åçš„ä¸­æ­¢ä¼šè¯<span class="token operator">--</span>status                       å¯ç”¨çŠ¶æ€å±å¹•çš„è‡ªåŠ¨æ›´æ–°<span class="token operator">--</span>status<span class="token operator">-</span>timer<span class="token operator">=</span>NUM             çŠ¶æ€å±å¹•æ›´æ–°ç§’å€¼<span class="token operator">--</span>status<span class="token operator">-</span>automat               ä»¥æœºå™¨å¯è¯»çš„æ ¼å¼æ˜¾ç¤ºçŠ¶æ€è§†å›¾<span class="token operator">--</span>session                      åè·Ÿä¼šè¯åç§°ï¼Œä¸»è¦ç”¨äºä¸­æ­¢ä»»åŠ¡åçš„æ¢å¤ç ´è§£ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>æ–‡ä»¶</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">-</span>o<span class="token punctuation">,</span>  <span class="token operator">--</span>outfile<span class="token operator">=</span>FILE             å®šä¹‰å“ˆå¸Œæ–‡ä»¶æ¢å¤è¾“å‡ºæ–‡ä»¶<span class="token operator">--</span>outfile<span class="token operator">-</span>format<span class="token operator">=</span>NUM            å®šä¹‰å“ˆå¸Œæ–‡ä»¶è¾“å‡ºæ ¼å¼ï¼Œè§ä¸‹é¢çš„å‚è€ƒèµ„æ–™<span class="token operator">--</span>outfile<span class="token operator">-</span>autohex<span class="token operator">-</span>disable       ç¦æ­¢ä½¿ç”¨åå…­è¿›åˆ¶è¾“å‡ºæ˜æ–‡<span class="token operator">-</span>p<span class="token punctuation">,</span>  <span class="token operator">--</span>separator<span class="token operator">=</span>CHAR           ä¸ºå“ˆå¸Œåˆ—è¡¨<span class="token operator">/</span>è¾“å‡ºæ–‡ä»¶å®šä¹‰åˆ†éš”ç¬¦å­—ç¬¦<span class="token operator">--</span>show                          ä»…ä»…æ˜¾ç¤ºå·²ç»ç ´è§£çš„å¯†ç <span class="token operator">--</span>left                          ä»…ä»…æ˜¾ç¤ºæœªç ´è§£çš„å¯†ç <span class="token operator">--</span>username                      å¿½ç•¥hashè¡¨ä¸­çš„ç”¨æˆ·åï¼Œå¯¹linuxæ–‡ä»¶ç›´æ¥è¿›è¡Œç ´è§£ï¼Œä¸éœ€è¦è¿›è¡Œæ•´ç†ã€‚<span class="token operator">--</span>remove                        ç§»é™¤ç ´è§£æˆåŠŸçš„hashï¼Œå½“hashæ˜¯ä»æ–‡æœ¬ä¸­è¯»å–æ—¶æœ‰ç”¨ï¼Œé¿å…è‡ªå·±æ‰‹å·¥ç§»é™¤å·²ç»ç ´è§£çš„hash<span class="token operator">--</span>stdout                        æ§åˆ¶å°æ¨¡å¼<span class="token operator">--</span>potfile<span class="token operator">-</span>disable               ä¸å†™å…¥potæ–‡ä»¶<span class="token operator">--</span>debug<span class="token operator">-</span>mode<span class="token operator">=</span>NUM                å®šä¹‰è°ƒè¯•æ¨¡å¼ï¼ˆä»…é€šè¿‡ä½¿ç”¨è§„åˆ™è¿›è¡Œæ··åˆï¼‰ï¼Œå‚è§ä¸‹é¢çš„å‚è€ƒèµ„æ–™<span class="token operator">--</span>debug<span class="token operator">-</span>file<span class="token operator">=</span>FILE               è°ƒè¯•è§„åˆ™çš„è¾“å‡ºæ–‡ä»¶ï¼ˆè¯·å‚é˜…è°ƒè¯•æ¨¡å¼ï¼‰<span class="token operator">-</span>e<span class="token punctuation">,</span> <span class="token operator">--</span>salt<span class="token operator">-</span>file<span class="token operator">=</span>FILE            å®šä¹‰åŠ ç›æ–‡ä»¶åˆ—è¡¨<span class="token operator">--</span>logfile<span class="token operator">-</span>disable               ç¦æ­¢logfile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>èµ„æº</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">-</span>c<span class="token punctuation">,</span> <span class="token operator">--</span>segment<span class="token operator">-</span>size<span class="token operator">=</span>NUM       å­—å…¸æ–‡ä»¶ç¼“å­˜å¤§å°ï¼ˆ<span class="token class-name">M</span>ï¼‰<span class="token operator">-</span>n<span class="token punctuation">,</span> <span class="token operator">--</span>threads<span class="token operator">=</span>NUM            çº¿ç¨‹æ•°<span class="token operator">-</span>s<span class="token punctuation">,</span>  <span class="token operator">--</span>words<span class="token operator">-</span>skip<span class="token operator">=</span>NUM        è·³è¿‡å•è¯æ•°<span class="token operator">-</span>l<span class="token punctuation">,</span> <span class="token operator">--</span>words<span class="token operator">-</span>limit<span class="token operator">=</span>NUM        é™åˆ¶å•è¯æ•°<span class="token punctuation">(</span>åˆ†å¸ƒå¼<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>è§„åˆ™</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">  <span class="token operator">-</span>r<span class="token punctuation">,</span> <span class="token operator">--</span>rules<span class="token operator">-</span>file<span class="token operator">=</span>FILE             ä½¿ç”¨è§„åˆ™æ–‡ä»¶<span class="token operator">:</span> <span class="token operator">-</span>r <span class="token number">1.</span>ruleï¼Œ <span class="token operator">-</span>g<span class="token punctuation">,</span>  <span class="token operator">--</span>generate<span class="token operator">-</span>rules<span class="token operator">=</span>NUM          éšæœºç”Ÿæˆè§„åˆ™<span class="token operator">--</span>generate<span class="token operator">-</span>rules<span class="token operator">-</span>func<span class="token operator">-</span>min<span class="token operator">=</span>          æ¯ä¸ªéšæœºè§„åˆ™æœ€å°å€¼<span class="token operator">--</span>generate<span class="token operator">-</span>rules<span class="token operator">-</span>func<span class="token operator">-</span>max<span class="token operator">=</span>          æ¯ä¸ªéšæœºè§„åˆ™æœ€å¤§å€¼<span class="token operator">--</span>generate<span class="token operator">-</span>rules<span class="token operator">-</span>seed<span class="token operator">=</span>NUM           å¼ºåˆ¶RNGç§å­æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>è‡ªå®šä¹‰å­—ç¬¦é›†</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token operator">--</span>custom<span class="token operator">-</span>charset1<span class="token operator">=</span>CS  ç”¨æˆ·å®šä¹‰çš„å­—ç¬¦é›†<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">--</span>custom<span class="token operator">-</span>charset2<span class="token operator">=</span>CS  ä¾‹å¦‚<span class="token operator">:</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">--</span>custom<span class="token operator">-</span>charset3<span class="token operator">=</span>CS <span class="token operator">--</span>custom<span class="token operator">-</span>charset1<span class="token operator">=</span><span class="token operator">?</span>dabcdef <span class="token operator">:</span> è®¾ç½®<span class="token operator">?</span><span class="token number">1</span> ä¸º<span class="token number">0123456789</span>abcdef<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">--</span>custom<span class="token operator">-</span>charset4<span class="token operator">=</span>CS   <span class="token operator">-</span><span class="token number">2</span>mycharset<span class="token punctuation">.</span>hcchr <span class="token operator">:</span> è®¾ç½® <span class="token operator">?</span><span class="token number">2</span> åŒ…å«åœ¨mycharset<span class="token punctuation">.</span>hcchr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><br><h4 id="æ”»å‡»æ¨¡å¼"><a href="#æ”»å‡»æ¨¡å¼" class="headerlink" title="æ”»å‡»æ¨¡å¼"></a>æ”»å‡»æ¨¡å¼</h4><hr><p>å¤§å°å†™è½¬æ¢æ”»å‡»:</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">--</span>toggle<span class="token operator">-</span>min<span class="token operator">=</span>NUM              åœ¨å­—å…¸ä¸­å­—æ¯çš„æœ€å°å€¼<span class="token operator">--</span>toggle<span class="token operator">-</span>max<span class="token operator">=</span>NUM              åœ¨å­—å…¸ä¸­å­—æ¯çš„æœ€å¤§å€¼   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>ä½¿ç”¨æ©ç æ”»å‡»æ¨¡å¼:</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">--</span>increment                   ä½¿ç”¨å¢å¼ºæ¨¡å¼<span class="token operator">--</span>increment<span class="token operator">-</span>min<span class="token operator">=</span>NUM           å¢å¼ºæ¨¡å¼å¼€å§‹å€¼<span class="token operator">--</span>increment<span class="token operator">-</span>max<span class="token operator">=</span>NUM           å¢å¼ºæ¨¡å¼ç»“æŸå€¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>æ’åˆ—æ”»å‡»æ¨¡å¼</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">--</span>perm<span class="token operator">-</span>min<span class="token operator">=</span>NUM                è¿‡æ»¤æ¯”NUMæ•°å°çš„å•è¯<span class="token operator">--</span>perm<span class="token operator">-</span>max<span class="token operator">=</span>NUM                è¿‡æ»¤æ¯”NUMæ•°å¤§çš„å•è¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><ul><li>æŸ¥æ‰¾è¡¨æ”»å‡»æ¨¡å¼:</li></ul><div class="code-wrapper"><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">-t, --table-file&#x3D;FILE        è¡¨æ–‡ä»¶--table-min&#x3D;NUM               åœ¨å­—å…¸ä¸­çš„æœ€å°å­—ç¬¦å€¼--table-max&#x3D;NUM               åœ¨å­—å…¸ä¸­çš„æœ€å¤§å­—ç¬¦å€¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>æ‰“å°æ”»å‡»æ¨¡å¼:</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">--</span>pw<span class="token operator">-</span>min<span class="token operator">=</span>NUM                  å¦‚æœé•¿åº¦å¤§äºNUMï¼Œåˆ™æ‰“å°å€™é€‰å­—ç¬¦ <span class="token operator">--</span>pw<span class="token operator">-</span>max<span class="token operator">=</span>NUM                  å¦‚æœé•¿åº¦å°äºNUMï¼Œåˆ™æ‰“å°å€™é€‰å­—ç¬¦<span class="token operator">--</span>elem<span class="token operator">-</span>cnt<span class="token operator">-</span>min<span class="token operator">=</span>NUM            æ¯ä¸ªé“¾çš„æœ€å°å…ƒç´ æ•°<span class="token operator">--</span>elem<span class="token operator">-</span>cnt<span class="token operator">-</span>max<span class="token operator">=</span>NUM            æ¯ä¸ªé“¾çš„æœ€å¤§å…ƒç´ æ•°<span class="token operator">--</span>wl<span class="token operator">-</span>dist<span class="token operator">-</span>len                 ä»å­—å…¸è¡¨ä¸­è®¡ç®—è¾“å‡ºé•¿åº¦åˆ†å¸ƒ<span class="token operator">--</span>wl<span class="token operator">-</span>max<span class="token operator">=</span>NUM                  ä»å­—å…¸æ–‡ä»¶ä¸­åŠ è½½NUMä¸ªå•è¯ï¼Œè®¾ç½®<span class="token number">0</span>ç¦æ­¢åŠ è½½ã€‚<span class="token operator">--</span><span class="token keyword">case</span><span class="token operator">-</span>permute                åœ¨å­—å…¸ä¸­å¯¹æ¯ä¸€ä¸ªå•è¯è¿›è¡Œåè½¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><br><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><hr><ul><li>è¾“å‡ºæ–‡ä»¶æ ¼å¼:</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">1</span> <span class="token operator">=</span> hash<span class="token punctuation">[</span><span class="token operator">:</span>salt<span class="token punctuation">]</span><span class="token number">2</span> <span class="token operator">=</span> plain æ˜æ–‡<span class="token number">3</span> <span class="token operator">=</span> hash<span class="token punctuation">[</span><span class="token operator">:</span>salt<span class="token punctuation">]</span><span class="token operator">:</span>plain<span class="token number">4</span> <span class="token operator">=</span> hex_plain<span class="token number">5</span> <span class="token operator">=</span> hash<span class="token punctuation">[</span><span class="token operator">:</span>salt<span class="token punctuation">]</span><span class="token operator">:</span>hex_plain<span class="token number">6</span> <span class="token operator">=</span> plain<span class="token operator">:</span>hex_plain<span class="token number">7</span> <span class="token operator">=</span> hash<span class="token punctuation">[</span><span class="token operator">:</span>salt<span class="token punctuation">]</span><span class="token operator">:</span>plain<span class="token operator">:</span>hex_plain<span class="token number">8</span> <span class="token operator">=</span> crackpos<span class="token number">9</span> <span class="token operator">=</span> hash<span class="token punctuation">[</span><span class="token operator">:</span>salt<span class="token punctuation">]</span><span class="token operator">:</span>crackpos<span class="token number">10</span> <span class="token operator">=</span> plain<span class="token operator">:</span>crackpos<span class="token number">11</span> <span class="token operator">=</span> hash<span class="token punctuation">[</span><span class="token operator">:</span>salt<span class="token punctuation">]</span><span class="token operator">:</span>plain<span class="token operator">:</span>crackpos<span class="token number">12</span> <span class="token operator">=</span> hex_plain<span class="token operator">:</span>crackpos<span class="token number">13</span> <span class="token operator">=</span> hash<span class="token punctuation">[</span><span class="token operator">:</span>salt<span class="token punctuation">]</span><span class="token operator">:</span>hex_plain<span class="token operator">:</span>crackpos<span class="token number">14</span> <span class="token operator">=</span> plain<span class="token operator">:</span>hex_plain<span class="token operator">:</span>crackpos<span class="token number">15</span> <span class="token operator">=</span> hash<span class="token punctuation">[</span><span class="token operator">:</span>salt<span class="token punctuation">]</span><span class="token operator">:</span>plain<span class="token operator">:</span>hex_plain<span class="token operator">:</span>crackpos<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>è°ƒè¯•æ¨¡å¼è¾“å‡ºæ–‡ä»¶ (for hybrid mode only, by using rules):</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">1</span> <span class="token operator">=</span> save finding rule  <span class="token number">2</span> <span class="token operator">=</span> save original word<span class="token number">3</span> <span class="token operator">=</span> save original word and finding rule<span class="token number">4</span> <span class="token operator">=</span> save original word<span class="token punctuation">,</span> finding rule andmodified plain<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>å†…ç½®çš„å­—ç¬¦é›†:</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">?</span>l <span class="token operator">=</span> abcdefghijklmnopqrstuvwxyz ä»£è¡¨å°å†™å­—æ¯<span class="token operator">?</span>u <span class="token operator">=</span> ABCDEFGHIJKLMNOPQRSTUVWXYZ ä»£è¡¨å¤§å†™å­—æ¯<span class="token operator">?</span>d <span class="token operator">=</span> <span class="token number">0123456789</span> ä»£è¡¨æ•°å­—<span class="token operator">?</span>s <span class="token operator">=</span> <span class="token operator">!</span>"#$<span class="token operator">%</span><span class="token operator">&amp;</span>'<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">+</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token punctuation">.</span>/<span class="token operator">:</span><span class="token punctuation">;</span><span class="token operator">&lt;=</span><span class="token operator">></span><span class="token operator">?</span>@<span class="token punctuation">[</span>\<span class="token punctuation">]</span><span class="token operator">^</span>_`<span class="token punctuation">&#123;</span><span class="token operator">|</span><span class="token punctuation">&#125;</span><span class="token operator">~</span>  ä»£è¡¨ç‰¹æ®Šå­—ç¬¦<span class="token operator">?</span>a <span class="token operator">=</span> <span class="token operator">?</span>l<span class="token operator">?</span>u<span class="token operator">?</span>d<span class="token operator">?</span>s å¤§å°å†™æ•°å­—åŠç‰¹æ®Šå­—ç¬¦çš„ç»„åˆ<span class="token operator">?</span>b <span class="token operator">=</span> <span class="token number">0x00</span> <span class="token operator">-</span> <span class="token number">0xff</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>æ”»å‡»æ¨¡å¼</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">0</span> <span class="token operator">=</span> <span class="token class-name">Straight</span> ï¼ˆå­—å…¸ç ´è§£ï¼‰<span class="token number">1</span> <span class="token operator">=</span> <span class="token class-name">Combination</span> ï¼ˆç»„åˆç ´è§£ï¼‰<span class="token number">2</span> <span class="token operator">=</span> <span class="token class-name">Toggle</span><span class="token operator">-</span><span class="token class-name">Case</span> ï¼ˆå¤§å°å†™è½¬æ¢ï¼‰<span class="token number">3</span> <span class="token operator">=</span> <span class="token class-name">Brute</span><span class="token operator">-</span>forceï¼ˆæ©ç æš´åŠ›ç ´è§£ï¼‰<span class="token number">4</span> <span class="token operator">=</span> <span class="token class-name">Permutation</span>ï¼ˆåºåˆ—ç ´è§£ï¼‰<span class="token number">5</span> <span class="token operator">=</span> <span class="token class-name">Table</span><span class="token operator">-</span><span class="token class-name">Lookup</span>ï¼ˆæŸ¥è¡¨ç ´è§£ï¼‰<span class="token number">6</span> <span class="token operator">=</span> <span class="token class-name">Hybrid</span> dict <span class="token operator">+</span> mask å­—å…¸åŠ æ©ç ç ´è§£<span class="token number">7</span> <span class="token operator">=</span> <span class="token class-name">Hybrid</span> mask <span class="token operator">+</span> dict æ©ç <span class="token operator">+</span>å­—å…¸ç ´è§£<span class="token number">8</span> <span class="token operator">=</span> <span class="token class-name">Prince</span>ï¼ˆç‹å­ç ´è§£ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>å“ˆå¸Œç±»å‹</li></ul><p>æœ‰å…³å“ˆå¸Œå…·ä½“å€¼ç¤ºä¾‹å¯ä»¥å‚è€ƒ <a href="https://hashcat.net/wiki/doku.php?id=example_hashes">https://hashcat.net/wiki/doku.php?id=example_hashes</a></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">  <span class="token number">0</span> <span class="token operator">=</span> <span class="token class-name">MD5</span>  <span class="token number">10</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>$pass<span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">20</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span>$pass<span class="token punctuation">)</span>  <span class="token number">30</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">unicode</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">40</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span><span class="token function">unicode</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">50</span> <span class="token operator">=</span> HMAC<span class="token operator">-</span>MD5 <span class="token punctuation">(</span>key <span class="token operator">=</span> $pass<span class="token punctuation">)</span>  <span class="token number">60</span> <span class="token operator">=</span> HMAC<span class="token operator">-</span>MD5 <span class="token punctuation">(</span>key <span class="token operator">=</span> $salt<span class="token punctuation">)</span>  <span class="token number">100</span> <span class="token operator">=</span> <span class="token class-name">SHA1</span>  <span class="token number">110</span> <span class="token operator">=</span> <span class="token function">sha1</span><span class="token punctuation">(</span>$pass<span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">120</span> <span class="token operator">=</span> <span class="token function">sha1</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span>$pass<span class="token punctuation">)</span>  <span class="token number">130</span> <span class="token operator">=</span> <span class="token function">sha1</span><span class="token punctuation">(</span><span class="token function">unicode</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">140</span> <span class="token operator">=</span> <span class="token function">sha1</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span><span class="token function">unicode</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">150</span> <span class="token operator">=</span> HMAC<span class="token operator">-</span>SHA1 <span class="token punctuation">(</span>key <span class="token operator">=</span> $pass<span class="token punctuation">)</span>  <span class="token number">160</span> <span class="token operator">=</span> HMAC<span class="token operator">-</span>SHA1 <span class="token punctuation">(</span>key <span class="token operator">=</span> $salt<span class="token punctuation">)</span>  <span class="token number">200</span> <span class="token operator">=</span> <span class="token class-name">MySQL323</span>  <span class="token number">300</span> <span class="token operator">=</span> <span class="token class-name">MySQL4</span><span class="token number">.1</span><span class="token operator">/</span><span class="token class-name">MySQL5</span>  <span class="token number">400</span> <span class="token operator">=</span> phpass<span class="token punctuation">,</span> <span class="token function">MD5</span><span class="token punctuation">(</span><span class="token class-name">Wordpress</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">MD5</span><span class="token punctuation">(</span>phpBB3<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">MD5</span><span class="token punctuation">(</span><span class="token class-name">Joomla</span><span class="token punctuation">)</span>  <span class="token number">500</span> <span class="token operator">=</span> md5crypt<span class="token punctuation">,</span> <span class="token function">MD5</span><span class="token punctuation">(</span><span class="token class-name">Unix</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">FreeBSD</span> MD5<span class="token punctuation">,</span><span class="token class-name">Cisco</span><span class="token operator">-</span>IOS <span class="token class-name">MD5</span>  <span class="token number">900</span> <span class="token operator">=</span> <span class="token class-name">MD4</span>  <span class="token number">1000</span> <span class="token operator">=</span> <span class="token class-name">NTLM</span>  <span class="token number">1100</span> <span class="token operator">=</span> <span class="token class-name">Domain</span> <span class="token class-name">Cached</span> <span class="token class-name">Credentials</span> <span class="token punctuation">(</span>DCC<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">MSCache</span>  <span class="token number">1400</span> <span class="token operator">=</span> <span class="token class-name">SHA256</span>  <span class="token number">1410</span> <span class="token operator">=</span> <span class="token function">sha256</span><span class="token punctuation">(</span>$pass<span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">1420</span> <span class="token operator">=</span> <span class="token function">sha256</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span>$pass<span class="token punctuation">)</span>  <span class="token number">1430</span> <span class="token operator">=</span> <span class="token function">sha256</span><span class="token punctuation">(</span><span class="token function">unicode</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">1431</span> <span class="token operator">=</span> <span class="token function">base64</span><span class="token punctuation">(</span><span class="token function">sha256</span><span class="token punctuation">(</span><span class="token function">unicode</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">1440</span> <span class="token operator">=</span> <span class="token function">sha256</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span><span class="token function">unicode</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">1450</span> <span class="token operator">=</span> HMAC<span class="token operator">-</span>SHA256 <span class="token punctuation">(</span>key <span class="token operator">=</span> $pass<span class="token punctuation">)</span>  <span class="token number">1460</span> <span class="token operator">=</span> HMAC<span class="token operator">-</span>SHA256 <span class="token punctuation">(</span>key <span class="token operator">=</span> $salt<span class="token punctuation">)</span>  <span class="token number">1600</span> <span class="token operator">=</span> md5apr1<span class="token punctuation">,</span> <span class="token function">MD5</span><span class="token punctuation">(</span>APR<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Apache</span> <span class="token class-name">MD5</span>  <span class="token number">1700</span> <span class="token operator">=</span> <span class="token class-name">SHA512</span>  <span class="token number">1710</span> <span class="token operator">=</span> <span class="token function">sha512</span><span class="token punctuation">(</span>$pass<span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">1720</span> <span class="token operator">=</span> <span class="token function">sha512</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span>$pass<span class="token punctuation">)</span>  <span class="token number">1730</span> <span class="token operator">=</span> <span class="token function">sha512</span><span class="token punctuation">(</span><span class="token function">unicode</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">1740</span> <span class="token operator">=</span> <span class="token function">sha512</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span><span class="token function">unicode</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">1750</span> <span class="token operator">=</span> HMAC<span class="token operator">-</span>SHA512 <span class="token punctuation">(</span>key <span class="token operator">=</span> $pass<span class="token punctuation">)</span>  <span class="token number">1760</span> <span class="token operator">=</span> HMAC<span class="token operator">-</span>SHA512 <span class="token punctuation">(</span>key <span class="token operator">=</span> $salt<span class="token punctuation">)</span>  <span class="token number">1800</span> <span class="token operator">=</span> SHA<span class="token operator">-</span><span class="token function">512</span><span class="token punctuation">(</span><span class="token class-name">Unix</span><span class="token punctuation">)</span>  <span class="token number">2400</span> <span class="token operator">=</span> <span class="token class-name">Cisco</span><span class="token operator">-</span>PIX <span class="token class-name">MD5</span>  <span class="token number">2410</span> <span class="token operator">=</span> <span class="token class-name">Cisco</span><span class="token operator">-</span>ASA <span class="token class-name">MD5</span>  <span class="token number">2500</span> <span class="token operator">=</span> WPA<span class="token operator">/</span><span class="token class-name">WPA2</span>  <span class="token number">2600</span> <span class="token operator">=</span> <span class="token class-name">Double</span> <span class="token class-name">MD5</span>  <span class="token number">3200</span> <span class="token operator">=</span> bcrypt<span class="token punctuation">,</span> <span class="token class-name">Blowfish</span><span class="token punctuation">(</span><span class="token class-name">OpenBSD</span><span class="token punctuation">)</span>  <span class="token number">3300</span> <span class="token operator">=</span> <span class="token function">MD5</span><span class="token punctuation">(</span><span class="token class-name">Sun</span><span class="token punctuation">)</span>  <span class="token number">3500</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">3610</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">)</span><span class="token punctuation">.</span>$pass<span class="token punctuation">)</span>  <span class="token number">3710</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span><span class="token function">md5</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">3720</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>$pass<span class="token punctuation">.</span><span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">3800</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span>$pass<span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">3910</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">4010</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span><span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">4110</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span><span class="token function">md5</span><span class="token punctuation">(</span>$pass<span class="token punctuation">.</span>$salt<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">4210</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span>$username<span class="token punctuation">.</span><span class="token number">0.</span>$pass<span class="token punctuation">)</span>  <span class="token number">4300</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">strtoupper</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">4400</span> <span class="token operator">=</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token function">sha1</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">4500</span> <span class="token operator">=</span> <span class="token class-name">Double</span> <span class="token class-name">SHA1</span>  <span class="token number">4600</span> <span class="token operator">=</span> <span class="token function">sha1</span><span class="token punctuation">(</span><span class="token function">sha1</span><span class="token punctuation">(</span><span class="token function">sha1</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">4700</span> <span class="token operator">=</span> <span class="token function">sha1</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span>$pass<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token number">4800</span> <span class="token operator">=</span> <span class="token function">MD5</span><span class="token punctuation">(</span><span class="token class-name">Chap</span><span class="token punctuation">)</span><span class="token punctuation">,</span> iSCSI CHAP authentication  <span class="token number">4900</span> <span class="token operator">=</span> <span class="token function">sha1</span><span class="token punctuation">(</span>$salt<span class="token punctuation">.</span>$pass<span class="token punctuation">.</span>$salt<span class="token punctuation">)</span>  <span class="token number">5000</span> <span class="token operator">=</span> SHA<span class="token operator">-</span><span class="token function">3</span><span class="token punctuation">(</span><span class="token class-name">Keccak</span><span class="token punctuation">)</span>  <span class="token number">5100</span> <span class="token operator">=</span> <span class="token class-name">Half</span> <span class="token class-name">MD5</span>  <span class="token number">5200</span> <span class="token operator">=</span> <span class="token class-name">Password</span> <span class="token class-name">Safe</span> SHA<span class="token operator">-</span><span class="token number">256</span>  <span class="token number">5300</span> <span class="token operator">=</span> IKE<span class="token operator">-</span>PSK <span class="token class-name">MD5</span>  <span class="token number">5400</span> <span class="token operator">=</span> IKE<span class="token operator">-</span>PSK <span class="token class-name">SHA1</span>  <span class="token number">5500</span> <span class="token operator">=</span> <span class="token class-name">NetNTLMv1</span><span class="token operator">-</span>VANILLA <span class="token operator">/</span> <span class="token class-name">NetNTLMv1</span><span class="token operator">-</span><span class="token class-name">ESS</span>  <span class="token number">5600</span> <span class="token operator">=</span> <span class="token class-name">NetNTLMv2</span>  <span class="token number">5700</span> <span class="token operator">=</span> <span class="token class-name">Cisco</span><span class="token operator">-</span>IOS <span class="token class-name">SHA256</span>  <span class="token number">5800</span> <span class="token operator">=</span> <span class="token class-name">Android</span> <span class="token class-name">PIN</span>  <span class="token number">6300</span> <span class="token operator">=</span> AIX <span class="token punctuation">&#123;</span>smd5<span class="token punctuation">&#125;</span>  <span class="token number">6400</span> <span class="token operator">=</span> AIX <span class="token punctuation">&#123;</span>ssha256<span class="token punctuation">&#125;</span>  <span class="token number">6500</span> <span class="token operator">=</span> AIX <span class="token punctuation">&#123;</span>ssha512<span class="token punctuation">&#125;</span>  <span class="token number">6700</span> <span class="token operator">=</span> AIX <span class="token punctuation">&#123;</span>ssha1<span class="token punctuation">&#125;</span>  <span class="token number">6900</span> <span class="token operator">=</span> GOST<span class="token punctuation">,</span> GOST <span class="token class-name">R</span> <span class="token number">34.11</span><span class="token operator">-</span><span class="token number">94</span>  <span class="token number">7000</span> <span class="token operator">=</span> <span class="token class-name">Fortigate</span> <span class="token punctuation">(</span><span class="token class-name">FortiOS</span><span class="token punctuation">)</span>  <span class="token number">7100</span> <span class="token operator">=</span> OS <span class="token class-name">X</span> v10<span class="token punctuation">.</span><span class="token number">8</span><span class="token operator">+</span>  <span class="token number">7200</span> <span class="token operator">=</span> GRUB <span class="token number">2</span>  <span class="token number">7300</span> <span class="token operator">=</span> IPMI2 RAKP HMAC<span class="token operator">-</span><span class="token class-name">SHA1</span>  <span class="token number">7400</span> <span class="token operator">=</span> sha256crypt<span class="token punctuation">,</span> <span class="token function">SHA256</span><span class="token punctuation">(</span><span class="token class-name">Unix</span><span class="token punctuation">)</span>  <span class="token number">7900</span> <span class="token operator">=</span> <span class="token class-name">Drupal7</span>  <span class="token number">8400</span> <span class="token operator">=</span> WBB3<span class="token punctuation">,</span> <span class="token class-name">Woltlab</span> <span class="token class-name">Burning</span> <span class="token class-name">Board</span> <span class="token number">3</span>  <span class="token number">8900</span> <span class="token operator">=</span> scrypt  <span class="token number">9200</span> <span class="token operator">=</span> <span class="token class-name">Cisco</span> $<span class="token number">8</span>$  <span class="token number">9300</span> <span class="token operator">=</span> <span class="token class-name">Cisco</span> $<span class="token number">9</span>$  <span class="token number">9800</span> <span class="token operator">=</span> <span class="token class-name">Radmin2</span> <span class="token number">10000</span> <span class="token operator">=</span> <span class="token class-name">Django</span> <span class="token punctuation">(</span>PBKDF2<span class="token operator">-</span>SHA256<span class="token punctuation">)</span> <span class="token number">10200</span> <span class="token operator">=</span> <span class="token class-name">Cram</span> <span class="token class-name">MD5</span> <span class="token number">10300</span> <span class="token operator">=</span> SAP CODVN <span class="token class-name">H</span> <span class="token punctuation">(</span>PWDSALTEDHASH<span class="token punctuation">)</span> iSSHA<span class="token operator">-</span><span class="token number">1</span> <span class="token number">11000</span> <span class="token operator">=</span> <span class="token class-name">PrestaShop</span> <span class="token number">11100</span> <span class="token operator">=</span> <span class="token class-name">PostgreSQL</span> <span class="token class-name">Challenge</span><span class="token operator">-</span><span class="token class-name">ResponseAuthentication</span> <span class="token punctuation">(</span>MD5<span class="token punctuation">)</span> <span class="token number">11200</span> <span class="token operator">=</span> <span class="token class-name">MySQL</span> <span class="token class-name">Challenge</span><span class="token operator">-</span><span class="token class-name">Response</span> <span class="token class-name">Authentication</span><span class="token punctuation">(</span>SHA1<span class="token punctuation">)</span> <span class="token number">11400</span> <span class="token operator">=</span> SIP digest authentication <span class="token punctuation">(</span>MD5<span class="token punctuation">)</span> <span class="token number">99999</span> <span class="token operator">=</span> <span class="token class-name">Plaintext</span>ç‰¹æ®Šå“ˆå¸Œç±»å‹   <span class="token number">11</span> <span class="token operator">=</span> <span class="token class-name">Joomla</span> <span class="token operator">&lt;</span> <span class="token number">2.5</span><span class="token number">.18</span>   <span class="token number">12</span> <span class="token operator">=</span> <span class="token class-name">PostgreSQL</span>   <span class="token number">21</span> <span class="token operator">=</span> osCommerce<span class="token punctuation">,</span> xt<span class="token operator">:</span><span class="token class-name">Commerce</span>   <span class="token number">23</span> <span class="token operator">=</span> <span class="token class-name">Skype</span>  <span class="token number">101</span> <span class="token operator">=</span> nsldap<span class="token punctuation">,</span> SHA<span class="token operator">-</span><span class="token function">1</span><span class="token punctuation">(</span><span class="token class-name">Base64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Netscape</span> <span class="token class-name">LDAPSHA</span>  <span class="token number">111</span> <span class="token operator">=</span> nsldaps<span class="token punctuation">,</span> SSHA<span class="token operator">-</span><span class="token function">1</span><span class="token punctuation">(</span><span class="token class-name">Base64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Netscape</span> <span class="token class-name">LDAPSSHA</span>  <span class="token number">112</span> <span class="token operator">=</span> <span class="token class-name">Oracle</span> <span class="token class-name">S</span><span class="token operator">:</span> <span class="token class-name">Type</span> <span class="token punctuation">(</span><span class="token class-name">Oracle</span> <span class="token number">11</span><span class="token operator">+</span><span class="token punctuation">)</span>  <span class="token number">121</span> <span class="token operator">=</span> SMF <span class="token operator">></span> v1<span class="token punctuation">.</span><span class="token number">1</span>  <span class="token number">122</span> <span class="token operator">=</span> OS <span class="token class-name">X</span> v10<span class="token punctuation">.</span><span class="token number">4</span><span class="token punctuation">,</span> v10<span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">,</span> v10<span class="token punctuation">.</span><span class="token number">6</span>  <span class="token number">123</span> <span class="token operator">=</span> <span class="token class-name">EPi</span>  <span class="token number">124</span> <span class="token operator">=</span> <span class="token class-name">Django</span> <span class="token punctuation">(</span>SHA<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token number">131</span> <span class="token operator">=</span> <span class="token function">MSSQL</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>  <span class="token number">132</span> <span class="token operator">=</span> <span class="token function">MSSQL</span><span class="token punctuation">(</span><span class="token number">2005</span><span class="token punctuation">)</span>  <span class="token number">133</span> <span class="token operator">=</span> <span class="token class-name">PeopleSoft</span>  <span class="token number">141</span> <span class="token operator">=</span> <span class="token class-name">EPiServer</span> <span class="token number">6.</span>x <span class="token operator">&lt;</span> v4 <span class="token number">1421</span> <span class="token operator">=</span> hMailServer <span class="token number">1441</span> <span class="token operator">=</span> <span class="token class-name">EPiServer</span> <span class="token number">6.</span>x <span class="token operator">></span> v4 <span class="token number">1711</span> <span class="token operator">=</span> SSHA<span class="token operator">-</span><span class="token function">512</span><span class="token punctuation">(</span><span class="token class-name">Base64</span><span class="token punctuation">)</span><span class="token punctuation">,</span> LDAP <span class="token punctuation">&#123;</span>SSHA512<span class="token punctuation">&#125;</span> <span class="token number">1722</span> <span class="token operator">=</span> OS <span class="token class-name">X</span> v10<span class="token punctuation">.</span><span class="token number">7</span> <span class="token number">1731</span> <span class="token operator">=</span> <span class="token function">MSSQL</span><span class="token punctuation">(</span><span class="token number">2012</span> <span class="token operator">&amp;</span> <span class="token number">2014</span><span class="token punctuation">)</span> <span class="token number">2611</span> <span class="token operator">=</span> vBulletin <span class="token operator">&lt;</span> v3<span class="token punctuation">.</span><span class="token number">8.5</span> <span class="token number">2612</span> <span class="token operator">=</span> <span class="token class-name">PHPS</span> <span class="token number">2711</span> <span class="token operator">=</span> vBulletin <span class="token operator">></span> v3<span class="token punctuation">.</span><span class="token number">8.5</span> <span class="token number">2811</span> <span class="token operator">=</span> IPB2<span class="token operator">+</span><span class="token punctuation">,</span> <span class="token class-name">MyBB1</span><span class="token number">.2</span><span class="token operator">+</span> <span class="token number">3711</span> <span class="token operator">=</span> <span class="token class-name">Mediawiki</span> <span class="token class-name">B</span> type <span class="token number">3721</span> <span class="token operator">=</span> <span class="token class-name">WebEdition</span> <span class="token class-name">CMS</span> <span class="token number">7600</span> <span class="token operator">=</span> <span class="token class-name">Redmine</span> <span class="token class-name">Project</span> <span class="token class-name">Management</span> <span class="token class-name">Web</span> <span class="token class-name">App</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><br><br><h3 id="å¯†ç ç ´è§£æ¨èåŸåˆ™"><a href="#å¯†ç ç ´è§£æ¨èåŸåˆ™" class="headerlink" title="å¯†ç ç ´è§£æ¨èåŸåˆ™"></a>å¯†ç ç ´è§£æ¨èåŸåˆ™</h3><hr><p>ç ´è§£æ—¶é‡‡å–å…ˆæ˜“åéš¾çš„åŸåˆ™ï¼Œå»ºè®®å¦‚ä¸‹ï¼š</p><ul><li><p>åˆ©ç”¨æ”¶é›†çš„å…¬å¼€å­—å…¸è¿›è¡Œç ´è§£</p></li><li><p>ä½¿ç”¨1-8ä½æ•°å­—è¿›è¡Œç ´è§£ã€‚</p></li><li><p>ä½¿ç”¨1-8ä½å°å†™å­—æ¯è¿›è¡Œç ´è§£</p></li><li><p>ä½¿ç”¨1-8ä½å¤§å†™å­—æ¯è¿›è¡Œç ´è§£</p></li><li><p>ä½¿ç”¨1-8ä½æ··åˆå¤§å°å†™+æ•°å­—+ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç ´è§£</p></li></ul><p>3.2 hashcatç ´è§£è§„åˆ™</p><p>ï¼ˆ1ï¼‰å­—å…¸æ”»å‡»</p><blockquote><p>-a 0 password.lst</p></blockquote><p>ï¼ˆ2ï¼‰1åˆ°8ä¸ºæ•°å­—æ©ç æ”»å‡»</p><blockquote><p>-a 3 â€“increment â€“increment-min 1â€“increment-max 8 ?d?d?d?d?d?d?d?d â€“O</p></blockquote><p>?dä»£è¡¨æ•°å­—ï¼Œå¯ä»¥æ¢æˆå°å†™å­—æ¯?lï¼Œå¤§å†™å­—æ¯?uï¼Œç‰¹æ®Šå­—ç¬¦?sï¼Œå¤§å°å†™å­—æ¯+ç‰¹æ®Šå­—ç¬¦?aï¼Œâ€“Oè¡¨ç¤ºæœ€ä¼˜åŒ–ç ´è§£æ¨¡å¼ï¼Œå¯ä»¥åŠ è¯¥å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¸åŠ è¯¥å‚æ•°ã€‚</p><p>ï¼ˆ3ï¼‰8ä¸ºæ•°å­—æ”»å‡»</p><blockquote><p>-a 3 ?d?d?d?d?d?d?d?d </p></blockquote><p>åŒç†å¯ä»¥æ ¹æ®ä½æ•°è®¾ç½®ä¸ºå­—æ¯å¤§å†™ã€å°å†™ã€ç‰¹æ®Šå­—ç¬¦ç­‰æ¨¡å¼ã€‚</p><p>ï¼ˆ4ï¼‰è‡ªå®šä¹‰å­—ç¬¦</p><p>ç°åœ¨çº¯æ•°å­—æˆ–è€…çº¯å­—æ¯çš„å¯†ç æ˜¯æ¯”è¾ƒå°‘è§çš„ï¼Œæ ¹æ®å¯†ç ä¸“å®¶å¯¹æ³„æ¼å¯†ç çš„åˆ†æï¼Œ90%çš„ä¸ªäººå¯†ç æ˜¯å­—æ¯å’Œæ•°å­—çš„ç»„åˆï¼Œå¯ä»¥æ˜¯è‡ªå®šä¹‰å­—ç¬¦äº†æ¥è¿›è¡Œæš´åŠ›ç ´è§£ï¼ŒHashcatæ”¯æŒ4ä¸ªè‡ªå®šä¹‰å­—ç¬¦é›†ï¼Œåˆ†åˆ«æ˜¯ -1 -2 -3 -4ã€‚å®šä¹‰æ—¶åªéœ€è¦è¿™æ ·-2  ?l?d ï¼Œç„¶åå°±å¯ä»¥åœ¨åé¢æŒ‡å®š?2ï¼Œ?2è¡¨ç¤ºå°å†™å­—æ¯å’Œæ•°å­—ã€‚è¿™æ—¶å€™è¦ç ´è§£ä¸€ä¸ª8ä½æ··åˆçš„å°å†™å­—æ¯åŠ æ•°å­—ï¼š</p><blockquote><p>Hashcat.exe -a 3 â€“force -2 ?l?d  hasshå€¼æˆ–è€…hashæ–‡ä»¶  ?2?2?2?2?2?2?2?2</p></blockquote><p>ä¾‹å¦‚ç ´è§£dzå°å†™å­—æ¯+æ•°å­—æ··åˆ8ä½å¯†ç ç ´è§£ï¼š</p><blockquote><p>Hashcat -m 2611  -a 3 -2 ?l?d  dz.hash    ?2?2?2?2?2?2?2?2</p></blockquote><p>ï¼ˆ5ï¼‰å­—å…¸+æ©ç æš´åŠ›ç ´è§£</p><p>Hashcatè¿˜æ”¯æŒä¸€ç§å­—å…¸åŠ æš´åŠ›çš„ç ´è§£æ–¹æ³•ï¼Œå°±æ˜¯åœ¨å­—å…¸å‰åå†åŠ ä¸Šæš´åŠ›çš„å­—ç¬¦åºåˆ—ï¼Œæ¯”å¦‚åœ¨å­—å…¸åé¢åŠ ä¸Š3ä¸ºæ•°å­—ï¼Œè¿™ç§å¯†ç æ˜¯å¾ˆå¸¸è§çš„ã€‚ä½¿ç”¨ç¬¬å…­ç§æ”»å‡»æ¨¡å¼ï¼š</p><blockquote><p>a-6 (Hybrid dict + mask)</p></blockquote><p>å¦‚æœæ˜¯åœ¨å­—å…¸å‰é¢åŠ åˆ™ä½¿ç”¨ç¬¬7ä¸­æ”»å‡»æ¨¡å¼ä¹Ÿå³( a-7 = Hybridmask + dict)ï¼Œä¸‹é¢å¯¹å­—å…¸æ–‡ä»¶åŠ æ•°å­—123è¿›è¡Œç ´è§£ï¼š</p><blockquote><p>H.exe -a 6 ffe1cb31eb084cd7a8dd1228c23617c8  password.lst ?d?d?d</p></blockquote><p>å‡å¦‚ffe1cb31eb084cd7a8dd1228c23617c8çš„å¯†ç ä¸ºpassword123ï¼Œåˆ™åªè¦password.lståŒ…å«123å³å¯ã€‚</p><p> ï¼ˆ6ï¼‰æ©ç +å­—å…¸æš´åŠ›ç ´è§£</p><blockquote><p>H.exe -a 7  ffe1cb31eb084cd7a8dd1228c23617c8  password.lst ?d?d?d</p></blockquote><p>å‡å¦‚ffe1cb31eb084cd7a8dd1228c23617c8çš„å¯†ç ä¸º123passwordï¼Œåˆ™åªè¦password.lståŒ…å«passwordå³å¯ã€‚</p><p>ï¼ˆ7ï¼‰å¤§å°å†™è½¬æ¢æ”»å‡»ï¼Œå¯¹password.lstä¸­çš„å•è¯è¿›è¡Œå¤§å°å†™è½¬æ¢æ”»å‡»</p><blockquote><p>H.exe-a 2  ffe1cb31eb084cd7a8dd1228c23617c8  password.lst</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Kali</tag>
      
      <tag>HashCat</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘</title>
    <link href="/2020/07/03/%E3%80%90Java%E3%80%91%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/"/>
    <url>/2020/07/03/%E3%80%90Java%E3%80%91%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/</url>
    
    <content type="html"><![CDATA[<h3 id="å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘-synchronized-ç¯‡"><a href="#å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘-synchronized-ç¯‡" class="headerlink" title="å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘ synchronized ç¯‡"></a>å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘ synchronized ç¯‡</h3><p><font color=DarkGray size=2>è¿›ç¨‹ çº¿ç¨‹ åç¨‹/çº¤ç¨‹ï¼ˆQuasurï¼‰</font></p><hr><p><br><br></p><h4 id="çº¿ç¨‹ï¼šä¸€ä¸ªç¨‹åºé‡Œä¸åŒçš„æ‰§è¡Œè·¯å¾„"><a href="#çº¿ç¨‹ï¼šä¸€ä¸ªç¨‹åºé‡Œä¸åŒçš„æ‰§è¡Œè·¯å¾„" class="headerlink" title="çº¿ç¨‹ï¼šä¸€ä¸ªç¨‹åºé‡Œä¸åŒçš„æ‰§è¡Œè·¯å¾„"></a>çº¿ç¨‹ï¼šä¸€ä¸ªç¨‹åºé‡Œä¸åŒçš„æ‰§è¡Œè·¯å¾„</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> T1 <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">&#123;</span>  <span class="token annotation punctuation">@Override</span>   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Override Theme ä¸­çš„ run æ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// æ–¹æ³•ä¸€</span><span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ–¹æ³•äºŒ</span><span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ–¹æ³•ä¸‰</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span><span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"Hello Worldï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li><p>åˆ›å»ºçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>åˆ›å»ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿Threadï¼Œé‡å†™æ–¹æ³•</li><li>å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç° Runnable æ¥å£ï¼Œç„¶åé‡å†™ run æ–¹æ³•</li></ul></li><li><p>å¯åŠ¨ï¼š</p></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//æ–¹æ³•ä¸€ï¼š</span><span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ–¹æ³•äºŒï¼š</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyRun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ–¹æ³•ä¸‰ï¼š</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span> <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"Hello Worldï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>é¢è¯•<ul><li>é—®ï¼šå¯åŠ¨çº¿ç¨‹çš„ä¸‰ç§æ–¹å¼æ˜¯ï¼Ÿ</li><li>ç­”ï¼š<ul><li>1ã€ä» <code>Thread</code> ç»§æ‰¿</li><li>2ã€å®ç° <code>Runnable</code> æ¥å£</li><li>3ã€ä»çº¿ç¨‹æ± ä¸­å¯åŠ¨ <code>Executors.newCachedThrad</code></li></ul></li></ul></li></ul><hr><br><br><h4 id="çº¿ç¨‹çš„åŸºæœ¬æ–¹æ³•"><a href="#çº¿ç¨‹çš„åŸºæœ¬æ–¹æ³•" class="headerlink" title="çº¿ç¨‹çš„åŸºæœ¬æ–¹æ³•"></a>çº¿ç¨‹çš„åŸºæœ¬æ–¹æ³•</h4><p><font color =DarkGray size=2>åœ¨T1ä¸­è°ƒç”¨  T2.joinï¼ˆï¼‰ï¼›åˆ™æ‰§è¡Œåˆ° join ä¹‹åï¼Œ<font color=#f123>T1è¿›å…¥ç­‰å¾…æ¨¡å¼</font>ï¼Œå…ˆæ‰§è¡Œå®ŒT2ä¹‹åï¼Œå†è¿”å›æ‰§è¡ŒT1ã€‚</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// sleep ç¡çœ </span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¯«ç§’</span><span class="token comment">// Yield è®©å‡ºä¸€ä¸‹CPU è¿›å…¥ç­‰å¾…é˜Ÿåˆ—ï¼ˆå¦‚æœæ²¡æœ‰ç­‰å¾…çš„åˆ™ç»§ç»­æ‰§è¡Œï¼‰</span><span class="token comment">// ä½¿ç”¨åœºæ™¯ï¼Œè¾ƒå°‘</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Join</span><span class="token class-name">Thread</span> T1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>    T1<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token class-name">Thread</span> T2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>    <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"T2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li>å…¶ä»–æ–¹æ³•</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æš´åŠ›ç»“æŸçº¿ç¨‹ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// å”¤èµ·çº¿ç¨‹</span><span class="token punctuation">.</span><span class="token function">intereptor</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token comment">// è·å–çº¿ç¨‹çŠ¶æ€ã€‚</span><span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br></p><h4 id="çº¿ç¨‹çš„é”"><a href="#çº¿ç¨‹çš„é”" class="headerlink" title="çº¿ç¨‹çš„é”"></a>çº¿ç¨‹çš„é”</h4><hr><ol><li>ä¸Šé”</li></ol><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">private</span> <span class="token class-name">Object</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">synchronized</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//ä»»ä½•å¿åŸè¦æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œåˆ™å¿…é¡»å…ˆæ‹¿åˆ°o</span>        count<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// synchronized(this) ç­‰å€¼äº synchronized(æ–¹æ³•);</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> count  <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// ç­‰åŒäºsynchronized(T.class)</span>    count <span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">mm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">synchronized</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            count<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br></p><h4 id="synchronizedçš„ç‰¹æ€§"><a href="#synchronizedçš„ç‰¹æ€§" class="headerlink" title="synchronizedçš„ç‰¹æ€§"></a>synchronizedçš„ç‰¹æ€§</h4><p><font color=DarkGray size=2>1ã€é”çš„æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯è¿›ç¨‹  / çº¿ç¨‹ ï¼› 2ã€èƒ½ä¸åŠ synchronized()é”å°±ä¸åŠ ï¼ŒåŠ é”ä¹‹åæ•ˆç‡æä½ï¼›</font></p><hr><ul><li><p>å¯é‡å…¥æ€§</p><ul><li>ä¸€ä¸ªæ–¹æ³•<code>m1</code>åŠ é”ï¼Œå¦ä¸€ä¸ªæ–¹æ³•<code>m2</code>ä¹ŸåŠ äº†é”ï¼ˆåŒä¸€æŠŠé”ï¼‰ï¼Œé‚£ä¹ˆ<code>m1</code>æ˜¯å¯ä»¥è°ƒç”¨<code>m2</code>çš„ã€‚</li></ul></li><li><p>å¼‚å¸¸çš„é”</p><ul><li>ç¨‹åºä¸­çš„é”çš„å†…å®¹å‡ºç°äº†<font color=#f123><strong>å¼‚å¸¸</strong></font>ï¼Œé‚£ä¹ˆè¯¥é”å°†è¢«<font color=#f890>é‡Šæ”¾</font>ã€‚</li></ul></li></ul><hr><p><br><br></p><h4 id="synchronized-åº•å±‚å®ç°"><a href="#synchronized-åº•å±‚å®ç°" class="headerlink" title="synchronized åº•å±‚å®ç°"></a>synchronized åº•å±‚å®ç°</h4><p><font color=DarkGray size=2>synchronized(Object) ;  æ‹¬å·ä¸­ä¸€å®šè¦æ˜¯Objectå¯¹è±¡ï¼Œä¸èƒ½æ˜¯String æˆ–å…¶ä»–ä»»ä½•ç±»å‹ï¼›</font></p><hr><blockquote><p>æ—©æœŸçš„é”ï¼šéœ€è¦å°±å»æ‰¾æ“ä½œç³»ç»Ÿç”³è¯·ã€</p></blockquote><blockquote><p>å‘å±•åçš„ï¼šå…ˆä¹è§‚é”ã€åè‡ªæ—‹é”ã€æœ€åæ‰¾ç³»ç»Ÿå®ç°ï¼ˆé‡é‡çº§é” | æœ€æµªè´¹æ—¶é—´ï¼‰</p></blockquote><blockquote><ul><li><font color=DarkGray size=2>æŠ±ç€â€œæ²¡æœ‰çº¿ç¨‹è·Ÿæˆ‘äº‰ç”¨â€çš„å¿ƒæ€å»ç”³è¯·ä¸€ä¸ªèµ„æºï¼šæ­¤æ—¶æ˜¯ <font color=#f890>åå‘é”</font>ï¼Œåªè®°å½•IDï¼Œä¸é”ï¼ˆé»˜è®¤æ²¡æœ‰ç¬¬äºŒä¸ªçº¿ç¨‹æ¥è®¿é—®ï¼‰</font></li></ul></blockquote><blockquote><ul><li><font color=DarkGray size=2>å¦‚æœæœ‰çº¿ç¨‹äº‰ç”¨ï¼šå‡çº§ä¸º <font color=#f890>è‡ªæ—‹é”</font> å¾ªç¯10æ¬¡ï¼ˆå ç”¨CPUï¼‰</font></li></ul></blockquote><blockquote><ul><li><font color=DarkGray size=2>10æ¬¡ä¹‹åè¦è®¿é—®çš„èµ„æºè¿˜è¢«é”ç€ï¼Ÿå‡çº§ä¸º<font color=#f890>é‡é‡çº§é” </font> å»æ“ä½œç³»ç»Ÿç”³è¯·é”ï¼ˆä¸å ç”¨ CPUï¼‰</font></li></ul></blockquote><p><font color=7bafa6 size=2>è‡ªæ—‹é”ï¼šåœ¨ç”¨æˆ·æ€è§£å†³é—®é¢˜ï¼Œä¸ç»è¿‡å†…æ ¸æ€ã€‚</font></p><p><font color=7bafa6 size=2>æ‰§è¡Œæ—¶é—´é•¿çš„ç”¨ç³»ç»Ÿé”ï¼Œï¼ˆåŠ é”ä»£ç ï¼‰æ‰§è¡Œæ—¶é—´ç‰¹åˆ«çŸ­ï¼Œçº¿ç¨‹è¾ƒå°‘ï¼Œç”¨è‡ªæ—‹é”ã€‚</font></p><hr><p><br><br></p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><hr><ul><li>Lock( )   CASä½¿ç”¨è‡ªæ—‹</li><li>synchronized æ˜¯ä¸€ç§é”ï¼Œå…¶é”çš„ç›®æ ‡æ˜¯ å¯¹è±¡ è€Œä¸æ˜¯çº¿ç¨‹ / è¿›ç¨‹ï¼ˆç”¨å¯¹è±¡ä»£æ›¿è¿›ç¨‹æ›´æ˜“æ“ä½œï¼‰</li><li>è¢«é”çš„å¯¹è±¡ å¿…é¡»æ˜¯ Object ç±»å‹ï¼Œä¸èƒ½æ˜¯ String æˆ–å…¶ä»–å¯¹è±¡</li><li>é”ç”³è¯·èµ„æºçš„æ—¶å€™ä¸€å®šæ˜¯    ï¼šä¹è§‚é”</li><li>é”ç¬¬ä¸€æ¬¡å‡çº§çš„æ—¶å€™ä¸€å®šæ˜¯ï¼šè‡ªæ—‹é”ï¼ˆè‡ªæ—‹åæ¬¡ï¼Œè€—CPUï¼Œä¸èµ°å†…æ ¸ï¼‰</li><li>é”ç¬¬äºŒæ¬¡å‡çº§çš„æ—¶å€™ä¸€å®šæ˜¯ï¼šé‡é‡çº§é”ï¼ˆå†…æ ¸æ€ï¼Œè€—å†…æ ¸ã€è€—æ—¶ï¼Œä¸è€—CPUï¼‰</li></ul><hr><p><br><br><br><br></p><h3 id="å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘-2-ä»£ç ä¼˜åŒ–-åŠ-volatileä¿®é¥°-ç¯‡"><a href="#å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘-2-ä»£ç ä¼˜åŒ–-åŠ-volatileä¿®é¥°-ç¯‡" class="headerlink" title="å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘ 2  ä»£ç ä¼˜åŒ– åŠ volatileä¿®é¥° ç¯‡"></a>å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘ 2  ä»£ç ä¼˜åŒ– åŠ volatileä¿®é¥° ç¯‡</h3><hr><p><br><br></p><h4 id="volatile-æŒ‡ä»¤ä»‹ç»"><a href="#volatile-æŒ‡ä»¤ä»‹ç»" class="headerlink" title="volatile æŒ‡ä»¤ä»‹ç»"></a>volatile æŒ‡ä»¤ä»‹ç»</h4><p><font color=DarkGray size=2>åå‘é”  &gt;  å¾ªç¯é”  &gt;  é‡é‡çº§é”</font></p><hr><blockquote><ul><li><p>æŒ‡ä»¤ä»‹ç»</p><ul><li>volatile // å¯å˜çš„ï¼Œæ˜“å˜çš„</li></ul></li><li><p>æŒ‡ä»¤åŠŸèƒ½</p><ul><li><p>ä¿è¯çº¿ç¨‹å¯è§æ€§ï¼Œç¦æ­¢æŒ‡ä»¤é‡æ’åºã€‚</p></li><li><p><font color=#f890>ä¿è¯çº¿ç¨‹å¯è§æ€§ï¼š</font>ä¸€ä¸ªç±»çš„å€¼ç»™ä¸¤ä¸ªç±»åŒæ—¶è°ƒç”¨ï¼Œé‡Œé¢çš„å˜é‡æ”¹å˜åæ— æ³•è½»æ˜“å‘ç°ï¼ˆçº¿ç¨‹ä¹‹é—´ä¸å¯è§ï¼‰ã€‚</p><p>volatileå¯ä»¥è®©ä¸€ä¸ªçº¿ç¨‹å‘ç”Ÿæ”¹å˜ä¹‹åï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯ä»¥é©¬ä¸ŠçŸ¥é“ã€‚</p><p>// åŸç†ï¼šCPUçš„ç¼“å­˜ä¸€è‡´æ€§åè®®ã€‚</p></li><li><p><font color=#f890>ç¦æ­¢æŒ‡ä»¤é‡æ’åºï¼š</font>CPUè¿¸å‘æ‰§è¡ŒæŒ‡ä»¤ï¼Œæ‰€ä»¥ä¼šå¯¹æŒ‡ä»¤é‡æ–°æ’åºï¼ŒåŠ äº†volatileæ¥ä¿è¯é‡æ’åºã€‚</p></li></ul></li></ul></blockquote><hr><p><br><br></p><h4 id="ä¸¾ä¾‹ä»‹ç»-åŠ-ä»£ç ä¼˜åŒ–"><a href="#ä¸¾ä¾‹ä»‹ç»-åŠ-ä»£ç ä¼˜åŒ–" class="headerlink" title="ä¸¾ä¾‹ä»‹ç» åŠ ä»£ç ä¼˜åŒ–"></a>ä¸¾ä¾‹ä»‹ç» åŠ ä»£ç ä¼˜åŒ–</h4><hr><ul><li><font color=#f890>é¥¿æ±‰å¼</font>ï¼šï¼ˆå®šä¹‰ç±»çš„æ—¶å€™å°±å®ä¾‹åŒ–æ–¹æ³•ï¼‰</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Mgr01</span><span class="token punctuation">&#123;</span>  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Mgr01</span> INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mgr01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">private</span> <span class="token class-name">Mgr01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Mgr01</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> INSTANCE<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"m"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Mgr01</span> m1 <span class="token operator">=</span> <span class="token class-name">Mgr01</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Mgr01</span> m2 <span class="token operator">=</span> <span class="token class-name">Mgr01</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m1 <span class="token operator">==</span> m2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ul><li><font color=#f890>æ‡’æ±‰å¼ï¼š</font>ä»€ä¹ˆæ—¶å€™è°ƒç”¨æ–¹æ³•ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–ï¼ˆç±»ä¼¼äºæ‡’åŠ è½½ï¼‰</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Lazy</span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">Lazy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token comment">//é»˜è®¤ä¸ä¼šå®ä¾‹åŒ–ï¼Œä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆæ—¶å€™new</span>        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Lazy</span> lazy<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">Lazy</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>lazy<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                lazy<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Lazy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> lazy<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><table><thead><tr><th align="center"></th><th align="center">é¥¿æ±‰å¼</th><th align="center">æ‡’æ±‰å¼</th></tr></thead><tbody><tr><td align="center">å®‰å…¨</td><td align="center">âˆš</td><td align="center"></td></tr><tr><td align="center">èŠ‚çœå†…å­˜</td><td align="center"></td><td align="center">âˆš</td></tr></tbody></table><ul><li>æ‡’æ±‰é¥¿æ±‰åˆå¹¶ï¼š</li></ul><blockquote><p>ç±»çš„å®šä¹‰ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Mgr01</span><span class="token punctuation">&#123;</span><span class="token keyword">private</span> <span class="token comment">/*volatile*/</span> <span class="token keyword">static</span> <span class="token class-name">Mgr0x</span> INSTANCE<span class="token punctuation">;</span><span class="token keyword">private</span> <span class="token class-name">Mgr0x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Mgr01</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//ä»¥ä¸‹æ‰€æœ‰ä»£ç å†™çš„éƒ½æ˜¯è¿™ä¸€ä¸ªæ–¹æ³•</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=#f890>ä»¥ä¸‹æ‰€æœ‰æ–¹æ³•å†™çš„éƒ½æ˜¯ä¸Šé¢çš„ <code>getInstanceï¼ˆï¼‰</code>æ–¹æ³•ã€‚</font></p><p><font color=7baf23 size=3>ä»¥ä¸Šæ–¹æ³•æ²¡æœ‰åŠ <code>volatile</code>ï¼Œæœ€åä¼šå†™ä¸Šã€‚</font></p><hr><ul><li>ç›´æ¥åˆ¤æ–­null</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºç©º ç„¶åå†é‚£å•¥ï¼š</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Mgr03</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>INSTANCE <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span><span class="token punctuation">&#123;</span>            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruotedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mgr03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> INSTANCE<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=#f123 size=2>  â†‘   â†‘   â†‘   â†‘    â†‘ è¿™æ˜¯ä¸€ç§é”™è¯¯çš„ä¹¦å†™æ–¹å¼ï¼Œè‡ªå·±æŠ¿ï¼›</font></p><ul><li>å…ˆé”å†null</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token class-name">Mgr04</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>INSTANCE <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span><span class="token punctuation">&#123;</span>            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruotedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mgr04</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> INSTANCE<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=7baf23 size=2>  â†‘   â†‘   â†‘   â†‘    â†‘ ä¿®æ”¹æ­£ç¡®ï¼Œä½†æ˜¯è¿èƒŒäº†  <font color=#f890 size=3>èƒ½ä¸åŠ é”å°±ä¸åŠ é”</font>  åŸåˆ™ã€‚</font></p><ul><li>é”ç»†åŒ–ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Mgr05</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>INSTANCE <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">Mgr05</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">try</span><span class="token punctuation">&#123;</span>                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruotedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mgr05</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> INSTANCE<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=#f123 size=2>  â†‘   â†‘   â†‘   â†‘    â†‘ è¿™ä¹Ÿæ˜¯ä¸€ç§é”™è¯¯çš„ä¹¦å†™æ–¹å¼ï¼ˆé‡å¤åˆå§‹åŒ–ï¼‰ï¼›</font></p><ul><li>åŒé‡æ£€æŸ¥ï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Mgr05</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>INSTANCE <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">Mgr05</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>INSTANCE <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">try</span><span class="token punctuation">&#123;</span>                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruotedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mgr05</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> INSTANCE<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=7baf23 size=2>  â†‘   â†‘   â†‘   â†‘    â†‘ ä¿®æ”¹æ­£ç¡®â€¦â€¦.è€Œä¸”é”ä¸åŠ è½½å¤–é¢ï¼Œæ•ˆç‡å¢é«˜~~</font></p><ul><li><font color=#ff452>å…³äº<code>volatile</code>(ä¸»è¦æ˜¯   <font size=5 color=#f890><code>æŒ‡ä»¤é‡æ’åº</code>   </font>)è¶…é«˜è¶…é«˜è¿¸å‘çš„æƒ…å†µå¯èƒ½ä¼šå‘ç”Ÿï¼š</font></li></ul><blockquote><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// newå¯¹è±¡çš„ä¸‰æ­¥</span>INSTANCE <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mgr06</span>ï¼ˆï¼‰<span class="token punctuation">;</span><span class="token number">1.</span> ç”³è¯·å†…å­˜å¹¶ç»™åˆå§‹å€¼ï¼ˆ<span class="token keyword">int</span> <span class="token operator">=</span> <span class="token number">0</span>ï¼Œ<span class="token class-name">String</span> <span class="token operator">=</span> <span class="token keyword">null</span>ï¼›ï¼‰<span class="token number">2.</span> ä¿®æ”¹å€¼<span class="token number">3.</span> å°†å€¼ç»™å¯¹è±¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=7baf23 size=2>åŠ  <code>volatile</code> é˜²æ­¢ç¬¬äºŒæ­¥ç¬¬ä¸‰æ­¥ä¼šé¢ å€’ï¼›</font></p><ul><li>ä¸€ä¸ªæ±‚ç»“æœæ˜¯ 100000 çš„å°ç¨‹åº</li></ul></blockquote><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">&#123;</span>    <span class="token keyword">volatile</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// åŠ ä¸Švilatile</span>    <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">// åŠ ä¸Š synchronized</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10000</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>count<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">T</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Thread</span><span class="token punctuation">></span></span> threads <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArraysList</span><span class="token operator">&lt;</span><span class="token operator">~</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            threads<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>t<span class="token operator">::</span><span class="token function">m</span><span class="token punctuation">,</span><span class="token string">"threads-"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        threads<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token operator">-></span>o<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        threads<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>          <span class="token keyword">try</span><span class="token punctuation">&#123;</span>              o<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>              e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=#f890 size=2>åªæœ‰åŠ ä¸Šäº† synchronized &amp; volatile æ‰èƒ½è¿è¡Œå‡ºæ­£ç¡®ç»“æœï¼Œå…¶ä¸­ synchronized ç”¨æ¥ä¿è¯<code>åŸå­æ€§</code>ã€‚</font></p></blockquote><hr><p><br><br></p><h4 id="é”ä¼˜åŒ–åœºæ™¯"><a href="#é”ä¼˜åŒ–åœºæ™¯" class="headerlink" title="é”ä¼˜åŒ–åœºæ™¯"></a>é”ä¼˜åŒ–åœºæ™¯</h4><hr><ul><li>é”åŠ›åº¦å˜å°ï¼ˆäº‰ç”¨ä¸æ˜¯å¾ˆæ¿€çƒˆçš„è¯ï¼‰</li></ul><blockquote><p>å¦‚æœæœ‰ä¸€ç¾¤è¦äº‰ç”¨çš„ä»£ç ï¼Œé‚£ä¹ˆå¯ä»¥å°†æ–¹æ³•ä¸Šçš„ synchronized å†™åˆ° count++ ä¸Šï¼›</p></blockquote><ul><li>é”åŠ›åº¦å˜å¤§ï¼ˆäº‰ç”¨å¾ˆæ¿€çƒˆå¾ˆé¢‘ç¹çš„è¯ï¼‰</li></ul><blockquote><p>å‡å¦‚ä¸€ä¸ªæ–¹æ³•é‡Œé¢ æ€»å…± 20 è¡Œä»£ç ï¼ŒåŠ äº†19ä¸ªé”ï¼Œé‚£ä¸å¦‚ç›´æ¥ç”¨ä¸€ä¸ªå¤§çš„é”ã€‚</p></blockquote><hr><p><br><br></p><h4 id="é”çš„å¯¹è±¡è¢«è°ƒç”¨"><a href="#é”çš„å¯¹è±¡è¢«è°ƒç”¨" class="headerlink" title="é”çš„å¯¹è±¡è¢«è°ƒç”¨"></a>é”çš„å¯¹è±¡è¢«è°ƒç”¨</h4><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token operator">=</span> <span class="token class-name">T</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Object</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é”™è¯¯ä¿®æ”¹ç‚¹</span>        <span class="token keyword">synchronized</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token function">sout</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">zbc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">T</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        t<span class="token punctuation">.</span>o <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=#f123 size=2>â†‘   â†‘   â†‘  ä»¥ä¸Šä»£ç é”™è¯¯ï¼</font><font color=7baf23 size=2>ä»¥ä¸‹ä¸ºä¿®æ”¹ â†“   â†“   â†“</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">final</span> <span class="token class-name">Object</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><br><br></p><h4 id="æœ‰äº›ç±»åœ¨åˆ›å»ºçš„æ—¶å€™ç›´æ¥åŠ äº†é”"><a href="#æœ‰äº›ç±»åœ¨åˆ›å»ºçš„æ—¶å€™ç›´æ¥åŠ äº†é”" class="headerlink" title="æœ‰äº›ç±»åœ¨åˆ›å»ºçš„æ—¶å€™ç›´æ¥åŠ äº†é”"></a>æœ‰äº›ç±»åœ¨åˆ›å»ºçš„æ—¶å€™ç›´æ¥åŠ äº†é”</h4><hr><blockquote><p>Atomic å¼€å¤´çš„ ( <code>AtomicInteger  count = new AtomicInteger( );</code>  // è®©countè¿›è¡ŒåŸå­æ€§åŠ å‡)</p></blockquote><hr><p><br><br></p><h4 id="CAS-Compare-And-Set-æ— é”ä¼˜åŒ–-ä¹è§‚é”"><a href="#CAS-Compare-And-Set-æ— é”ä¼˜åŒ–-ä¹è§‚é”" class="headerlink" title="CAS ( Compare And Set ) æ— é”ä¼˜åŒ– ä¹è§‚é”"></a>CAS ( Compare And Set ) æ— é”ä¼˜åŒ– ä¹è§‚é”</h4><p><font color=#f890 size=2>åœ¨è¯·æ±‚çš„æ—¶å€™å°±ä¹è§‚çš„è®¤ä¸º ä»£ç é‡Œçš„å€¼å°±æ˜¯æˆ‘çš„æœŸæœ›å€¼</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">cas <span class="token punctuation">(</span><span class="token class-name">V</span> <span class="token punctuation">,</span><span class="token class-name">Expected</span><span class="token punctuation">,</span><span class="token class-name">NewValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> ï¼ˆ<span class="token class-name">V</span> <span class="token operator">==</span> <span class="token class-name">Expected</span>ï¼‰<span class="token punctuation">&#123;</span>        <span class="token class-name">V</span> <span class="token operator">=</span> <span class="token class-name">NewValue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>        tryAgain or fail<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=7baf23 size=2>â†‘   â†‘   â†‘  ä»¥ä¸Šæ˜¯åœ¨CPU åŸè¯­ä¸Šçš„æ”¯æŒï¼Œä¸èƒ½è¢«æ‰“æ–­ã€‚</font></p><hr><p><br><br></p><h4 id="ABA-é—®é¢˜ï¼ˆä¸å‰å¥³å‹å¤åˆä¹‹åï¼Œå…¶å®å¥¹å·²ç»ç»å†äº†nä¸ªç”·äººï¼›ï¼‰"><a href="#ABA-é—®é¢˜ï¼ˆä¸å‰å¥³å‹å¤åˆä¹‹åï¼Œå…¶å®å¥¹å·²ç»ç»å†äº†nä¸ªç”·äººï¼›ï¼‰" class="headerlink" title="ABA é—®é¢˜ï¼ˆä¸å‰å¥³å‹å¤åˆä¹‹åï¼Œå…¶å®å¥¹å·²ç»ç»å†äº†nä¸ªç”·äººï¼›ï¼‰"></a><code>ABA</code> é—®é¢˜ï¼ˆä¸å‰å¥³å‹å¤åˆä¹‹åï¼Œå…¶å®å¥¹å·²ç»ç»å†äº†<code>nä¸ª</code>ç”·äººï¼›ï¼‰</h4><hr><p>æœ‰ä¸ªå¯¹è±¡ object == 1ï¼›æƒ³ä½¿ç”¨<code>cas</code>æŠŠå®ƒå˜æˆ2:</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token function">cas</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ²¡æœ‰çº¿ç¨‹è¿›è¡Œæ“ä½œï¼Œå¯ä»¥è¿›è¡Œæ›´æ”¹</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><font color=#f890 size=2>å¦‚æœåœ¨æ›´æ”¹çš„æ—¶å€™æœ‰ä¸€ä¸ªçº¿ç¨‹ç»™ object æ”¹æˆäº†2ï¼Œç„¶ååˆæ”¹æˆäº† 1 ï¼›åœ¨åŸºç¡€ç±»å‹ï¼ˆå¦‚ï¼šintï¼‰æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯ <code>Object</code> å¯¹è±¡æœ‰å½±å“ï¼›</font></p><p><font color=7baf23 size=2>è§£å†³æ–¹æ³•ï¼šåš <code>cas</code> çš„æ—¶å€™åŠ ä¸ªç‰ˆæœ¬å·ï¼š</font>version</p><p><font color=7baf23 size=2>è§£å†³æ–¹æ³•ï¼šä½¿ç”¨</font>  AutomicStampedReference ( unsafe ä»€ä¹ˆæ—¶å€™è°ƒç”¨ä»€ä¹ˆæ—¶å€™è¿”å›è¿™ä¸ªå€¼ )</p><hr><p><br><br></p><h4 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h4><hr><ul><li>ä»€ä¹ˆæ˜¯ volatile ï¼Ÿ å®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</li><li>ä»€ä¹ˆæ˜¯ synchronized ï¼Ÿ ä»€ä¹ˆæ˜¯ CAS ï¼Ÿä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåˆ†åˆ«åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨ï¼Ÿ</li><li>ä»€ä¹ˆæ—¶å€™è¦å¯¹é”è¿›è¡Œç»†åŒ–ï¼Ÿä»€ä¹ˆ æ—¶å€™è¿›è¡Œæ³›åŒ–ï¼Ÿ</li><li>ä»€ä¹ˆæ˜¯ ABA é—®é¢˜ï¼Ÿæœ‰ä»€ä¹ˆå½±å“ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ</li></ul><hr><p><br><br><br><br><br></p><h3 id="å„å¼é”çš„å®é™…åº”ç”¨"><a href="#å„å¼é”çš„å®é™…åº”ç”¨" class="headerlink" title="å„å¼é”çš„å®é™…åº”ç”¨"></a>å„å¼é”çš„å®é™…åº”ç”¨</h3><p><font color=DarkGray size=2>å…¬å¹³é”ï¼Ÿä¸å…¬å¹³é”ï¼Ÿä¹è§‚é”ï¼Ÿæ‚²è§‚é”ï¼Ÿè‡ªæ—‹é”ï¼Ÿé‡é‡çº§é”ï¼Ÿè¯»å†™é”ï¼Ÿ</font></p><hr><p><br><br></p><h4 id="ä¹è§‚é”-cas"><a href="#ä¹è§‚é”-cas" class="headerlink" title="ä¹è§‚é” cas"></a>ä¹è§‚é” <a href="https://blog.csdn.net/ln_6am/article/details/85642853?ops_request_misc=%25257B%252522request%25255Fid%252522%25253A%252522160891401516780271139209%252522%25252C%252522scm%252522%25253A%25252220140713.130102334..%252522%25257D&request_id=160891401516780271139209&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-85642853.first_rank_v2_pc_rank_v29&utm_term=cas">cas</a></h4><p><font color=DarkGray size=2>ï¼ˆè¦æ”¹çš„å¯¹è±¡ï¼ŒæœŸæœ›çš„å€¼ï¼Œè¦ç»™çš„å€¼ï¼‰æ— é”æ“ä½œï¼Œå…¶å®æ˜¯ä¸€ä¸ªä¹è§‚é”â€¦â€¦casæœ¬èº«å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªé”ï¼›</font></p><hr><ul><li>automic ï¼š ä¸€ç§ä½¿ç”¨ cas å®ç°çš„åŸå­æ€§æ“ä½œï¼ˆä¸Šç¯‡ä¸­æè¿‡ï¼‰</li></ul><hr><p><br><br></p><h4 id="åŸå­æ“ä½œçš„ç®€å•æ–¹æ³•ï¼š"><a href="#åŸå­æ“ä½œçš„ç®€å•æ–¹æ³•ï¼š" class="headerlink" title="åŸå­æ“ä½œçš„ç®€å•æ–¹æ³•ï¼š"></a>åŸå­æ“ä½œçš„ç®€å•æ–¹æ³•ï¼š</h4><hr><table><thead><tr><th>å‡½æ•°</th><th>æ•ˆæœ</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>AtomicInteger a = new AtomicInteger(0);</td><td>int a = 0;</td><td>åˆ›å»ºå¯¹è±¡aå¹¶ä¸”èµ‹åˆå€¼ä¸º0ï¼›</td></tr><tr><td>a.incrementAndGet(   )ï¼›</td><td>i++;</td><td>å¯¹åŸå€¼+1åè¿”å›ï¼›</td></tr><tr><td>a.getAndIncrement(   )ï¼›</td><td>++iï¼›</td><td>å¯¹åŸå€¼è¿”å›å+1ï¼›</td></tr><tr><td>a.addAndGet(i);</td><td>a+=i;</td><td>è¿”å›a+iï¼›</td></tr><tr><td>a.getAndAdd(i);</td><td>a+=i;</td><td>è¿”å›åŸå€¼ä¹‹åç»™a+iï¼›</td></tr></tbody></table><p><font color = green>åœ¨çº¿ç¨‹å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼šLongAdderï¼ˆåˆ†æ®µé”ï¼šåœ¨çº¿ç¨‹å¤šçš„æ—¶å€™æœ‰ä¼˜åŠ¿ï¼‰ &gt; Atomic &gt; synchronizedã€‚</font></p><hr><p><br><br></p><h4 id="Synchronized-çš„å¯é‡å…¥æ€§ï¼š"><a href="#Synchronized-çš„å¯é‡å…¥æ€§ï¼š" class="headerlink" title="Synchronized çš„å¯é‡å…¥æ€§ï¼š"></a>Synchronized çš„å¯é‡å…¥æ€§ï¼š</h4><hr><blockquote><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//å¯é‡å…¥ï¼š</span><span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">try</span><span class="token punctuation">&#123;</span><span class="token class-name">TimeUtil</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç¡ä¸€ç§’</span><span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sout</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">m2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">sout</span><span class="token punctuation">(</span><span class="token string">"m2..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token class-name">T01_ReentrantLock1</span> r1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">T01_ReentrantLock1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r1<span class="token operator">::</span><span class="token function">m1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">try</span><span class="token punctuation">&#123;</span><span class="token class-name">TimeUtil</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç¡ä¸€ç§’</span><span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r1<span class="token operator">::</span><span class="token function">m2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><blockquote><p>è¾“å‡ºç»“æœï¼š0 1 23 4 5 6 7 8 9 m2â€¦</p></blockquote><p>ä»£ç ä¿®æ”¹ï¼šsynchronized</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//å¯é‡å…¥ï¼š</span><span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">try</span><span class="token punctuation">&#123;</span>    <span class="token class-name">TimeUtil</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç¡ä¸€ç§’</span>    <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token function">sout</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r1<span class="token operator">::</span><span class="token function">m2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">m2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">sout</span><span class="token punctuation">(</span><span class="token string">"m2..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token class-name">T01_ReentrantLock1</span> r1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">T01_ReentrantLock1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r1<span class="token operator">::</span><span class="token function">m1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">try</span><span class="token punctuation">&#123;</span>    <span class="token class-name">TimeUtil</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç¡ä¸€ç§’</span>  <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><blockquote><p> è¾“å‡ºç»“æœï¼š0 1 2 m2 â€¦ 3 4 5 6 7 8 9</p></blockquote></blockquote><hr><p><br><br></p><h4 id="lock-æ›¿ä»£-synchronized-çš„æ–¹æ³•"><a href="#lock-æ›¿ä»£-synchronized-çš„æ–¹æ³•" class="headerlink" title="lock():æ›¿ä»£ synchronized çš„æ–¹æ³•;"></a><code>lock()</code>:æ›¿ä»£ synchronized çš„æ–¹æ³•;</h4><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Lock</span> lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><ul><li><p>ç‰¹ç‚¹ï¼š</p><ul><li>éœ€è¦æ‰‹åŠ¨ä¸Šé” <code>lock.lock( );</code></li><li>éœ€è¦æ‰‹åŠ¨è§£é”<code>lock.unlock( )</code>;</li><li>é˜²æ­¢è¿›ç¨‹å‡ºé”™è€Œå¯¼è‡´æ­»é”ï¼Œéœ€è¦<code>try&#123; â€¦â€¦ &#125;catch( )&#123; â€¦â€¦ &#125;</code></li></ul><hr></li><li><p>ä¼˜ç‚¹ï¼š</p><ul><li><p>å¯ä»¥ä½¿ç”¨<code>tryLock()</code>å°è¯•ä¸Šé”ï¼›</p></li><li><p>å½“ <code>synchronized</code>é‡åˆ°é”ä¹‹ååªèƒ½ç­‰å¾…ï¼Œè€Œ<code>tryLock()</code>å¯ä»¥è‡ªå®šä¹‰ç­‰å¾…æ—¶é—´ï¼›</p></li><li><p>```java<br>locked = lock.tryLock(SECONDS(æ—¶é—´é•¿åº¦),TimeUtil.SECONDSï¼ˆæ—¶é—´æ ¼å¼ï¼šç§’ï¼‰);</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">  ----- å¸¸ç”¨æ–¹æ³•ï¼š| æ–¹æ³•                          | å‚æ•°                 | ç”¨æ³•                                                         || ----------------------------- | -------------------- | ------------------------------------------------------------ || .lock( );                     | null                 | é”å®š                                                         || .unlock( );                   | null                 | é‡Šæ”¾                                                         || .tryLock(n,TimeUtil.SECONDS); | æ—¶é—´é•¿åº¦&lt;br&gt;æ—¶é—´å•ä½ | ç­‰å¾…&#96;å‚æ•°&#96;æ—¶é—´è¿‡ç¨‹ä¸­:&lt;br&#x2F;&gt;å¦‚æœå½“å‰è¿›ç¨‹é‡Šæ”¾äº†ï¼Œåˆ™é”å®š;&lt;br&#x2F;&gt;ä¸é‡Šæ”¾åˆ™ä¸é”å®šï¼› || .lockInterruptibly( );        | nullï¼›               | å¯ä»¥ç›¸åº”è¢«æ‰“æ–­çš„é”ï¼›                                         || .interrupt( );                | Null;                | æ‰“æ–­è¿™ä¸ªé”ï¼›                                                 |-----&lt;br&gt;&lt;br&gt;#### å…¬å¹³é”&lt;font size&#x3D;2&gt;ReetrantLock lock &#x3D; new ReentrantLock( &lt;font color&#x3D;#f890&gt;true&lt;&#x2F;font&gt; );&lt;&#x2F;font&gt;----- æ¦‚å¿µï¼š  - å½“æ‰§è¡Œé˜Ÿåˆ—ä¸­æœ‰çº¿ç¨‹æ­£åœ¨æ’é˜Ÿçš„æ—¶å€™ï¼š    - å…¬å¹³é”ï¼šç»§ç»­ç­‰å¾…ï¼Œæ’é˜Ÿæ‰§è¡Œï¼›    - ä¸å…¬å¹³é”ï¼šä¸ç­‰å¾…ï¼Œç›´æ¥æŠ¢ï¼Œæœ‰å¯èƒ½æŠ¢åˆ°ç¬¬ä¸€ä¸ªæ‰§è¡Œï¼›- åˆ›å»ºæ–¹å¼ï¼š  - åœ¨åˆ›å»ºé”çš„æ—¶å€™åŠ ä¸ª &#96;true&#96; åˆ›å»ºå‡ºæ¥çš„å°±æ˜¯å…¬å¹³é”ï¼›&#96;&#96;&#96;javapublic class T05_ReentrantLock extends Thread()&#123;private stratic ReentrantLock lock &#x3D; new ReentrantLock(true);  public void run()&#123;    for(int i &#x3D; 0;i&lt;100;i++)&#123;      lock.lock();      try&#123;        Sout(Thread.currentThread().getName()+&quot;è·å¾—é”&quot;);      &#125;finally&#123;        lock.unlock();      &#125;    &#125;  &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li></ul></li></ul><p><br><br></p><h4 id="ä¸€ä¸ªå€’è®¡æ—¶çš„é—¨æ “-CountDownLatch"><a href="#ä¸€ä¸ªå€’è®¡æ—¶çš„é—¨æ “-CountDownLatch" class="headerlink" title="ä¸€ä¸ªå€’è®¡æ—¶çš„é—¨æ “ CountDownLatch"></a>ä¸€ä¸ªå€’è®¡æ—¶çš„é—¨æ “ <code>CountDownLatch</code></h4><hr><p><code>CountDownLatch latch  = CountDownLatch( threads.length ); </code>    //åˆ›å»ºä¸€ä¸ªlengthé•¿åº¦çš„é—¨æ “</p><p><code>.await()</code>   é˜»å¡</p><p><code>åŸjoin()</code>    å½“å‰çº¿ç¨‹ç»“æŸè‡ªåŠ¨å¾€å‰èµ°</p><p><code>.countDown()</code>   åŸå­æ€§â€“</p><hr><p><br><br></p><h4 id="æ …æ å·¥å…·-CyclicBarrier"><a href="#æ …æ å·¥å…·-CyclicBarrier" class="headerlink" title="æ …æ å·¥å…· CyclicBarrier"></a>æ …æ å·¥å…· <code>CyclicBarrier</code></h4><p><font color=#dgreen size=2>å¾ªç¯æ …æ å·¥å…·</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ä¸€ä¸ªå‚æ•°ï¼šä¸åˆ°20çš„æ—¶å€™ï¼Œç­‰å¾…ï¼Œåˆ°äº†20ä¸ªï¼Œè¿™20ä¸ªå‘è½¦ï¼Œå†æ¥çš„ç»§ç»­ç­‰å¾…</span><span class="token class-name">CyclicBarrier</span> barrier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CyclicBarrier</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä¸¤ä¸ªå‚æ•°ï¼š</span><span class="token class-name">CyclicBarrier</span> barrier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CyclicBarrier</span><span class="token punctuation">(</span><span class="token number">20</span>ï¼Œrun<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"æ»¡å‘˜ï¼Œå‘è½¦ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token comment">//lambdo è¡¨è¾¾å¼</span><span class="token class-name">CyclicBarrier</span> barrier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CyclicBarrier</span><span class="token punctuation">(</span><span class="token number">20</span>ï¼Œ<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"æ»¡å‘˜ï¼Œå‘è½¦ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><br><br></p><h4 id="åŒæ­¥è¿›è¡Œçš„-Phaser"><a href="#åŒæ­¥è¿›è¡Œçš„-Phaser" class="headerlink" title="åŒæ­¥è¿›è¡Œçš„ Phaser"></a>åŒæ­¥è¿›è¡Œçš„ Phaser</h4><p><font size=2>æŒ‰ç…§ä¸åŒçš„é˜¶æ®µå¯¹çº¿ç¨‹è¿›è¡Œåˆ’åˆ†ã€‚</font></p><hr><ul><li><p>ä½¿ç”¨åœºæ™¯ï¼š</p><ul><li>é—ä¼ ç®—æ³•</li><li>ç°å®ç”Ÿæ´»ä¸€æ­¥ä¸€æ­¥æ‰§è¡Œçš„åœºæ™¯ï¼ˆå¦‚ï¼šå©šç¤¼ï¼‰</li><li>åƒæ˜¯ä¸€ä¸ªä¸€ä¸ªæ …æ ä¸€æ ·</li></ul><hr></li><li><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><ul><li><p>è‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œç»§æ‰¿ <code>Phaser</code>ç±»ï¼›</p><p><code>static class MarrigePhaser extends Phaser</code></p></li><li><p>é‡å†™<code>onAdvance</code>æ–¹æ³•ï¼›ï¼ˆæ …æ è¢«æ¨å€’çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ï¼‰</p><p><code>protected boolean onAdvance(int phase,int registeredParties)</code></p></li></ul><hr></li><li><p>æ–¹æ³•ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">phaser<span class="token punctuation">.</span><span class="token function">arriveAndAwaitAdvance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰§è¡Œç»“æŸï¼Œå¼€å§‹ç­‰å¾…ï¼›</span>phaser<span class="token punctuation">.</span><span class="token function">arriveAndDeregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰§è¡Œç»“æŸï¼Œä¸è¿›å…¥ä¸‹ä¸€é˜¶æ®µï¼›</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></li></ul><p><br><br></p><h4 id="è¯»å†™é”"><a href="#è¯»å†™é”" class="headerlink" title="è¯»å†™é”"></a>è¯»å†™é”</h4><p><font size=2>ç¨‹åºä¸­çš„è¯»å†™é”ï¼ˆä¸€ç§æ’ä»–é”ã€å…±äº«é”ï¼‰</font></p><hr><ul><li><p>æ¦‚å¿µ</p><ul><li>å½“<code>A</code>è¿›ç¨‹åœ¨è¯»å–<code>ABCD</code>çš„æ—¶å€™ï¼Œ<code>B</code>è¿›ç¨‹ä¹Ÿæ¥è¯»å–<code>ABCD</code>ï¼ŒåŒæ—¶å‘ç°<code>A</code>è¿›ç¨‹åœ¨è¯»å–ï¼Œåˆ™è¯»å–æˆåŠŸï¼›</li><li>å½“<code>A</code>è¿›ç¨‹åœ¨<font color=7baf23>è¯»å–</font><code>ABCD</code>çš„æ—¶å€™ï¼Œ<code>B</code>è¿›ç¨‹æ¥<font color=#f890>ä¿®æ”¹</font><code>ABCD</code>ï¼ŒåŒæ—¶å‘ç°<code>A</code>è¿›ç¨‹åœ¨è¯»å–ï¼Œè‹¥æ­¤æ—¶æ›´æ”¹<code>ABCD</code>çš„å†…å®¹ï¼Œåˆ™<code>A</code>è¿›ç¨‹è¯»å–ä¼šå‡ºé—®é¢˜ï¼Œæ‰€ä»¥ä¿®æ”¹å¤±è´¥ï¼›</li><li><strong>æ€»ç»“ï¼š</strong>ä¸¤ä¸ªéƒ½æ˜¯<font color=7baf23>è¯»å–</font>çš„è¿›ç¨‹å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œå½“æœ‰ è¯» è¿›ç¨‹åœ¨è¿›è¡Œæ—¶ï¼Œ<font color=red>æ— æ³•</font>è¿›è¡Œ <font color=red>å†™</font> è¿›ç¨‹ï¼Œå†™åŒç†ï¼›</li></ul></li><li><p>ä½œç”¨</p><ul><li>é¿å… / å‡å°‘ è„æ•°æ®</li></ul></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">static</span> <span class="token class-name">ReadWriteLoak</span> readWriteLock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantReadWriteLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åœ¨ ReentrantReadWriteLock ä¸­ åˆ†å‡ºä¸€ä¸ª `readLock`ä¸€ä¸ª`writeLock`</span><span class="token keyword">static</span> <span class="token class-name">Lock</span> readLock <span class="token operator">=</span> readWriteLock<span class="token punctuation">.</span><span class="token function">readLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">static</span> <span class="token class-name">Lock</span> writeLock <span class="token operator">=</span> readWriteLock<span class="token punctuation">.</span><span class="token function">writeLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token class-name">Lock</span> lock<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">try</span><span class="token punctuation">&#123;</span>        lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"read over!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ¨¡æ‹Ÿè¯»å–è¿‡ç¨‹</span>    <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        e<span class="token punctuation">.</span><span class="token function">peintStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">finally</span><span class="token punctuation">&#123;</span>        lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">Lock</span> lock<span class="token punctuation">,</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">try</span><span class="token punctuation">&#123;</span>        lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"write "</span><span class="token operator">+</span> a <span class="token operator">+</span><span class="token string">"over!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ¨¡æ‹Ÿè¯»å–è¿‡ç¨‹</span>    <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        e<span class="token punctuation">.</span><span class="token function">peintStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">finally</span><span class="token punctuation">&#123;</span>        lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Runnable</span> readR <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">read</span><span class="token punctuation">(</span>lock<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//Runnable readR = ()->read(readLock);</span>        <span class="token class-name">Runnable</span> write <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">write</span><span class="token punctuation">(</span>lock<span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">18</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>readR <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">2</span> <span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>writeR<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>// å¦‚æœä½¿ç”¨ <code>ReentrantLock</code>çš„è¯ï¼Œä»¥ä¸Šä»£ç åœ¨æ‰§è¡Œ<code>è¯»</code>çš„æ—¶å€™ä¹Ÿéœ€è¦ç­‰å¾…ä¸€ç§’ï¼›</p><p>// è§£å†³æ–¹æ³•ï¼šå°†<code>Main</code>æ–¹æ³•ä¸­çš„<code>è¯»</code>é”æ¢æˆ`Runnable readR = ()-&gt; read(readLock);<br></p><br><hr><p><br><br></p><h4 id="Semaphore-ä¸€ä¸ªæœ‰æ„æ€çš„çº¿ç¨‹æ± "><a href="#Semaphore-ä¸€ä¸ªæœ‰æ„æ€çš„çº¿ç¨‹æ± " class="headerlink" title="Semaphore ä¸€ä¸ªæœ‰æ„æ€çš„çº¿ç¨‹æ± "></a>Semaphore ä¸€ä¸ªæœ‰æ„æ€çš„<font color=#FFA500>çº¿ç¨‹æ± </font></h4><p><font color=DarkGray size=2><code>Semaphore s = new Semaphore(x);</code>xæ˜¯å‡ åˆ™è¿™ä¸ª &lt; çº¿ç¨‹æ±  &gt; å°±   <font color=#f890 size=2>å…è®¸å‡ ä¸ªçº¿ç¨‹</font>    åŒæ—¶æ‰§è¡Œã€‚</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Semaphore</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Semaphore</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//æ‹¬å·ä¸­æ•°å­—ä¸ºxæ—¶ï¼Œå…è®¸xä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œ</span>        <span class="token comment">// T1 Running</span>    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span><span class="token punctuation">&#123;</span>            s<span class="token punctuation">.</span><span class="token function">acquire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// è¿›æ¥ä¸€ä¸ªè¿›ç¨‹ 1 å˜æˆ 0 ï¼Œåˆ«çš„çº¿ç¨‹ä¸èƒ½æ‰§è¡Œ</span>            <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"T1 Running"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"T1 Running"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span><span class="token punctuation">&#123;</span>            s<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// ç¦»å¼€ä¸€ä¸ªè¿›ç¨‹ 0 å˜æˆ 1 ï¼Œåˆ«çš„çº¿ç¨‹å¯ä»¥æ‰§è¡Œ</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// T2 Running</span>        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span><span class="token punctuation">&#123;</span>            s<span class="token punctuation">.</span><span class="token function">acquire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// è¿›æ¥ä¸€ä¸ªè¿›ç¨‹ 1 å˜æˆ 0 ï¼Œåˆ«çš„çº¿ç¨‹ä¸èƒ½æ‰§è¡Œ</span>            <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"T2 Running"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"T2 Running"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span><span class="token punctuation">&#123;</span>            s<span class="token punctuation">.</span><span class="token function">release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// ç¦»å¼€ä¸€ä¸ªè¿›ç¨‹ 0 å˜æˆ 1 ï¼Œåˆ«çš„çº¿ç¨‹å¯ä»¥æ‰§è¡Œ</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color = #f890 size=2>å¦‚æœ<code>x==1</code>åˆ™è¿è¡Œç»“æœæ˜¯<code>T1 T1 T2 T2</code>ï¼Œå¦åˆ™å¯èƒ½æ˜¯<code>T1 T2 T1 T2</code></font></p><p><br><br></p><h4 id="Exchanger-ç”¨äº-lt-ä¸¤ä¸ª-gt-çº¿ç¨‹äº¤æ¢æ•°æ®çš„æ–¹æ³•"><a href="#Exchanger-ç”¨äº-lt-ä¸¤ä¸ª-gt-çº¿ç¨‹äº¤æ¢æ•°æ®çš„æ–¹æ³•" class="headerlink" title="Exchanger ç”¨äº &lt; ! ä¸¤ä¸ª ! &gt; çº¿ç¨‹äº¤æ¢æ•°æ®çš„æ–¹æ³•"></a>Exchanger ç”¨äº &lt; ! ä¸¤ä¸ª ! &gt; çº¿ç¨‹äº¤æ¢æ•°æ®çš„æ–¹æ³•</h4><p><font color=DarkGray size=2>ä½¿ç”¨åœºæ™¯ï¼šåŒäººæ¸¸æˆä¸­ä¸¤äººäº¤æ¢è£…å¤‡ï¼æ‰§è¡Œä¸€æ¬¡å°±å¤±æ•ˆï¼Œå¯ä»¥å¾ªç¯ç­‰å¾…ä¸‹ä¸€æ¬¡ï¼›</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">// T1</span>    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"T1"</span><span class="token punctuation">;</span>        <span class="token keyword">try</span><span class="token punctuation">&#123;</span>            s <span class="token operator">=</span> sxchanger<span class="token punctuation">.</span><span class="token function">exchange</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token function">cathc</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token operator">+</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">"t1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// T2</span>    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"T2"</span><span class="token punctuation">;</span>        <span class="token keyword">try</span><span class="token punctuation">&#123;</span>            s <span class="token operator">=</span> sxchanger<span class="token punctuation">.</span><span class="token function">exchange</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token function">cathc</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token operator">+</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">"t2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><blockquote><p>çº¿ç¨‹ä¸­æœ‰ä¸¤ä¸ªå˜é‡ï¼Œåˆ†åˆ«æ˜¯ s å’Œ s ï¼ˆå±€éƒ¨å˜é‡ï¼‰ï¼Œä¸¤ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼Œæœ€åäº¤æ¢ T1 ä¸ T2 çš„å€¼ï¼›</p></blockquote><hr><p><br><br></p><h4 id="åˆ†å¸ƒå¼é”"><a href="#åˆ†å¸ƒå¼é”" class="headerlink" title="åˆ†å¸ƒå¼é”"></a>åˆ†å¸ƒå¼é”</h4><hr><p><font color=#f890 size=2>åªæ˜¯æŸä¸ªç±»å‹çš„é”ï¼Œå°†æ¥è¡¥å……æ¦‚å¿µã€‚</font></p><p><br><br></p><h4 id="æ€»ç»“-ï¼š"><a href="#æ€»ç»“-ï¼š" class="headerlink" title="æ€»ç»“ ï¼š"></a>æ€»ç»“ ï¼š</h4><hr><ul><li>æ— è®ºä½•ç§æƒ…å†µï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨<code>synchronized</code></li><li>ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨lockï¼ˆï¼‰ï¼Ÿå®ƒä¸ synchronizedï¼ˆï¼‰ç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿ</li><li>ä¸ºä»€ä¹ˆä½¿ç”¨è¯»å†™é”ï¼Ÿè¯»å†™é”æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</li><li>éšæœºåˆ—ä¸¾ä¸€äº›è·Ÿé”ä¸€èµ·ä½¿ç”¨çš„æ–¹æ³•~~</li><li>æŠŠæ ‡é¢˜ä¸‹çš„å„ç§é”çš„ä½¿ç”¨åœºæ™¯å’Œå®ç°æ–¹å¼å…¨éƒ½æƒ³ä¸€é~</li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>è¿›é˜¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Javaã€‘Lambda è¡¨è¾¾å¼</title>
    <link href="/2020/05/03/%E3%80%90Java%E3%80%91Lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <url>/2020/05/03/%E3%80%90Java%E3%80%91Lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h3 id="Lambda-è¡¨è¾¾å¼"><a href="#Lambda-è¡¨è¾¾å¼" class="headerlink" title="Lambda è¡¨è¾¾å¼"></a>Lambda è¡¨è¾¾å¼</h3><hr><p><br><br></p><h4 id="åˆè¯†-Lambda"><a href="#åˆè¯†-Lambda" class="headerlink" title="åˆè¯† Lambda"></a>åˆè¯† Lambda</h4><hr><ul><li><p>ä»€ä¹ˆæ˜¯ <font color=7baf23>  Lambda  </font>è¡¨è¾¾å¼ï¼Ÿ</p><ul><li>è‡ª Java 8 å¢åŠ çš„æ–°ç‰¹æ€§</li><li>ä¸€ä¸ª<a href="https://blog.csdn.net/aliang_godlike/article/details/97611706?ops_request_misc=%25257B%252522request%25255Fid%252522%25253A%252522160888413216780299074548%252522%25252C%252522scm%252522%25253A%25252220140713.130102334..%252522%25257D&request_id=160888413216780299074548&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-97611706.first_rank_v2_pc_rank_v29&utm_term=%E4%BB%80%E4%B9%88%E6%98%AF%E5%8C%BF%E5%90%8D%E6%96%B9%E6%B3%95%20java">åŒ¿åæ–¹æ³•</a>(ä¸€ä¸ªæ²¡æœ‰åå­—çš„æ–¹æ³•ï¼Œåœ¨å®šä¹‰å˜é‡çš„æ—¶å€™å®šä¹‰çš„æ–¹æ³•)</li></ul></li><li><p>ä¸ºä»€ä¹ˆä½¿ç”¨  <font color=7baf23>  Lambda  </font>ï¼Ÿ</p><ul><li><p>ç®€æ´å®ç°æ¥å£å¯¹æ¥ï¼›</p></li><li><p>è™½ç„¶å¯ä»¥ä½¿ç”¨  <font color=7baf23>  Lambda  </font> è¡¨è¾¾å¼å¯¹æŸäº›æ¥å£è¿›è¡Œå®ç°ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ¥å£éƒ½å¯ä»¥ä½¿ç”¨ <font color=7baf23>  Lambda  </font>æ¥å®ç°ï¼›</p></li><li><p><strong>å®ç°è¦æ±‚ï¼š</strong>è¦å®ç°çš„æŠ½è±¡æ–¹æ³•åªèƒ½æ˜¯ä¸€ä¸ªï¼›</p></li><li><blockquote><p>åœ¨ Java 8 ä¸­å¯¹æ¥å£å®ç°äº†ä¸€ä¸ªæ–°ç‰¹æ€§ <code>default</code> ï¼Œè¢«æ­¤æ–¹æ³•ä¿®é¥°çš„æ–¹æ³•åœ¨ç±»ä¸­æœ‰ä¸€ä¸ªé»˜è®¤å®ç°ï¼Œæ‰€ä»¥ä¸å½±å“ä½¿ç”¨<font color=7baf23>  Lambda  </font>çš„å®ç°ï¼›</p></blockquote></li></ul></li><li><p><strong>@FunctionalInterface</strong>ï¼š</p><ul><li>ä¸€ä¸ªç”¨æ¥ä¿®é¥°<font color=#f890>å‡½æ•°å¼æ¥å£</font>çš„ï¼Œæ¥å£ä¸­çš„<font color=#f890>æŠ½è±¡æ–¹æ³•</font>åªèƒ½æœ‰ä¸€ä¸ªï¼›</li></ul></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// é”™è¯¯ä»£ç å±•ç¤º</span><span class="token annotation punctuation">@FunctionalInterface</span><span class="token keyword">interface</span> <span class="token class-name">Comparer</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ–¹æ³•ä¸€</span>    <span class="token keyword">int</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ–¹æ³•äºŒ</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre><code>&lt;font color=red size=2&gt;â†‘ â†‘ â†‘ é”™è¯¯ä»£ç å±•ç¤º â†‘ â†‘ â†‘&lt;/font&gt;</code></pre></div><ul><li><p><a href="https://blog.csdn.net/weixin_38106322/article/details/106493630">ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Ÿ</a></p></li><li><p>ä»£ç ç¤ºä¾‹</p></li></ul> <div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> DEMO<span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ¥å£å®ç°ç±»</span>        <span class="token class-name">Comparator</span> comparator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyComparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//æ–¹æ³•äºŒï¼šä½¿ç”¨åŒ¿åå†…éƒ¨ç±»</span>        <span class="token class-name">Comparator</span> comparator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>                <span class="token comment">//æ–¹æ³•ä¸‰ï¼šä½¿ç”¨Lambdaè¡¨è¾¾å¼</span>        <span class="token class-name">Comparator</span> comparator2 <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token operator">-></span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// ä¸€ä¸ªæ¥å£</span><span class="token keyword">interface</span> <span class="token class-name">Comparator</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ–¹æ³•ä¸€ï¼šä½¿ç”¨å®ç°ç±»å®ç°æ¥å£</span><span class="token keyword">class</span> <span class="token class-name">MyComparator</span> <span class="token keyword">implements</span> <span class="token class-name">Comparator</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><p><br><br></p><h4 id="Lambda-åŸºç¡€è¯­æ³•"><a href="#Lambda-åŸºç¡€è¯­æ³•" class="headerlink" title="Lambda åŸºç¡€è¯­æ³•"></a>Lambda åŸºç¡€è¯­æ³•</h4><hr><ul><li><p>åŸºç¡€è¯­æ³•ï¼š</p><ul><li><font color=7baf23>  Lambda  </font>æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°</li><li>åŒ…å«ï¼šå‚æ•°åˆ—è¡¨ã€æ–¹æ³•ä½“ã€ï¼ˆä¸åŒ…å«ï¼šè¿”å›å€¼ç±»å‹ã€æ–¹æ³•åï¼‰</li></ul></li><li><p>å…ƒç´ ï¼š</p><ul><li><code>()</code>ï¼šç”¨æ¥æè¿°<font color=#f890>å‚æ•°</font>åˆ—è¡¨</li><li><code>&#123;&#125;</code>ï¼šç”¨æ¥æè¿°<font color=#f890>æ–¹æ³•ä½“</font></li><li><code>-&gt;</code>ï¼šåˆ†éš”  Lambda è¿ç®—æ³•ï¼Œè¯»ä½œï¼š<code>goes to</code></li></ul></li><li><p>å‡ ç§æƒ…å†µï¼š</p></li></ul><blockquote><p>1ã€<font color=#f8hsak>æ— å‚  æ— è¿”å›</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ— å‚ æ— è¿”å›</span><span class="token class-name">LambdaTest</span> lam1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span><span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>lam1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç»“æœï¼šè¾“å‡º`Hello World!`</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>2ã€<font color=green>å•ä¸ªå‚ </font> <font color=#f8hsak>æ— è¿”å›</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ— å‚ å•ä¸ªè¿”å›å€¼</span><span class="token class-name">LambdaTest</span> lam2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span><span class="token class-name">Sout</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>lam2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç»“æœï¼šè¾“å‡º`10`</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>3ã€<font color=green>å¤šä¸ªå‚ </font><font color=#f8hsak>æ— è¿”å›</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">LambdaTest</span> lam3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span><span class="token class-name">Sout</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>lam3<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç»“æœ:è¾“å‡º`21`</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>4ã€<font color=#f8hsak>æ— å‚ </font><font color=green>æœ‰è¿”å›</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">LambdaTest</span> lam4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span><span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> ret <span class="token operator">=</span> lam4<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç»“æœ:è¾“å‡º`100` ; è¿”å› `100`</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>5ã€<font color=green>æœ‰å‚æ•° æœ‰è¿”å›</font></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">LambdaTest lam5 &#x3D; (int a)-&gt;&#123;Sout(a*2);return a*2;&#125;int ret &#x3D; lam5.test(10);&#x2F;&#x2F; ç»“æœ:è¾“å‡º&#96;20&#96; ; è¿”å› &#96;20&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></blockquote><div class="code-wrapper"><pre><code>&lt;font color=red size=2&gt;â†‘ â†‘ â†‘ è¦æ³¨æ„ ä¸€å®šè¦å®šä¹‰ç›¸åº”çš„ `å‡½æ•°å¼æ¥å£` â†‘ â†‘ â†‘ &lt;/font&gt;</code></pre></div><hr><p><br><br></p><h4 id="Lambda-è¯­æ³•ç²¾ç®€"><a href="#Lambda-è¯­æ³•ç²¾ç®€" class="headerlink" title="Lambda è¯­æ³•ç²¾ç®€"></a>Lambda è¯­æ³•ç²¾ç®€</h4><hr><ul><li>é”™è¯¯ä»£ç æ¼”ç¤ºï¼š</li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">interface</span> <span class="token class-name">Lamx</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Lamx</span> lamx <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>    <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"a="</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">"\nb="</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// return a+b;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=red size=2>ä¸Šé¢æŠ¥é”™äº†ï¼Ÿ</font><font color=#f890 size=2>Lambdaè¡¨è¾¾å¼å¦‚ä½•çŸ¥é“æœ‰è¿”å›å€¼ï¼Ÿ</font></p><blockquote><p>Lambda å› ä¸ºå®šä¹‰çš„æ¥å£æœ‰äº†è¯´æ˜ï¼Œæ¯”å¦‚æ¥å£ä¸­å†™<code>int test(int a);</code>ç¬¬ä¸€ä¸ª<code>int</code>è¡¨ç¤ºè¿”å›å€¼ç±»å‹ï¼Œç¬¬äºŒä¸ª<code>int </code>è¡¨ç¤ºå‚æ•°ç±»å‹ï¼Œæ‰€ä»¥ èˆå»äº† <code>return</code> å°±ä¼šæŠ¥é”™ï¼›</p></blockquote><blockquote><p>æ—¢ç„¶åœ¨å®šä¹‰æ¥å£çš„æ—¶å€™å·²ç»å®šä¹‰äº†ç±»å‹ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥åœ¨å†™å…¥å‚æ•°çš„æ—¶å€™ï¼Œå°†<font color=#f890>å‚æ•°</font>çš„<font color=#f890>ç±»å‹æè¿°</font>ç»™çœç•¥æ‰å‘¢ï¼Ÿ</p></blockquote><ul><li><p>ç²¾ç®€1ï¼šçœç•¥<font color=green>å‚æ•°æè¿°<code>int</code></font></p><p>ä»£ç æ¼”ç¤ºï¼š</p></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">interface</span> <span class="token class-name">Lamx</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Lamx</span> lamx <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>    <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"a="</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">"\nb="</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=CornflowerBlue size = 2>æ¥å£ä¸­å·²ç»è¯´æ˜äº†æœ‰<code>int</code>ç±»å‹çš„è¿”å›å€¼ï¼Œæ‰€ä»¥ä¸å†™<code>return</code>æ˜¯é”™è¯¯çš„ï¼›</font></p><p><font color=CornflowerBlue size = 2>ä¸¤ä¸ªå¿…é¡»åŒæ—¶çœç•¥ï¼Œä¸èƒ½ä¸€ä¸ªå†™ä¸€ä¸ªä¸å†™ï¼›</font></p><ul><li><p>ç²¾ç®€2ï¼šçœç•¥<font color=green>å°æ‹¬å·<code>()</code></font></p><p>ä»£ç æ¼”ç¤ºï¼š</p></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">interface</span> <span class="token class-name">Lamx</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Lamx</span> lamx <span class="token operator">=</span> a <span class="token operator">-></span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"a="</span> <span class="token operator">+</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=CornflowerBlue size = 2>å½“ å…¥å‚ åªæœ‰ä¸€ä¸ªçš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥å…¥å‚çš„ æ‹¬å·ï¼›</font></p><ul><li>ç²¾ç®€3ï¼šçœç•¥<font color=green>å¤§æ‹¬å·<code>&#123;&#125;</code></font></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">interface</span> <span class="token class-name">Lamx</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Lamx</span> lamx <span class="token operator">=</span> a <span class="token operator">-></span> <span class="token class-name">Sout</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=CornflowerBlue size = 2>å½“ å‡½æ•° åªæœ‰ä¸€è¡Œçš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥å¤§æ‹¬å·ï¼›</font></p><ul><li>ç²¾ç®€4ï¼šçœç•¥<font color=green><code>return</code></font></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">interface</span> <span class="token class-name">Lamx</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">Lamx</span> lamx <span class="token operator">=</span> a <span class="token operator">-></span> a<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=CornflowerBlue size = 2>å¦‚æœå”¯ä¸€ä¸€æ¡è¯­å¥æ˜¯<code>return</code>è¯­å¥ï¼Œé‚£ä¹ˆçœç•¥å¤§æ‹¬å·çš„åŒæ—¶ï¼Œä¹Ÿå¿…é¡»çœç•¥<code>return</code>ï¼›</font></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Lamx</span> lamx <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">-></span>a<span class="token operator">+</span>b<span class="token punctuation">;</span>lamx<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p><br><br></p><hr><h4 id="Lambda-è¯­æ³•è¿›é˜¶"><a href="#Lambda-è¯­æ³•è¿›é˜¶" class="headerlink" title="Lambda è¯­æ³•è¿›é˜¶"></a>Lambda è¯­æ³•è¿›é˜¶</h4><hr><ul><li>Lambda è°ƒç”¨<font color=green>é™æ€</font>æ–¹æ³•<ul><li>ä»£ç ç¤ºä¾‹ï¼š</li></ul></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// å®ç°æ–¹å¼ä¸€ï¼š ä¼ ç»Ÿ Lambda è¯­æ³•</span>        <span class="token class-name">Lamx</span> lamx <span class="token operator">=</span> a <span class="token operator">-></span> <span class="token function">change</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å®ç°æ–¹å¼äºŒï¼š åŒ" : "è¯­æ³•</span>        <span class="token class-name">Lamx</span> lamx <span class="token operator">=</span> <span class="token class-name">Test</span><span class="token operator">::</span><span class="token function">change</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> a<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color=DarkGray size =2>å°† Lambda æŒ‡å‘ä¸€ä¸ªå·²ç»å®ç°çš„æ–¹æ³•ï¼›è¯­æ³•è§„åˆ™ â€“ æ–¹æ³•éš¶å±è€…ï¼šï¼šæ–¹æ³•å</font></p><p>æ­¤å¤„çš„<code>change</code>æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œéš¶å±è€…å°±æ˜¯<code>Test</code>ç±»ï¼Œæ‰€ä»¥å°±æ˜¯<code>Test::change</code></p><ul><li><font color=red>æ³¨æ„äº‹é¡¹ï¼š</font><ul><li>å‚æ•°çš„æ•°é‡å’Œç±»å‹ä¸€å®šè¦å’Œæ–¹æ³•ä¸­å®šä¹‰çš„ä¸€è‡´</li><li>è¿”å›å‹ä¸€å®šè¦å’Œæ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ä¸€è‡´</li></ul></li></ul><hr><ul><li>Lambda è°ƒç”¨<font color=green>æ„é€ </font>æ–¹æ³•<ul><li>ä¿ç•™</li></ul></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ„é€ æ–¹æ³•</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>        <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"Personç±»çš„ æ— å‚ æ„é€ æ–¹æ³•æ‰§è¡Œäº†;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>age  <span class="token operator">=</span> age<span class="token punctuation">;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span><span class="token string">"Personç±»çš„ æœ‰å‚ æ„é€ æ–¹æ³•æ‰§è¡Œäº†;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// Lambda è¯­æ³•</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Lamx</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">// åŸå§‹æ–¹æ³•</span>        <span class="token class-name">PersonCreater</span> creater1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>                <span class="token comment">// ç®€åŒ–æ–¹æ³•</span>        <span class="token class-name">PersonCreater</span> creater2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// æ„é€ æ–¹æ³•çš„å¼•ç”¨</span>        <span class="token class-name">PersonCreater</span> creater3 <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span>        <span class="token class-name">Person</span> a <span class="token operator">=</span> creater3<span class="token punctuation">.</span><span class="token function">getPersonNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Person</span> a <span class="token operator">=</span> creater3<span class="token punctuation">.</span><span class="token function">getPersonDouble</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ¥å£ä¸­è¦è¯´æ˜ è¿”å›å€¼ç±»å‹ æ–¹æ³•å‚æ•°ï¼ï¼ï¼</span><span class="token keyword">interface</span> <span class="token class-name">PersonCreater</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Person</span> <span class="token function">gerPersonNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Person</span> <span class="token function">getPersonDouble</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><font color = DarkGray size=2>å®ç°è¯­æ³• â€“ <font size=3><code>ç±»::new</code></font></font></p><hr><p><br><br></p><h4 id="Lambda-å®ç°å®ä¾‹"><a href="#Lambda-å®ç°å®ä¾‹" class="headerlink" title="Lambda å®ç°å®ä¾‹"></a>Lambda å®ç°å®ä¾‹</h4><hr><p>1ã€å·²çŸ¥åœ¨ä¸€ä¸ª<a href="https://blog.csdn.net/qq_36711757/article/details/80402429"> ArrayList</a> ç±»ä¸­æœ‰è‹¥å¹²ä¸ª Person å¯¹è±¡ï¼Œè®²è¿™äº›Personå¯¹è±¡æŒ‰ç…§å¹´é¾„è¿›è¡Œé™åºæ’åºï¼›</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Exercise</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"æå››"</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"éŸ©æ¢…æ¢…"</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"èµµå››"</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"å°¼å¤æ‹‰æ–¯å‡¯å¥‡"</span><span class="token punctuation">,</span><span class="token number">46</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Tony"</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                list<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span><span class="token operator">-></span> o2<span class="token punctuation">.</span>age<span class="token operator">-</span>o1<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>2ã€ä½¿ç”¨TreeSetæ’åº</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">TreeSer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span><span class="token operator">-></span>o2<span class="token punctuation">.</span>age<span class="token operator">-</span><span class="token number">01.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"xiaoming"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"wanggang"</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"zhaosi"</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Nigu"</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Tony"</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"poily"</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Wngffei"</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Sout</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿è¡Œç»“æœï¼šåŸºæœ¬æ­£ç¡®ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ª8å²çš„äººï¼›</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><p><strong>ä»£ç ä¼˜åŒ–</strong></p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">TreeSer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>o1<span class="token punctuation">,</span>o2<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>o1<span class="token punctuation">.</span>age <span class="token operator">>=</span> o2<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        retrun <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"xiaoming"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"wanggang"</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"zhaosi"</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Nigu"</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Tony"</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"poily"</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Wngffei"</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Sout</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿è¡Œç»“æœï¼šæ­£ç¡®;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Interger</span><span class="token punctuation">></span></span> list <span class="token operator">-=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Collection</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>ele<span class="token operator">-></span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>ele<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token class-name">Sout</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><p><br><br></p><h4 id="ä½¿ç”¨-Lambda-å®ç°çº¿ç¨‹çš„å®ä¾‹åŒ–"><a href="#ä½¿ç”¨-Lambda-å®ç°çº¿ç¨‹çš„å®ä¾‹åŒ–" class="headerlink" title="ä½¿ç”¨ Lambda å®ç°çº¿ç¨‹çš„å®ä¾‹åŒ–"></a>ä½¿ç”¨ Lambda å®ç°çº¿ç¨‹çš„å®ä¾‹åŒ–</h4><p><font size=2 color=DarkGray>å®ç°çº¿ç¨‹çš„å®ä¾‹åŒ–ï¼›</font></p><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">Sout</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><p><br><br></p><h4 id="ç³»ç»Ÿå†…ç½®çš„å‡½æ•°å¼æ¥å£"><a href="#ç³»ç»Ÿå†…ç½®çš„å‡½æ•°å¼æ¥å£" class="headerlink" title="ç³»ç»Ÿå†…ç½®çš„å‡½æ•°å¼æ¥å£"></a>ç³»ç»Ÿå†…ç½®çš„å‡½æ•°å¼æ¥å£</h4><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ã€    <span class="token comment">//æœ€å¸¸ç”¨çš„æ˜¯Predicateã€Consumerã€Functionã€Supplier</span>        <span class="token comment">// Predicate&lt;T>ï¼šå‚æ•°T Â·è¿”å›å€¼ boolean</span>    <span class="token comment">//IntPredicateï¼šint-> boolean</span>    <span class="token comment">//LongPredicateï¼šlong->boolean</span>    <span class="token comment">//DoublePredicateï¼šdouble</span>        <span class="token comment">// Consumer&lt;T>ï¼šå‚æ•°T Â·è¿”å›å€¼ void</span>    <span class="token comment">// IntConsumerï¼šint ->void</span>    <span class="token comment">// LongConsumer</span>    <span class="token comment">// DoubleConsumer</span>        <span class="token comment">// Function&lt;T,R>ï¼šå‚æ•°T Â·è¿”å›å€¼ R</span>    <span class="token comment">//IntFuncationï¼šint->R</span>    <span class="token comment">//LongFunction</span>    <span class="token comment">//DoubleFunction</span>    <span class="token comment">//IntToLongFunctionï¼šint->long</span>    <span class="token comment">//IntToDoubleFunction</span>    <span class="token comment">//LongToIntFunction</span>    <span class="token comment">//LongToDoubleFunction</span>    <span class="token comment">//DoubleToIntFunction</span>    <span class="token comment">//DoubleToLongFunction</span>        <span class="token comment">// Supplier&lt;T>ï¼šå‚æ•°æ—  Â·è¿”å›å€¼ T</span> <span class="token comment">//â€¦â€¦çœç•¥å¥½å¤šå¥½å¤š   </span>    <span class="token comment">// UnaryOperator&lt;T>ï¼šå‚æ•°T Â·è¿”å›å€¼T</span>    <span class="token comment">// BinaryOperatorï¼šå‚æ•°Tï¼ŒT Â·è¿”å›å€¼T</span>    <span class="token comment">// BiFunction&lt;T,U,R>ï¼šå‚æ•°T,U Â·è¿”å›å€¼R</span>    <span class="token comment">// BiPredicate&lt;T,U>ï¼šå‚æ•°T,U Â·è¿”å›å€¼boolean</span>    <span class="token comment">// BiConsumer&lt;T,U>ï¼šå‚æ•°T,U Â·è¿”å›å€¼void</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><p><br><br></p><h4 id="é—­åŒ…é—®é¢˜"><a href="#é—­åŒ…é—®é¢˜" class="headerlink" title="é—­åŒ…é—®é¢˜"></a>é—­åŒ…é—®é¢˜</h4><hr><ul><li><a href="https://baike.baidu.com/item/%E9%97%AD%E5%8C%85/10908873">ä»€ä¹ˆæ˜¯<code>é—­åŒ…</code>ï¼Ÿ</a><ul><li>é—­åŒ…ä¼šæå‡å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™æ ·å°±å¯ä»¥è·å–æŸä¸€ä¸ªæ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡</li></ul></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Sout</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//ç»“æœæ˜¯10;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> num<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ä»£ç äºŒï¼š</p><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token function">PSVM</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//public static void main</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> c <span class="token operator">=</span> ele<span class="token operator">-></span><span class="token punctuation">&#123;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        c<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç»“æœ11</span>            <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> c <span class="token operator">=</span> ele<span class="token operator">-></span><span class="token punctuation">&#123;</span>        <span class="token class-name">Sout</span><span class="token punctuation">(</span>a<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        c<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç»“æœæŠ¥é”™ï¼Œå› ä¸º é—­åŒ… ä¸­çš„å˜é‡å¿…é¡»æ˜¯ final çš„ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªå¸¸é‡ï¼‰ï¼Œæ‰€ä»¥ä¸èƒ½ä¿®æ”¹è¿™ä¸ªå€¼</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>è¿›é˜¶</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€è½¯ä»¶ä½¿ç”¨ã€‘IDEAä½¿ç”¨Debugæ‰¾é”™</title>
    <link href="/2020/05/03/IDEA/%E3%80%90%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8-IDEA%E3%80%91IDEA%E4%BD%BF%E7%94%A8Debug%E6%89%BE%E9%94%99/"/>
    <url>/2020/05/03/IDEA/%E3%80%90%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8-IDEA%E3%80%91IDEA%E4%BD%BF%E7%94%A8Debug%E6%89%BE%E9%94%99/</url>
    
    <content type="html"><![CDATA[<h3 id="å•çº¿ç¨‹-Debug"><a href="#å•çº¿ç¨‹-Debug" class="headerlink" title="å•çº¿ç¨‹ Debug"></a>å•çº¿ç¨‹ Debug</h3><hr><p><br><br></p><h4 id="01-Debug"><a href="#01-Debug" class="headerlink" title="01_Debug"></a>01_Debug</h4><hr><ul><li><p>ä»€ä¹ˆæ˜¯Debug</p><ul><li>Debug ç¨‹åºè°ƒè¯•</li><li>å¼€å‘ï¼šè°ƒè¯• = 1 : 1.5</li></ul></li><li><p>Debugèƒ½å¸®æˆ‘ä»¬åšä»€ä¹ˆ</p><ul><li>è¿½è¸ªä»£ç è¿è¡Œæµç¨‹</li><li>å¼‚å¸¸çš„å®šä½ä¸è°ƒè¯•</li><li>çº¿ä¸Šé—®é¢˜è¿½è¸ª</li></ul></li><li><p>Debugçš„æ„ä¹‰</p><ul><li>ç†Ÿæ‚‰æ‰§è¡Œæµç¨‹</li><li>æ–¹ä¾¿ç†è§£å¤æ‚ç¨‹åºé€»è¾‘</li><li>å®šä½é—®é¢˜ æé«˜è§£å†³é—®é¢˜çš„èƒ½åŠ›</li></ul></li></ul><p><br><br></p><h4 id="02-Ideaä¸­çš„Debug"><a href="#02-Ideaä¸­çš„Debug" class="headerlink" title="02_Ideaä¸­çš„Debug"></a>02_Ideaä¸­çš„Debug</h4><hr><ul><li>è®¾ç½®æ–­ç‚¹ï¼ˆF9ï¼‰</li><li>ç¨‹åºè°ƒè¯•ï¼ˆæŒ‰é’®x8ï¼‰</li></ul><table><thead><tr><th>æŒ‰é’®</th><th>å¿«æ·æ–¹å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td></td><td>Alt+F10</td><td>å¦‚æœå…‰æ ‡åœ¨å…¶ä»–è¡Œæˆ–è€…å…¶ä»–é¡µé¢ï¼Œç‚¹å‡»æŒ‰é’®è°ƒåˆ°å½“å‰ä»£ç æ‰§è¡Œçš„è¡Œã€‚</td></tr><tr><td></td><td>F8</td><td>æ­¥è¿‡ï¼Œä¸€æ­¥ä¸€æ­¥å¾€ä¸‹èµ°ï¼Œå¦‚æœè¿™ä¸€è¡Œä¸Šæœ‰æ–¹æ³•ä¸ä¼šè¿›å…¥æ–¹æ³•ã€‚</td></tr><tr><td></td><td>F7</td><td>æ­¥å…¥ï¼Œå¦‚æœå½“å‰è¡Œæœ‰æ–¹æ³•ï¼Œå¯ä»¥è¿›å…¥æ–¹æ³•å†…éƒ¨ï¼Œä¸€èˆ¬ç”¨äºè¿›å…¥è‡ªå®šä¹‰æ–¹æ³•å†…ï¼Œä¸ä¼šè¿›å…¥å®˜æ–¹åº“æ–¹æ³•ã€‚</td></tr><tr><td></td><td>Alt + Shift + F7</td><td>å¼ºåˆ¶æ­¥å…¥ï¼Œèƒ½è¿›å…¥ä»»ä½•æ–¹æ³•ï¼ŒæŸ¥çœ‹åº•å±‚æºç çš„æ—¶å€™å¯ä»¥ç”¨æ­¤æ–¹æ³•è¿›å…¥å®˜æ–¹ç±»åº“ã€‚</td></tr><tr><td></td><td>Shift + F8</td><td>ä¸å‡ºï¼Œä»æ­¥å…¥çš„æ–¹æ³•å†…é€€å›åˆ°æ–¹æ³•è°ƒç”¨å¤„ï¼Œæ­¤æ—¶æ–¹æ³•å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œåªæ˜¯è¿˜æ²¡æœ‰å®Œæˆèµ‹å€¼ã€‚</td></tr><tr><td></td><td></td><td>å›é€€æ–­ç‚¹ã€‚</td></tr><tr><td></td><td>Alt + F9</td><td>è¿è¡Œåˆ°å…‰æ ‡å¤„ï¼Œå¯ä»¥å°†å…‰æ ‡å®šä½åˆ°éœ€è¦æŸ¥çœ‹çš„ä¸€è¡Œï¼Œç„¶åä½¿ç”¨è¿™ä¸€åŠŸèƒ½ï¼Œä»£ç ä¼šè¿è¡Œè‡³å…‰æ ‡è¡Œï¼Œè€Œä¸éœ€è¦æ‰“æ–­ç‚¹ã€‚</td></tr><tr><td></td><td>Alt + F8</td><td>è®¡ç®—è¡¨è¾¾å¼ã€‚</td></tr></tbody></table><ul><li>03_Debug çš„ä½¿ç”¨<ul><li>è®¾ç½®æ–­ç‚¹</li><li>è¿›å…¥Debug</li></ul></li></ul><p><br><br></p><h4 id="ä»£ç å®ä¾‹"><a href="#ä»£ç å®ä¾‹" class="headerlink" title="ä»£ç å®ä¾‹"></a>ä»£ç å®ä¾‹</h4><hr><ul><li>æ­¥<ul><li>æ­¥è¿‡         è·³è¿‡æœ¬è¡Œä¸­çš„æ–¹æ³•å•è¡Œæ‰§è¡Œ</li><li>æ­¥å…¥         è¿›å…¥æœ¬è¡Œä¸­çš„æ–¹æ³•ï¼Œä½†ä¸è¿›å…¥å®˜æ–¹åº“æ–¹æ³•</li><li>å¼ºåˆ¶æ­¥å…¥ è¿›å…¥æ–¹æ³•ï¼ŒåŒ…æ‹¬å®˜æ–¹ç±»åº“</li><li>æ­¥å‡º        åœ¨<code>æ­¥å…¥</code>ä¸€ä¸ªæ–¹æ³•åï¼Œä¸æ‰§è¡Œç»“æŸåˆ™ä¸ä¼šé€€å‡ºè¯¥æ–¹æ³•ï¼Œä½¿ç”¨<code>æ­¥å‡º</code>åˆ™å¯ä»¥ç›´æ¥ç»“æŸè¯¥æ–¹æ³•ï¼Œè°ƒåˆ°è¯¥æ–¹æ³•çš„<code>è°ƒç”¨å¤„</code></li></ul></li></ul><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>      <span class="token operator">></span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"---ç¨‹åºæ‰§è¡Œå¼€å§‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token operator">></span><span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"---ç¨‹åºæ‰§è¡Œç»“æŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre><code>&lt;font color = #f890&gt;æ­¥è¿‡ï¼š&lt;/font&gt;åœ¨ 2 å·æ–­ç‚¹ï¼Œæ­¥è¿‡ &lt;font color = #FF1493&gt;ä¸ä¼šè¿›å…¥&lt;/font&gt;addæ–¹æ³•è€Œç›´æ¥è·å¾— addæ–¹æ³•çš„è¿”å›å€¼ï¼›&lt;font color = #f890&gt;æ­¥å…¥ï¼š&lt;/font&gt;åœ¨ 2 å·æ–­ç‚¹ï¼Œæ­¥å…¥ &lt;font color = #FF1493&gt;ä¼šè¿›å…¥&lt;/font&gt; add æ–¹æ³•ï¼Œå¹¶ä¸€æ­¥ä¸€æ­¥æ‰§è¡Œï¼Œä½†æ˜¯åœ¨ 1 å·æ–­ç‚¹ï¼Œæ­¥å…¥ &lt;font color = #FF1493&gt;ä¸ä¼šè¿›å…¥ print æ–¹æ³•&lt;/font&gt;ï¼›&lt;font color = #f890&gt;å¼ºåˆ¶æ­¥å…¥ï¼š&lt;/font&gt;åœ¨ 1 å·æ–­ç‚¹ï¼Œå¼ºåˆ¶æ­¥å…¥&lt;font color = #FF1493&gt;ä¼šè¿›å…¥&lt;/font&gt; print æ–¹æ³•ï¼›&lt;font color = #f890&gt;æ­¥å‡ºï¼š&lt;/font&gt;åœ¨ è¿›å…¥ add æ–¹æ³•åï¼Œå¦‚æœä¸æƒ³çœ‹åé¢çš„ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨æ­¥å‡ºï¼Œç›´æ¥&lt;font color = #FF1493&gt;å›åˆ°&lt;/font&gt; a æ–¹æ³•ï¼›</code></pre></div><hr><ul><li>å›é€€ &amp; è¿è¡Œåˆ°å…‰æ ‡<ul><li>å›é€€ï¼šå½“ <code>æ­¥å…¥</code>ä¸€ä¸ªæ–¹æ³•ä½“ä¹‹åï¼Œä½¿ç”¨<font color = #f890>å›é€€</font>å¯ä»¥å›åˆ°è¯¥æ–¹æ³•çš„è°ƒç”¨å¤„ï¼Œè¿›è€Œå¯ä»¥é‡æ–°æ‰§è¡Œæ­¥å…¥ç­‰è°ƒè¯•ï¼ˆè€Œä¸ç”¨é‡å¯Debugï¼‰ï¼›</li><li>è¿è¡Œåˆ°å…‰æ ‡ï¼šä¸ç”¨é¢‘ç¹è®¾ç½®æ–­ç‚¹ï¼Œå…‰æ ‡æŒ‡åˆ°å“ªé‡Œï¼Œå°±è¿è¡Œåˆ°å“ªé‡Œï¼›</li></ul></li></ul><hr><ul><li>è®¡ç®—è¡¨è¾¾å¼ </li></ul><blockquote><ul><li>æŸ¥çœ‹å˜é‡çš„å‡ ç§æ–¹å¼<ul><li>1ã€ Debug çš„ <font color=#32CD32>Variables</font></li><li>2ã€ å…‰æ ‡æ”¾åœ¨æ–¹æ³•çš„ å½¢å‚ä¸Šé¢ï¼Œç„¶åç‚¹å‡» ï¼‹å·</li><li>3ã€ ä½¿ç”¨<font color=#32CD32>è®¡ç®—è¡¨è¾¾å¼</font>åŠŸèƒ½ï¼Œè¾“å…¥<code>user</code>ï¼Œå°±å¯ä»¥æ˜¾ç¤ºç”¨æˆ·å˜é‡ï¼Œå¹¶ä¸”å¯ä»¥<font color=#f890>ä¿®æ”¹ç”¨æˆ·å˜é‡å€¼</font>ï¼›</li><li>ä¿®æ”¹æ–¹æ³•ï¼šç›´æ¥è¾“å…¥<code>user.setUserTyp=(&quot;å‘˜å·¥&quot;);</code>ç‚¹å‡»<code>å›è½¦</code>    </li></ul></li></ul></blockquote><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"å¼ ä¸‰"</span><span class="token punctuation">,</span><span class="token string">"123456"</span><span class="token punctuation">,</span><span class="token string">"è¶…çº§ç®¡ç†å‘˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">login</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">switch</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>userType<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">case</span> <span class="token string">"è¶…çº§ç®¡ç†å‘˜"</span>ï¼š            <span class="token function">sout</span><span class="token punctuation">(</span><span class="token string">"æ˜¯è¶…çº§ç®¡ç†å‘˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//User ç±»</span><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> username<span class="token punctuation">;</span>    <span class="token class-name">String</span> password<span class="token punctuation">;</span>    <span class="token class-name">String</span> userType<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><ul><li>æ¡ä»¶æ–­ç‚¹</li></ul><blockquote><ul><li>ä½¿ç”¨æ¡ä»¶ï¼šå¾ªç¯300æ¬¡çš„æ–­ç‚¹ï¼Œéœ€è¦è¿ç‚¹ 300 æ¬¡ æ­¥è¿‡ï¼›</li><li>ä½¿ç”¨æ–¹å¼ï¼šåœ¨<code>æ–­ç‚¹</code>å¤„ å³å‡»ï¼Œåœ¨<code>Condititon</code>ä¸­è¾“å…¥ <code>i == 300</code>; </li></ul></blockquote><hr><p><br><br></p><h3 id="å¤šçº¿ç¨‹-Debug"><a href="#å¤šçº¿ç¨‹-Debug" class="headerlink" title="å¤šçº¿ç¨‹ Debug"></a>å¤šçº¿ç¨‹ Debug</h3><hr>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>IDEA</tag>
      
      <tag>Error</tag>
      
      <tag>è½¯ä»¶ä½¿ç”¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Linuxã€‘Kali ï½œ ç‰©ç†æœºå®‰è£…ç¬”è®°</title>
    <link href="/2020/01/12/%E3%80%90Linux%E3%80%91Kali%20%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/"/>
    <url>/2020/01/12/%E3%80%90Linux%E3%80%91Kali%20%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h3 id="ã€è¯•ã€‘Kali-å®‰è£…ç¬”è®°"><a href="#ã€è¯•ã€‘Kali-å®‰è£…ç¬”è®°" class="headerlink" title="ã€è¯•ã€‘Kali å®‰è£…ç¬”è®°"></a>ã€è¯•ã€‘Kali å®‰è£…ç¬”è®°</h3><p><font color=DarkGray size=2>ä»Šå¤©å¾—åˆ°äº†ä¸€å—æ–°çš„å›ºæ€ç¡¬ç›˜ï¼Œåœ¨ç‰©ç†æœºä¸Šå®‰è£…äº†ä¸€æ¬¡ Kali ï¼Œæ€»ç»“ä¸€ä¸‹å®‰è£…å¿ƒå¾—ï¼›</font></p><hr><br><br><h4 id="å®‰è£…ç¯å¢ƒï¼š"><a href="#å®‰è£…ç¯å¢ƒï¼š" class="headerlink" title="å®‰è£…ç¯å¢ƒï¼š"></a>å®‰è£…ç¯å¢ƒï¼š</h4><hr><table><thead><tr><th align="center">ç”µè„‘å‹å·</th><th align="center">å°ç±³ Pro</th><th align="center">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="center">è¿è¡Œå†…å­˜</td><td align="center">8G</td><td align="center"></td></tr><tr><td align="center">å›ºæ€å­˜å‚¨</td><td align="center">256G</td><td align="center"></td></tr><tr><td align="center">CPU</td><td align="center">x86</td><td align="center">æ™®æ™®é€šé€šçš„CPU</td></tr></tbody></table><p><br><br></p><h4 id="å®‰è£…è¿‡ç¨‹"><a href="#å®‰è£…è¿‡ç¨‹" class="headerlink" title="å®‰è£…è¿‡ç¨‹"></a>å®‰è£…è¿‡ç¨‹</h4><hr><p>ç”±äºæ˜¯å•ç¡¬ç›˜å®‰è£…ï¼Œåªè¦ä¸æ–­ &gt; ä¸‹ä¸€æ­¥ &gt; ä¸‹ä¸€æ­¥ å°±å¥½ï¼Œåœ¨è¿™é‡Œè¯´å‡ ä¸ªæ³¨æ„äº‹é¡¹ï¼›</p><ul><li>æ£€æŸ¥ç½‘ç»œç¡¬ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ä¸€ä¸ª è·¯ç”±å™¨ + ä¸€æ ¹ç½‘çº¿ï¼Œè¿™æ ·å¯ä»¥è®©ç”µè„‘è‡ªåŠ¨è·å– IP ï¼Œå¦‚æœæ£€æµ‹å¤±è´¥ï¼Œæ‹”æ’ç½‘çº¿å†æ¥ä¸€éï¼›</li><li>å®‰è£…ç¡¬ç›˜æˆ‘é€‰çš„æ˜¯ &gt; æ•´ä¸ªç¡¬ç›˜ï¼Œç„¶åå°±ä¼šè‡ªåŠ¨å®‰è£…ï¼Œä½ å¯ä»¥è‡ªå·±è€ƒè™‘ï¼›</li><li>å¼•å¯¼ï¼Œå¦‚æœæ˜¯ä¸¤ä¸ªç¡¬ç›˜çš„è¯ï¼Œé‚£ä¹ˆå°±æœ‰ä¸¤ç§æƒ…å†µï¼š<ul><li>å¼•å¯¼æ”¾åœ¨ Linux å›ºæ€ä¸Šï¼Œé‚£ä¹ˆå°±æ˜¯ F12 è¿›å…¥ç³»ç»Ÿé€‰æ‹©ï¼›</li><li>å¼•å¯¼æ”¾åœ¨ Windows å¼•å¯¼ä¸‹ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¼•å¯¼å‡ºé”™ï¼Œå¯¼è‡´åæœŸè‡ªå·±æ­å¼•å¯¼ï¼Œå½“ç„¶ä¹Ÿå¯èƒ½æˆåŠŸï¼›</li></ul></li><li>grub é—®é¢˜åœ¨ä½†å›ºæ€æƒ…å†µä¸‹æœªé‡åˆ°ï¼›</li><li>æœ€åé€‰æ‹©åº”ç”¨çš„æ—¶å€™ï¼Œå–æ¶ˆäº†æœ€ä¸‹æ–¹çš„ä¸€ä¸ªå‹¾é€‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼ŒåŸå› ä¸æ˜ï¼›</li><li>å®‰è£…å¥½ç¬¬ä¸€ä»¶äº‹å…ˆç»™<code>root</code>ç”¨æˆ·æ›´æ”¹å¯†ç ï¼Œç™»å½•<code>root</code>ç”¨æˆ·ï¼Œæ¢æºæ›´æ–°ï¼Œæ¢æºæ­¥éª¤å¦‚ä¸‹ï¼›</li><li>æœ‰ä¸€ä¸ªå°é—®é¢˜ï¼Œå®‰è£… VSCode ä¹‹åæ— æ³•å®‰è£…æ’ä»¶ï¼ŒåŸæ¥æ˜¯ç»™çš„æƒé™ä¸å¤Ÿï¼Œé‡åˆ°ç›¸åŒé—®é¢˜çš„å°ä¼™ä¼´å»ç™¾åº¦å§ï¼Œç½‘ä¸ŠæŒºå¤šçš„ï¼›</li></ul><p><br><br></p><h4 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h4><hr><ul><li>ä½¿ç”¨<code>vim</code>æ‰“å¼€<code>/etc/apt/sources.list</code> æ–‡ä»¶ï¼Œæ³¨è§£å†…éƒ¨æœªæ³¨è§£çš„ä»£ç è¡Œï¼Œå¹¶ä¸”ç²˜è´´è¿›æ–°çš„æºé“¾æ¥ï¼›</li><li>æ‰§è¡Œå‘½ä»¤<code>apt-get update</code>ï¼›</li><li>æ‰§è¡Œå‘½ä»¤<code>apt-get upgrade</code>ï¼›</li><li>é‡åˆ°çš„é—®é¢˜ï¼š<ul><li>å±…ç„¶æ²¡æœ‰è‡ªå¸¦ vimï¼Œå¾ˆå¥‡æ€ªï¼Œæ‰€ä»¥å…ˆä½¿ç”¨ï¼š<code>apt-get install leafpad</code> å‘½ä»¤ï¼Œä¸‹è½½å®‰è£… leafpadï¼›</li><li>ä½¿ç”¨ leafpad ä»£æ›¿ vim ï¼Œä»ç¬¬ä¸€è¡Œå‘ä¸‹æ‰§è¡Œï¼›</li><li>ä¾èµ–é”™è¯¯ï¼Œä½¿ç”¨å‘½ä»¤<code>apt -f install</code>è§£å†³ï¼Œè§£å†³åé‡æ–°æ‰§è¡Œä¾èµ–æŠ¥é”™çš„å‘½ä»¤ï¼›</li><li><br><br></li></ul></li></ul><h4 id="æ›´æ”¹å¯†ç "><a href="#æ›´æ”¹å¯†ç " class="headerlink" title="æ›´æ”¹å¯†ç "></a>æ›´æ”¹å¯†ç </h4><hr><p>ä¸åŒäº Windows ï¼ŒLinux æ¿€æ´»çš„æ—¶å€™ç”¨çš„å¹¶ä¸æ˜¯ç®¡ç†å‘˜ï¼Œè€Œæ˜¯æ™®é€šç”¨æˆ·ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æ™®é€šç”¨æˆ·æ›´æ”¹ç®¡ç†å‘˜çš„å¯†ç ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li>ç™»å½•æ™®é€šç”¨æˆ·ï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤<code>passwd root</code>ï¼›</li><li>è¾“å…¥æ™®é€šç”¨æˆ·çš„ç™»å½•å¯†ç ï¼›</li><li>è¾“å…¥ä¸¤æ¬¡ä½ æƒ³ç»™ç®¡ç†å‘˜çš„å¯†ç ï¼›</li><li>æ›´æ”¹æˆåŠŸï¼Œé€€å‡ºç™»å½•ï¼Œé‡æ–°ç™»å½•ï¼›</li><li>è´¦å·æ˜¯<code>root</code>ï¼Œå¯†ç æ˜¯åˆšåˆšè¾“å…¥çš„å¯†ç ï¼›</li></ul><br><br><h4 id="ç»™ç³»ç»Ÿæ›´æ¢è¯­è¨€"><a href="#ç»™ç³»ç»Ÿæ›´æ¢è¯­è¨€" class="headerlink" title="ç»™ç³»ç»Ÿæ›´æ¢è¯­è¨€"></a>ç»™ç³»ç»Ÿæ›´æ¢è¯­è¨€</h4><p>ç”±äºæš—è½¬çš„è¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥é€‰æ‹©äº†è‹±æ–‡å®‰è£…ï¼Œç„¶åæ›´æ”¹æˆä¸­æ–‡ï¼Œä¿ç•™Downloadsã€Desktopã€Documents ç­‰æ–‡ä»¶å¤¹ï¼›<br>è¾ƒä¸ºç®€å•ï¼Œéœ€è¦æ‰§è¡Œçš„åŒå­¦è¯·çœ‹å¦‚<a href="https://www.cnblogs.com/C-Noah/p/14227685.html">ã€ç‚¹å‡»è¿™é‡Œã€‘</a>ï¼›</p><br><br><h4 id="æ­¥éª¤ç»†åˆ†"><a href="#æ­¥éª¤ç»†åˆ†" class="headerlink" title="æ­¥éª¤ç»†åˆ†"></a>æ­¥éª¤ç»†åˆ†</h4><hr><ul><li>å…ˆå‡†å¤‡å¯åŠ¨ç›˜ï¼Œä½¿ç”¨çš„è½¯ä»¶æ˜¯ Deepin ï¼Œåœ¨æ¥ä¸‹æ¥æ›´æ–°ç³»ç»Ÿçš„æ—¶å€™ä¼šå°†èµ„æºå†™è¿›å»ï¼›</li><li>æ¢å›ºæ€ã€è£…ç³»ç»Ÿã€ä¸€ç›´ä¸‹ä¸€æ­¥ã€è§£å†³é—®é¢˜ã€å¼€æœºã€ç»™ root ç”¨æˆ·è®¾ç½®å¯†ç ã€ç™»å½• rootï¼›</li><li>æ¢æºï¼›</li><li>æ›´æ¢ç³»ç»Ÿè¯­è¨€ä¸ºä¸­æ–‡ï¼›</li><li>å®‰è£…æœç‹—è¾“å…¥æ³•ï¼›</li></ul><p><br><br></p><h4 id="å…³äºå·¥å…·é€‰æ‹©"><a href="#å…³äºå·¥å…·é€‰æ‹©" class="headerlink" title="å…³äºå·¥å…·é€‰æ‹©"></a>å…³äºå·¥å…·é€‰æ‹©</h4><hr><ul><li>åŠå…¬ï¼šæ‘’å¼ƒäº† Windows çš„ Office å…¨å®¶æ¡¶ï¼Œæ¢æˆäº† WPS for Linux ç‰ˆæœ¬ï¼›</li><li>ç¼–ç¨‹ï¼šæ¯«æ— å˜åŒ–ï¼Œæœ€è¿‘å‡†å¤‡å­¦ä¹ ä¸€ä¸‹ Eclipse çš„ä½¿ç”¨ï¼ˆè¯¾ç¨‹éœ€è¦ï¼‰ï¼›</li><li>èŠå¤©ï¼šç›®å‰è¿˜æ²¡æ‰¾åˆ°åˆé€‚çš„æ›¿ä»£å“ï¼Œä¸å‡ºæ„å¤–çš„è¯ï¼Œæœ€è¿‘ä¸¤å¤©åº”è¯¥ä¼šå°è¯•ç§»æ¤ wine ç‰ˆæœ¬çš„ QQ / å¾®ä¿¡ï¼›</li><li>ä¸Šç½‘ï¼š FireFox / Chrome ï¼Œä¸€ç›´ä»¥æ¥æˆ‘çš„ä¸äºŒä¹‹é€‰ï¼›</li><li>ç½‘ç›˜ï¼šç™¾åº¦ç½‘ç›˜ for Linuxï¼›</li><li>éŸ³ä¹ï¼šç½‘æ˜“äº‘éŸ³ä¹ for Linuxï¼›</li><li>ä¸Šç½‘ï¼šå°é£æœº for Linux<br>ç›®å‰è¿™äº›è½¯ä»¶å·²ç»åŒ…æ‹¬æˆ‘ä½¿ç”¨çš„äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰ PS / Pr ç­‰è½¯ä»¶ï¼ˆå…¶å® Deepin æ˜¯æœ‰ä¸€ä¸ªå« Gxxx çš„è½¯ä»¶æ¥ä»£æ›¿ PS çš„ï¼‰ä¸è€ƒè™‘ç§»æ¤ï¼Œå› ä¸ºé‚£ä¸ªè½¯ä»¶æˆ‘ç”¨ç€å¾ˆä¸ä¹ æƒ¯ï¼›å¦å¤–åœ¨ Windows ä¸Šæˆ‘ä¸€ç›´æœ‰ä½¿ç”¨ WallpaperEngine ï¼Œåœ¨ Linux ä¸Šæ²¡æœ‰ç»šä¸½çš„åŠ¨æ€å£çº¸ï¼Œä½†æ˜¯å¥½åœ¨æˆ‘æœ‰å‡ ä¸ªå£çº¸ç½‘ç«™çš„æ°¸ä¹…ä¼šå‘˜ï¼Œè¿˜æœ‰ä¸€äº›å…è´¹çš„å£çº¸è½¯ä»¶å¯ä»¥é€‰æ‹©ï¼Œæ‰€ä»¥è¿™ä¸€ç‚¹å€’ä¸æ˜¯ååˆ†å¿…è¦ï¼›</li></ul><p><br><br></p><h4 id="æˆ‘ä½¿ç”¨çš„-Kali-æº"><a href="#æˆ‘ä½¿ç”¨çš„-Kali-æº" class="headerlink" title="æˆ‘ä½¿ç”¨çš„ Kali æº"></a>æˆ‘ä½¿ç”¨çš„ Kali æº</h4><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">deb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>kali kali<span class="token operator">-</span>rolling main non<span class="token operator">-</span>free contribdeb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>kali kali<span class="token operator">-</span>rolling main non<span class="token operator">-</span>free contrib<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p><br><br></p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><hr><p>è¿™ä¸€ç¯‡åšå®¢å°±æ˜¯åœ¨ Kali å®ä½“æœºä¸Šå†™çš„ï¼Œä¹‹å‰åœ¨ Windows ä¸Šä½¿ç”¨çš„æ˜¯ Typroa æ¥å†™ MarkDownï¼Œç°åœ¨ä½¿ç”¨çš„æ˜¯ VSCode ã€‚æ¯ä¸€ä¸ª MarkDown çš„ç¼–è¾‘å™¨ä½¿ç”¨èµ·æ¥éƒ½ä¸æ˜¯å¾ˆä¸€æ ·ï¼Œç°åœ¨æ­£åœ¨æ…¢æ…¢é€‚åº”ï¼Œè¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œæœ‰è¾¹å†™è¾¹é¢„è§ˆçš„åŠŸèƒ½ï¼Œå—¯â€¦.å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆè¦è¯´çš„ï¼Œæˆ‘æ˜¯ç”¨çš„æºé™„åœ¨äº†ä¸Šæ–¹ï¼Œè¦ä½¿ç”¨çš„åŒå­¦è‡ªå–ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Kali</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows/MacOSç§‘å­¦ä¸Šç½‘</title>
    <link href="/2019/10/03/%E4%B8%8A%E7%BD%91/-Windows%E7%BF%BB%E5%A2%99%E6%95%99%E5%AD%A6/"/>
    <url>/2019/10/03/%E4%B8%8A%E7%BD%91/-Windows%E7%BF%BB%E5%A2%99%E6%95%99%E5%AD%A6/</url>
    
    <content type="html"><![CDATA[<h2 id="Windows-MacOS-ä½¿ç”¨Clashç§‘å­¦ä¸Šç½‘"><a href="#Windows-MacOS-ä½¿ç”¨Clashç§‘å­¦ä¸Šç½‘" class="headerlink" title="Windows/MacOS ä½¿ç”¨Clashç§‘å­¦ä¸Šç½‘"></a>Windows/MacOS ä½¿ç”¨Clashç§‘å­¦ä¸Šç½‘</h2><span id="more"></span><hr><div class="note note-primary">            <p>å¹³å°ï¼šWindows / MacOS</p><p>å·¥å…·ï¼šClash</p>          </div><ul><li><a href="https://github.com/Fndroid/clash_for_windows_pkg/releases">ã€ç‚¹å‡»æ­¤å¤„ã€‘</a>å»GitHubå®‰è£…Clash<ul><li>Windowsä¸‹è½½.exeæ–‡ä»¶</li><li>MacOS ä¸‹è½½   .dmgæ–‡ä»¶</li></ul></li></ul><p><img src="https://i.loli.net/2021/10/03/EmjTHzgYUrCp61v.png" alt="Githubæˆªå›¾"></p><ul><li>ä¸‹è½½å¥½ååŒå‡»å®‰è£…</li><li>æ‰“å¼€è½¯ä»¶åï¼Œç‚¹å‡»Profilesï¼Œå¹¶åœ¨<strong>Downloads from a URL</strong>ä¸­è¾“å…¥ä½ æ‰‹ä¸­çš„URLï¼Œéšåç‚¹å‡»ã€ä¸‹è½½ã€‘</li></ul><p><img src="https://i.loli.net/2021/10/03/suj7ydJxQ8XFBTZ.png" alt="Clashæˆªå›¾"></p><ul><li>ç‚¹å‡»Generalï¼Œé…ç½®æˆå¦‚ä¸‹ç•Œé¢ï¼š</li></ul><p><img src="https://i.loli.net/2021/10/03/XRiSBLK2FqkJV5w.png" alt="Clashçš„è®¾ç½®"></p><div class="note note-primary">            <ul><li>ç­‰å¾…10ç§’ï¼Œç­‰å¾…å·¦ä¸Šè§’å‡ºç°ç½‘é€Ÿï¼Œå°±å¼€å§‹ä¸Šç½‘äº†ï½</li></ul>          </div>]]></content>
    
    
    <categories>
      
      <category>å¤§é¾„ç”·å­©ç½‘ä¸Šå†²æµª</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä¸Šç½‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>iPhone/iPadä½¿ç”¨ Shadowrocketç§‘å­¦ä¸Šç½‘</title>
    <link href="/2019/10/02/%E4%B8%8A%E7%BD%91/-iPhone-iPad%E4%BD%BF%E7%94%A8-Shadowrocket%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    <url>/2019/10/02/%E4%B8%8A%E7%BD%91/-iPhone-iPad%E4%BD%BF%E7%94%A8-Shadowrocket%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/</url>
    
    <content type="html"><![CDATA[<h2 id="åœ¨iPhone-iPadä½¿ç”¨-Shadowrocketç§‘å­¦ä¸Šç½‘"><a href="#åœ¨iPhone-iPadä½¿ç”¨-Shadowrocketç§‘å­¦ä¸Šç½‘" class="headerlink" title="åœ¨iPhone/iPadä½¿ç”¨ Shadowrocketç§‘å­¦ä¸Šç½‘"></a>åœ¨iPhone/iPadä½¿ç”¨ Shadowrocketç§‘å­¦ä¸Šç½‘</h2><hr><span id="more"></span><div class="note note-primary">            <p>å®‰è£…è½¯ä»¶</p>          </div><ul><li>æ³¨å†Œå›½å¤–åŒºçš„Apple IDï¼ˆæ·˜å®æœ‰å‡ºå”®ï¼Œå¹¶ä¸”æœ‰ç¾å…ƒä»£å……å€¼//å°ç«ç®­å…‘æ¢ç çš„æœåŠ¡ï¼‰</li><li>ä½¿ç”¨æ­¤IDç™»å½•AppStore</li><li>æœç´¢<span class="label label-success">Shadowrocket</span>  æˆ–ç›´æ¥<a href="(https://apps.apple.com/us/app/shadowrocket/id932747118)">ã€ç‚¹å‡»è¿™é‡Œã€‘</a></li></ul><div class="note note-primary">            <p>é…ç½®èŠ‚ç‚¹</p>          </div><ul><li>å®‰è£…å®Œæˆåï¼Œç‚¹å‡»Logoæ‰“å¼€è½¯ä»¶</li></ul><p><img src="https://i.loli.net/2021/10/02/xZJEF8AIb3gw4Mk.jpg"></p><ul><li>ç‚¹å‡»ã€å³ä¸Šè§’â€œâ•â€å·ã€‘</li></ul><img src="https://i.loli.net/2021/10/02/7tquR98rSHzEhwB.jpg" width=500px align="center"><ul><li>è¾“å…¥è‡ªå·±çš„è®¢é˜…é“¾æ¥ï¼Œéšåç‚¹å‡»ã€å®Œæˆã€‘å³å¯</li></ul><img src="https://i.loli.net/2021/10/02/xcwX6yMJjd7hVH5.png" width=500px><div class="note note-primary">            <p>è¡¥å……</p>          </div><ul><li>å¾ˆå¤šğŸªœå¹³å°éƒ½æœ‰ä¸€é”®å¯¼å…¥Shadowrocketï¼Œç‚¹å‡»ä¸€ä¸‹é“¾æ¥å°±å¥½äº†</li></ul><img src="https://i.loli.net/2021/10/02/EdQIZSMcCXxTGsk.png" width=300px>]]></content>
    
    
    <categories>
      
      <category>å¤§é¾„ç”·å­©ç½‘ä¸Šå†²æµª</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€Linuxã€‘ Kali åˆ‡æ¢è¯­è¨€ä¸ºä¸­æ–‡</title>
    <link href="/2019/07/03/%E3%80%90Linux%E3%80%91-Kali-%E5%88%87%E6%8D%A2%E8%AF%AD%E8%A8%80%E4%B8%BA%E4%B8%AD%E6%96%87/"/>
    <url>/2019/07/03/%E3%80%90Linux%E3%80%91-Kali-%E5%88%87%E6%8D%A2%E8%AF%AD%E8%A8%80%E4%B8%BA%E4%B8%AD%E6%96%87/</url>
    
    <content type="html"><![CDATA[<h3 id="ç³»ç»Ÿä»‹ç»"><a href="#ç³»ç»Ÿä»‹ç»" class="headerlink" title="ç³»ç»Ÿä»‹ç»"></a>ç³»ç»Ÿä»‹ç»</h3><hr><p>åšä¸»ä½¿ç”¨çš„ç³»ç»Ÿæ˜¯2020ç‰ˆçš„ VMWare è™šæ‹Ÿæœºç‰ˆæœ¬ï¼Œç³»ç»Ÿè¿è¡Œæµç•…ï¼Œå…¶ä¸­ VMware æ˜¯15 Proï¼Œé…ç½®ä¸ºï¼š2ä¸ªå†…å­˜å„ 1 Gï¼Œè¿è¡Œèµ·æ¥è¿˜æ˜¯ååˆ†æµç•…çš„ï¼Œå¹³æ—¶åˆ‡åœ¨å‰¯å±ä¸Šï¼Œè¿è¡Œæ•ˆæœè·Ÿä¸¤ä¸ªç”µè„‘æ˜¯ä¸€æ ·çš„ã€‚</p><hr><p><br><br></p><h3 id="è¯­è¨€è®¾ç½®"><a href="#è¯­è¨€è®¾ç½®" class="headerlink" title="è¯­è¨€è®¾ç½®"></a>è¯­è¨€è®¾ç½®</h3><hr><ul><li>è¿è¡Œ<code>apt install ttf-wqy-zenhei</code>å‘½ä»¤å®‰è£…ä¸­æ–‡å­—ä½“;</li><li>è¿è¡Œ<code>dpkgâ€“reconfigure locales</code>å‘½ä»¤è®¾ç½®ç³»ç»Ÿæ—¶åŒºï¼Œç‚¹å‡»å›è½¦ä¹‹åå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼š<br><img src="https://img-blog.csdnimg.cn/20210104013716569.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hza18wMw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>è¯·æ³¨æ„ï¼šè¿™è™½ç„¶çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå›¾å½¢ç”¨æˆ·åŒ–ç•Œé¢çš„çª—å£ï¼Œä½†æ˜¯æœ¬è´¨æ˜¯ä¸€ä¸ªæŒ‡ä»¤æ“ä½œçª—å£ï¼Œå¯ä»¥ä½¿ç”¨çš„å»ºåŸºæœ¬åªæœ‰ä¸Šä¸‹å·¦å³ä¸ <code>Tab</code> è¿˜æœ‰ ç©ºæ ¼å»ºï¼Œå…¶ä¸­<code>Tab</code>ç”¨äºä»è“è‰²åŒºåŸŸåˆ‡æ¢åˆ° ç¡®å®š / å–æ¶ˆï¼Œç©ºæ ¼é”®ç”¨äºé€‰ä¸­ï¼›</li><li>æŒ‰  <code>â†“</code>  é”®ï¼Œæ‰¾åˆ° ï¼š<code>[en_us.UTF_8 UTF_8] </code>ã€<code>[zh_CN.GBK GBK]</code>ã€<code>[zh_CN.UTF_8 UTF_8]</code>ä¸‰ç§è¯­è¨€ï¼Œå¹¶æŒ‰ç©ºæ ¼é”®é€‰ä¸­ï¼›<br><img src="https://img-blog.csdnimg.cn/20210104014143753.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/20210104014247708.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>é€‰ä¸­ä»¥åï¼Œç‚¹å‡»<code>tab</code>é”®ï¼Œåˆ‡æ¢åˆ°ç¡®å®šï¼Œç„¶åç‚¹å‡»<code>ç¡®å®š</code>ï¼Œç‚¹å‡»åï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼š<br><img src="https://img-blog.csdnimg.cn/20210104014448392.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hza18wMw==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>é€‰ä¸­<code>zh_CN.UTF-8</code>ï¼Œç‚¹å‡»<code>å›è½¦é”®</code>ï¼›</li><li>è¿”å›åˆ°å‘½ä»¤ç«¯å£ï¼Œé‡å¯å³å¯å˜æˆä¸­æ–‡ç•Œé¢ï¼Œæ³¨ï¼šé‡å¯çš„å‘½ä»¤æ˜¯<code>reboot</code>å½“ç„¶æ‰‹åŠ¨é‡å¯ä¹Ÿæ— å¦¨ï¼›<br><br><br></li></ul><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><hr><br><h4 id="é¿å‘"><a href="#é¿å‘" class="headerlink" title="é¿å‘"></a>é¿å‘</h4><hr><p><font color=red>æ³¨æ„</font>ï¼šç¬¬ä¸€æ¬¡æ›´æ–°è¯­è¨€ä¹‹åï¼Œå¼€æœºåä¼šé‡åˆ°ä¸€ä¸ªçª—å£ï¼ˆç”±äºæ¯æ¬¡æ›´æ”¹è¯­è¨€åé‡å¯åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œæˆ‘è¿™é‡Œæ— æ³•å‡ºç°äº†ï¼Œæˆ‘åœ¨è¿™é‡Œæè¿°ä¸€ä¸‹ï¼‰ï¼š</p><ul><li>çª—å£å†…å®¹åˆ†ä¸ºä¸¤åˆ—å·¦è¾¹æ˜¯æ–‡ä»¶å¤¹çš„åŸè‹±æ–‡åç§°ï¼Œå³è¾¹æ˜¯ä¸­æ–‡åç§°ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š</li></ul><table><thead><tr><th>Desktop</th><th>æ¡Œé¢</th></tr></thead><tbody><tr><td>Downloads</td><td>ä¸‹è½½</td></tr><tr><td>Music</td><td>éŸ³ä¹</td></tr><tr><td>Documents</td><td>æ–‡ä»¶</td></tr></tbody></table><ul><li>çª—å£çš„ä½œç”¨æ˜¯è®©ä½ å†³å®šä¿ç•™åŸæ¥çš„åç§°ï¼ˆç”¨è‹±æ–‡åï¼‰è¿˜æ˜¯æ›´æ–°ä¸ºæ–°çš„åç§°ï¼ˆä¸­æ–‡åï¼‰ï¼Ÿå…¶ä¸­åœ¨æœ€ä¸‹æ–¹æœ‰ä¸ªé€‰é¡¹æ˜¯<code>ä¸å†æç¤º</code>ï¼Œå¦‚æœä½ ä¸ç¡®å®šçš„è¯ï¼Œå¯ä»¥å…ˆä¸å‹¾é€‰è¿™ä¸ªé€‰é¡¹ï¼Œå¹¶åœ¨ä¸‹æ¬¡å¼€æœºçš„æ—¶å€™å°†æ—§åç§°ä¸æ–°åç§°éƒ½ä½“éªŒä¸€ä¸‹ï¼Œå¦‚æœæƒ³çœ‹ä¸¤ç§æ–‡ä»¶åçš„åŒºåˆ«ï¼Œè¯·ç»§ç»­å‘ä¸‹çœ‹ï¼›<br><br><br></li></ul><h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><hr><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘è¦è®²æ¸…æ¥šä¸€ç‚¹ï¼šå³ä½¿ä½ é€‰æ‹©ä¸­æ–‡ï¼Œè¢«æ”¹å˜çš„æ–‡ä»¶å¤¹ä¹Ÿåªæœ‰ä»¥ä¸‹å‡ ä¸ªè€Œå·²ï¼Œæ”¹æˆä¸­æ–‡çœ‹ç€æ›´èˆ’æœï¼Œå¦‚æœä½ ä¸æ˜¯ç»å¸¸ä½¿ç”¨å‘½ä»¤ç»ˆç«¯çš„è¯ï¼Œå½±å“ä¹Ÿä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºæœ€ä¸»è¦çš„é—®é¢˜æ˜¯ä½ æ˜¯å¦ç»å¸¸ä½¿ç”¨<code>å‘½ä»¤ç»ˆç«¯</code>è¿›å…¥è¿™å‡ ä¸ªæ–‡ä»¶å¤¹ï¼Œå¥½æ¯”æˆ‘ç»å¸¸ä¼šä½¿ç”¨<code>cd Downloads</code>å‘½ä»¤ï¼Œå¹¶ä¸”ä¸å¸Œæœ›æ¯æ¬¡åœ¨è¾“å…¥<code>cd</code>ä¹‹åç‚¹å‡»<code>ctrl</code>  +  <code>shift</code>  é”®æ›´æ¢å›ä¸­æ–‡ï¼Œå†è¾“å…¥<code>ä¸‹è½½</code>ï¼Œå†å°†è¾“å…¥æ³•åˆ‡æ¢å›è‹±æ–‡ç»§ç»­æ‰§è¡Œï¼Œé‚£ä¹ˆå¾·åæˆ‘å»ºè®®ä½ æœ€å¥½ä¿ç•™è‹±æ–‡æ–‡ä»¶å¤¹åç§°ï¼›å¦‚æœä½ çš„è‹±è¯­å®åœ¨æ˜¯ä¸å¥½å¹¶ä¸”ä¸è®¤ä¸ºè‡ªå·±å¯ä»¥è®°ä½è¿™ç•™ä¸ªæ–‡ä»¶å¤¹åç§°çš„è¯ï¼Œé‚£ä¹ˆå»ºè®®ä½ ä½¿ç”¨ä¸­æ–‡ï¼›</p><p><img src="https://img-blog.csdnimg.cn/20210104020036172.png" alt="æ˜¯ä¸€å¼ å›¾ç‰‡"></p><br><h4 id="å¯¹å…¶ä»–æ“ä½œç³»ç»Ÿçš„è¯´æ˜"><a href="#å¯¹å…¶ä»–æ“ä½œç³»ç»Ÿçš„è¯´æ˜" class="headerlink" title="å¯¹å…¶ä»–æ“ä½œç³»ç»Ÿçš„è¯´æ˜"></a>å¯¹å…¶ä»–æ“ä½œç³»ç»Ÿçš„è¯´æ˜</h4><hr><p>ä¸­å›½äº§çš„æ“ä½œç³»ç»Ÿï¼Œæ˜¯æ²¡æœ‰è¿™ä¸€é—®é¢˜çš„ï¼Œå³ä½¿ä½ çš„æ“ä½œç³»ç»Ÿè¯­è¨€æ˜¯ä¸­æ–‡ï¼Œ<code>ä¸‹è½½</code>è¿™ä¸ªæ–‡ä»¶å¤¹å°±å«<code>ä¸‹è½½</code>è€Œä¸æ˜¯<code>Downloads</code>ï¼Œé‚£ä¹ˆä½ æ‰§è¡Œ<code>cd Downloads</code>ä¾æ—§å¯ä»¥è¿›<code>ä¸‹è½½</code>æ–‡ä»¶å¤¹ï¼›<br>å¹¶ä¸”ï¼Œè¿™äº›æ“ä½œç³»ç»Ÿæ›´æ¢ä¸­æ–‡è¾“å…¥æ³•æ²¡æœ‰è¿™ä¹ˆéº»çƒ¦ï¼ˆç”šè‡³å¯ä»¥è¯´åŒ…æ‹¬å›½å¤–çš„æ“ä½œç³»ç»Ÿï¼ŒKaliæ˜¯æˆ‘è§è¿‡æœ€éº»çƒ¦çš„ï¼ŒUbuntuåˆ‡æ¢èµ·æ¥ä¹Ÿåªæ˜¯è¿›å…¥è®¾ç½®&gt;æ›´æ”¹&gt;é‡å¯å°±å¥½äº†ï¼‰;</p><p><br><br><br></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><hr><ul><li>æ›´æ¢è¯­è¨€æ¯”è¾ƒç®€å•ï¼›</li><li>æ–‡ä»¶å¤¹å»ºè®®è¿˜æ˜¯é€‰æ‹©è‹±æ–‡çš„ï¼›</li></ul>]]></content>
    
    
    <categories>
      
      <category>Kali</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Debian</tag>
      
      <tag>Kali</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Linuxã€‘å®‰è£…Linuxç³»ç»Ÿåæ¢æºæ“ä½œ</title>
    <link href="/2019/07/03/%E3%80%90Linux%E3%80%91%E5%AE%89%E8%A3%85Linux%E7%B3%BB%E7%BB%9F%E5%90%8E%E6%8D%A2%E6%BA%90%E6%93%8D%E4%BD%9C/"/>
    <url>/2019/07/03/%E3%80%90Linux%E3%80%91%E5%AE%89%E8%A3%85Linux%E7%B3%BB%E7%BB%9F%E5%90%8E%E6%8D%A2%E6%BA%90%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h3 id="Linux-æ¢æº"><a href="#Linux-æ¢æº" class="headerlink" title="Linux æ¢æº"></a>Linux æ¢æº</h3><hr><p><br><br></p><h4 id="æ¢æºç®€ä»‹"><a href="#æ¢æºç®€ä»‹" class="headerlink" title="æ¢æºç®€ä»‹"></a>æ¢æºç®€ä»‹</h4><hr><ul><li>ä»€ä¹ˆæ˜¯æºï¼Ÿ</li></ul><p>æºæ˜¯ Linux ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥è¯´æ˜¯ Linux çš„çµé­‚ï¼Œä¸€ä¸ª Linux é…ç½®çš„æºæ–‡ä»¶å†³å®šäº† Linux ç³»ç»Ÿå¯ä»¥è·å–å“ªäº›èµ„æºï¼Œè·å–å“ªäº›æ–‡ä»¶ï¼Œæºæ–‡ä»¶æŸåæ„å‘³ç€ Linux ç³»ç»Ÿæ— æ³•ä¸‹è½½  / æ›´æ–°ç­‰ï¼›</p><ul><li>ä¸ºä»€ä¹ˆè¦æ¢æºï¼Ÿ</li></ul><p>é™¤äº†éƒ¨åˆ†å›½å†…çš„ Linux ç³»ç»Ÿï¼ˆDeepin / éº’éºŸ é›†æˆäº†å›½å†…çš„æºï¼Œæ‰€ä»¥ä¸ç”¨æ¢ï¼‰ä»¥å¤–ï¼Œå›½å¤–çš„ç³»ç»Ÿï¼Œç±»ä¼¼äºUbuntu / Kali / Parrot è¿™ä¸€ç±»ç³»ç»Ÿï¼Œé»˜è®¤é›†æˆçš„æºæ˜¯å›½å¤–çš„æºï¼Œå¯èƒ½ç”¨è¿‡ Maven ç¼–ç¨‹çš„å°ä¼™ä¼´éƒ½æœ‰è¿‡ç»™ Maven æ¢æºçš„ç»å†ï¼Œåªå› ä¸ºä½¿ç”¨å›½å¤–çš„æºä¸‹è½½ / æ›´æ–°ååˆ†ç¼“æ…¢ï¼Œå¹¶ä¸”ç”±äºé€Ÿåº¦æ…¢ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸‹è½½é”™è¯¯ï¼Œä¸­é€”åœæ­¢ç­‰çŠ¶å†µå‘ç”Ÿï¼Œæ‰€ä»¥å›½å†…çš„æºè¿˜æ˜¯ååˆ†é‡è¦çš„ï¼›</p><ul><li>æºæ–‡ä»¶å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ</li></ul><p>ä» Linux çš„æ ¹ç›®å½•å‡ºå‘ï¼Œæºæ–‡ä»¶å°±å­˜å‚¨åœ¨äº† <code>/etc/apt</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œå…·ä½“åœ°å€æ˜¯ï¼š<code>/etc/apt/source.list</code>æ–‡ä»¶ï¼›</p><ul><li>å¦‚ä½•æ¢æºï¼Ÿ</li></ul><p>ä½¿ç”¨ vim ç¼–è¾‘å™¨è¿›è¡Œæ¢æºï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨è¿‡ vim ç¼–è¾‘å™¨ï¼Œå¯ä»¥<a href="https://www.cnblogs.com/C-Noah/p/14223399.html">ã€ç‚¹å‡»æ­¤å¤„ã€‘</a>æŸ¥çœ‹ vim ç¼–è¾‘å™¨çš„ä½¿ç”¨æ–¹å¼ï¼›</p><p><br><br></p><h4 id="å¼€å§‹æ¢æº"><a href="#å¼€å§‹æ¢æº" class="headerlink" title="å¼€å§‹æ¢æº"></a>å¼€å§‹æ¢æº</h4><hr><ul><li>æ‰“å¼€ç»ˆç«¯ï¼›</li><li>ã€å¦‚æœä½ ä¸æ˜¯ root ç”¨æˆ·ç™»å½•çš„è¯ã€‘è¯·æ‰§è¡Œ <code>sudo su</code>å‘½ä»¤ï¼Œè¿›å…¥è¶…çº§ç”¨æˆ·æ¨¡å¼ï¼Œroot ç”¨æˆ·å¯ä»¥è·³è¿‡æ­¤æ­¥ï¼Œå¦‚æœä½ ä¸ç¡®å®šè‡ªå·±æ˜¯ä¸æ˜¯ root ç”¨æˆ·çš„è¯ï¼Œä¹Ÿè¯·æ‰§è¡Œä¸€æ¬¡ï¼›</li><li>åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š<code>vim /etc/src/source.list</code>æ‰“å¼€æºæ–‡ä»¶ï¼›</li><li>ç‚¹å‡»<code>i</code>é”®è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼›</li><li>æˆ‘ä»¬è§‚å¯Ÿæ–‡ä»¶å¯ä»¥çœ‹åˆ°ï¼Œæœ‰å‡ è¡Œä»£ç çš„å‰é¢æ˜¯æœ‰ä¸€ä¸ª<code>#</code>çš„ï¼Œè¿™æ˜¯è¢«æ³¨é‡Šæ‰çš„ä»£ç ï¼Œä¸å‘æŒ¥ä½œç”¨ï¼Œæ¢æºå‰æˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰çš„ä»£ç éƒ½æ³¨é‡Šæ‰ï¼Œå¯ä»¥é€‰æ‹©åœ¨æ²¡è¢«æ³¨é‡Šæ‰çš„ä»£ç å‰è¾“å…¥ä¸¤ä¸ª<code>##</code>ï¼Œæ³¨é‡Šçš„åŒæ—¶ï¼ŒåŒºåˆ†å‡ºè¿™ä¸€è¡Œæ˜¯ç³»ç»Ÿè‡ªå¸¦çš„æºï¼ˆå¦‚æœä½ æƒ³çš„è¯ï¼Œä¹Ÿå¯ä»¥å°†æ‰€æœ‰çš„ä»£ç åˆ é™¤æ‰ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™ä¹ˆåšï¼‰ï¼›</li><li>ç‚¹åˆ°æœ¬åšå®¢çš„æœ€ä¸‹æ–¹ï¼Œå¯»æ‰¾ä½ æƒ³è¦çš„æºï¼Œå¤åˆ¶åç²˜è´´è¿›æºæ–‡ä»¶ï¼ˆå°±æ˜¯å½“å‰æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ï¼‰ä¸­ï¼Œæ³¨æ„ï¼šå‘½ä»¤è¡Œä¸‹çš„ç²˜è´´é”®æ˜¯ï¼šctrl + shift + c;</li><li>ç‚¹å‡»<code>Esc</code>é”®ï¼Œè¿›å…¥åˆ°åº•è¡Œæ¨¡å¼ï¼›</li><li>è¾“å…¥<code>:wq</code>ï¼Œè¿™æ—¶å€™ä½ ä¼šå‘ç°ä½ è¾“å…¥çš„å†…å®¹å‡ºç°åœ¨äº† ç»ˆç«¯ çš„æœ€åº•éƒ¨ï¼Œè¿™å°±æ˜¯å‘½ä»¤è¡Œæ¨¡å¼ï¼Œè¯¦æƒ…å¯ä»¥<a href="https://www.cnblogs.com/C-Noah/p/14223399.html">ã€ç‚¹å‡»æ­¤å¤„ã€‘</a>çœ‹æˆ‘è¿™ä¸€ç¯‡åšå®¢ï¼›</li><li>æ‰§è¡Œå‘½ä»¤ï¼š<code>apt-get update</code>è¿›è¡Œä¸€æ¬¡æºæ–‡ä»¶çš„é‡æ–°è¯†åˆ«ï¼›</li><li>æ‰§è¡Œå‘½ä»¤ï¼š<code>apt-get upgrade</code>è¿›è¡Œä¸€æ¬¡æ›´æ–°ï¼›</li><li>æ¢æºç»“æŸï¼›</li></ul><p><br><br><br></p><h3 id="å›½å†…æº"><a href="#å›½å†…æº" class="headerlink" title="å›½å†…æº"></a>å›½å†…æº</h3><hr><br><h4 id="æ¸…åæºï¼š"><a href="#æ¸…åæºï¼š" class="headerlink" title="æ¸…åæºï¼š"></a>æ¸…åæºï¼š</h4><hr><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">deb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial main restricteddeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial<span class="token operator">-</span>updates main restricteddeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial universedeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial<span class="token operator">-</span>updates universedeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial multiversedeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial<span class="token operator">-</span>updates multiversedeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial<span class="token operator">-</span>backports main restricted universe multiversedeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial<span class="token operator">-</span>security main restricteddeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial<span class="token operator">-</span>security universe deb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> xenial<span class="token operator">-</span>security multiverse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><h4 id="æ·±åº¦ï¼ˆDeepinï¼‰æºï¼š"><a href="#æ·±åº¦ï¼ˆDeepinï¼‰æºï¼š" class="headerlink" title="æ·±åº¦ï¼ˆDeepinï¼‰æºï¼š"></a>æ·±åº¦ï¼ˆDeepinï¼‰æºï¼š</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">deb <span class="token punctuation">[</span>by<span class="token operator">-</span>hash<span class="token operator">=</span>force<span class="token punctuation">]</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>tuna<span class="token punctuation">.</span>tsinghua<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>deepin<span class="token operator">/</span> unstable main contrib non<span class="token operator">-</span>free<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><br><h4 id="ä¸­ç§‘å¤§æºï¼š"><a href="#ä¸­ç§‘å¤§æºï¼š" class="headerlink" title="ä¸­ç§‘å¤§æºï¼š"></a>ä¸­ç§‘å¤§æºï¼š</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">deb https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic main restricted universe multiversedeb<span class="token operator">-</span>src https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic main restricted universe multiversedeb https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>updates main restricted universe multiversedeb<span class="token operator">-</span>src https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>updates main restricted universe multiversedeb https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>backports main restricted universe multiversedeb<span class="token operator">-</span>src https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>backports main restricted universe multiversedeb https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>security main restricted universe multiversedeb<span class="token operator">-</span>src https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>security main restricted universe multiversedeb https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>proposed main restricted universe multiversedeb<span class="token operator">-</span>src https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>ustc<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>cn<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>proposed main restricted universe multiverse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><br><h4 id="é˜¿é‡Œæºï¼š"><a href="#é˜¿é‡Œæºï¼š" class="headerlink" title="é˜¿é‡Œæºï¼š"></a>é˜¿é‡Œæºï¼š</h4><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java"># é˜¿é‡Œé•œåƒæºdeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic main restricted universe multiversedeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>security main restricted universe multiversedeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>updates main restricted universe multiversedeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>proposed main restricted universe multiversedeb http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>backports main restricted universe multiversedeb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic main restricted universe multiversedeb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>security main restricted universe multiversedeb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>updates main restricted universe multiversedeb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>proposed main restricted universe multiversedeb<span class="token operator">-</span>src http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com<span class="token operator">/</span>ubuntu<span class="token operator">/</span> bionic<span class="token operator">-</span>backports main restricted universe multiverse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>å…¥é—¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Linuxã€‘å®‰è£…ç³»ç»Ÿçš„æ—¶å€™é‡åˆ°grub-install Error é—®é¢˜çš„è§£å†³ï¼Œè¶…è¯¦ç»†å‚»ç“œå¼æ•™ç¨‹</title>
    <link href="/2019/07/03/%E3%80%90Linux%E3%80%91%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%97%B6%E5%80%99%E9%81%87%E5%88%B0grub-install-Error-%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%EF%BC%8C%E8%B6%85%E8%AF%A6%E7%BB%86%E5%82%BB%E7%93%9C%E5%BC%8F%E6%95%99%E7%A8%8B/"/>
    <url>/2019/07/03/%E3%80%90Linux%E3%80%91%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%97%B6%E5%80%99%E9%81%87%E5%88%B0grub-install-Error-%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%EF%BC%8C%E8%B6%85%E8%AF%A6%E7%BB%86%E5%82%BB%E7%93%9C%E5%BC%8F%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><hr><p>è¿™ç¯‡åšå®¢å†™äº2020å¹´5æœˆ11æ—¥ï¼Œæœ€åˆå‘å¸ƒåœ¨æˆ‘çš„ CSDN åšå®¢ä¸Šï¼Œå½“æ—¶çš„æˆ‘åˆšç©çƒ‚äº†è™šæ‹Ÿæœºï¼Œæ„Ÿè§‰æœ‰äº›å¡é¡¿ï¼Œæ‰€ä»¥æƒ³æ¢æˆå®ä½“æœºç³»ç»Ÿï¼Œæœ€å¥½çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ åŒç³»ç»Ÿ ï¼Œä¸€å¼€å§‹æˆ‘åªæ˜¯å®éªŒæ€§çš„å®‰è£…äº†ä¸€æ¬¡ï¼Œè£…åœ¨äº†æˆ‘çš„å¤–æ¥ç£ç›˜ä¸Šï¼Œå®‰è£…æˆåŠŸï¼Œåœ¨åé¢æ— è®ºæ€ä¹ˆå®‰è£…éƒ½å¤±è´¥ï¼Œæˆ‘ç”šè‡³å°è¯•å¸è½½äº† Win ç³»ç»Ÿï¼Œåªè£…ä¸€ä¸ª Ubuntu ç³»ç»Ÿï¼Œä¹Ÿæ˜¯å¤±è´¥ï¼Œåæ¥å°±ç»å†äº†å¤§æ¦‚ä¸€ä¸ªæœˆå·¦å³çš„æ‹†æœºé˜¶æ®µï¼Œåœ¨ä¸€ä¸ªæœˆçš„æ—¶é—´é‡Œæˆ‘çš„ç¬”è®°æœ¬éƒ½å¤„äºå„ç±»ç¡¬ä»¶é›¶æ•£æ’æ”¾éšæ„æ¢çš„é˜¶æ®µï¼Œç”šè‡³æ›´æ¢äº†å…¨æ–°çš„ç¡¬ç›˜ä¹‹åï¼Œè¿˜æ˜¯å¤±è´¥ï¼Œæœ€åæ— å¥ˆèŠ±é’±æ±‚åŠ©å¤§ä½¬ï¼ˆè¿˜æ˜¯æ‰¾äº†ä¸‰ä¸ªæ‰æˆåŠŸï¼Œå‰ä¸¤ä¸ªéƒ½å¤±è´¥äº†ï¼‰ï¼Œç„¶åå­¦ä¼šäº†ä¸‹é¢ä¸€å¥—åšæ³•ï¼Œåœ¨æ­£å¼è¿›å…¥æ­¥éª¤ä¹‹å‰ï¼Œæˆ‘å…ˆè¯´ä¸€ä¸‹ä½†æ˜¯æˆ‘çš„ç”µè„‘çš„å‹å·ï¼›</p><p><font color=DarkGray size=2>æ¥ç”±äºè¿™ç”µè„‘æ‹¿ç€æ­»æ²‰æ­»æ²‰çš„ï¼Œè€Œæˆ‘ä¸æ‰“æ¸¸æˆï¼Œå½“æ—¶æˆ‘ä»¥ä¸ºè£…ç³»ç»Ÿå¤±è´¥æ˜¯ç”µè„‘çš„é—®é¢˜ï¼Œå°±åœ¨2020å¹´åˆæ¢äº†å°ç”µè„‘ï¼Œæœ‰çš„å‚æ•°è®°ä¸æ¸…æ¥šäº†ï¼›</font></p><table><thead><tr><th>è®¡ç®—æœº</th><th>é…ç½®</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>å‹å·</td><td>é›·ç¥ SE911</td><td>è´­ä¹°å¹´ä»½ 2017å¹´å¹´åº•</td></tr><tr><td>CPU</td><td>è®°ä¸æ¸…</td><td></td></tr><tr><td>æ˜¾å¡</td><td>1050T</td><td></td></tr><tr><td>ç¡¬ç›˜</td><td>126Gï¼ˆå›ºæ€ï¼‰ + 1 Tï¼ˆæœºæ¢°ï¼‰</td><td>+ 512Gï¼ˆå¤–æ¥æœºæ¢°ï¼‰+256Gï¼ˆå¤–æ¥å›ºæ€ï¼‰</td></tr><tr><td>å†…å­˜</td><td>8Gb</td><td></td></tr></tbody></table><p>ç”±äºé‚£ä¸€ä¸ªæœˆçš„æ‹†ç”µè„‘ç»å†ï¼Œåæ¥æˆ‘åœ¨å­¦æ ¡è·Ÿç§»åŠ¨å…¬å¸åˆä½œï¼Œå¼€äº†ä¸€ä¸ªç»´ä¿®ç”µè„‘çš„å°åº—ï¼Œï¼ˆç”±äºç–«æƒ…å°æ ¡ç”Ÿæ„ä¸€åº¦ç«çˆ†çš„ä¸è¡Œï¼‰ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘æ”¶è´­äº†ä¸€å°Macbook Airï¼ˆä¸€å°æ— æ³•å¼€æœºçš„å°¸ä½“æœºï¼Œåæ¥ç»´ä¿®ååˆå–äº†ï¼‰ï¼Œè£… Linux ååˆ†é¡ºç•…äº†ï¼Œä¸”æ€ä¹ˆè£…éƒ½å¯ä»¥ï¼›</p><p>æˆ‘ç°åœ¨ä½¿ç”¨çš„ç¬”è®°æœ¬æ˜¯ å°ç±³ Proï¼Œæ€§èƒ½è¿˜å¯ä»¥ï¼Œè£… Ubuntu / Kaliè¿˜æ˜¯ä¼šé‡åˆ° grub é—®é¢˜ï¼Œä½†æ˜¯å›½äº§ç³»ç»Ÿï¼Œåƒæ˜¯ä¼˜éº’éºŸï¼ˆUkylinï¼‰æˆ–è€…æ·±åº¦ï¼ˆDeepinï¼‰åˆ™ä¸ä¼šï¼Œå½“æ—¶æœäº†å¾ˆå¤šèµ„æ–™éƒ½è¯´æ˜¯ç”±äº è‹±ä¼Ÿè¾¾ æ˜¾å¡é—®é¢˜ï¼Œè¿™ä¸€è¯´è¾ƒä¸ºåˆç†ï¼Œé¦–å…ˆMacç¬”è®°æœ¬æ²¡æœ‰ç‹¬ç«‹æ˜¾å¡ï¼Œè€Œå°ç±³ç¬”è®°æœ¬å®‰è£…Deepin / éº’éºŸ æˆåŠŸæ˜¯å› ä¸ºè¿™ä¸¤ä¸ªç³»ç»Ÿåœ¨å®‰è£…çš„æ—¶å€™å°±é›†æˆäº†è‹±ä¼Ÿè¾¾æ˜¾å¡çš„é©±åŠ¨ï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºè¿™ä¸€è¯´æ³•è¿˜æ˜¯æ¯”è¾ƒæœ‰é“ç†ï¼Œä½†æ˜¯æˆ‘è¿˜æœ‰ä¸€ç§çŒœæµ‹æ˜¯ï¼šä¹Ÿè®¸æ˜¯å› ä¸ºå¼•å¯¼é—®é¢˜å¯¼è‡´çš„grub-install Errorï¼Œå› ä¸ºå½“æ—¶æˆ‘çš„é›·ç¥ç¬”è®°æœ¬ï¼Œå†æ¢äº†ç¡¬ç›˜ä¹‹åï¼Œå±…ç„¶è¿˜æ˜¯èƒ½æ‰«æåˆ°ä¹‹å‰çš„å› ä¸ºï¼Œè¿™çœŸçš„å¾ˆç¥å¥‡ï¼›ä¸è¿‡åˆ°ç°åœ¨æˆ‘ä¹Ÿæ²¡æœ‰çœŸæ­£å¼„æ˜ç™½ä¸ºå•¥ä¼šå‡ºç°è¿™ä¹ˆå¥‡æ€ªçš„ç°è±¡ è€Œ Ubuntu å…¬å¸å´æ— åŠ¨äºè¡·ï¼Œä¹Ÿè®¸æ˜¯èµ„é‡‘æœ‰é™å§â€¦.</p><p><br><br></p><h3 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h3><hr><p>å®‰è£…ä¹‹å‰ï¼Œè¯·æ£€æŸ¥ä¸€ä¸‹æœºå­æ˜¯å¦æœ‰è‹±ä¼Ÿè¾¾æ˜¾å¡ï¼Œå¯¹å°ç™½æ¥è¯´çš„è¯ï¼Œå°±æ˜¯ä½ çš„æœºå­ä¸Šé¢æœ‰æ²¡æœ‰ä¸€ä¸ªè¿™æ ·å­çš„ç¾ä¸½è´´çº¸ï¼Œé»‘ç»¿è‰²çš„èƒŒæ™¯ä¸Šé¢å†™ç€NVIDIAï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå»ºè®®æ”¶è—ä¸€ä¸‹æœ¬å¸–ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200511013644909.png" alt="img"><img src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" alt="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨"></p><p><br><br></p><h4 id="ä¸‹è½½ç³»ç»Ÿï¼š"><a href="#ä¸‹è½½ç³»ç»Ÿï¼š" class="headerlink" title="ä¸‹è½½ç³»ç»Ÿï¼š"></a>ä¸‹è½½ç³»ç»Ÿï¼š</h4><hr><p>ç”±äºæ˜¯å›½å¤–çš„ç½‘å€ï¼Œæ‰€ä»¥ä¸‹è½½ä¸‹æ¥ä¼šæ¯”è¾ƒæ…¢ï¼Œæ²¡è®°é”™çš„è¯ï¼Œè¿™ä¸¤ä¸ªé“¾æ¥åº”è¯¥æ˜¯æ°¸ä¹…æœ‰æ•ˆï¼š</p><ul><li>Ubuntu 18.04 + 20.04 ç‰ˆï¼š</li></ul><blockquote><p>å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦<br>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1Xc0CaxYZgJtDvWyGH3WuUw">https://pan.baidu.com/s/1Xc0CaxYZgJtDvWyGH3WuUw</a> æå–ç ï¼š9D8b</p></blockquote><p>å®‰è£…æ­¥éª¤ï¼šæœ¬æ–‡ä¸»è¦æ˜¯è§£å†³grubé—®é¢˜ï¼Œæ‰€ä»¥å®‰è£…ä¸èµ˜è¿°ï¼Œéœ€è¦çš„è¯å¯ä»¥[ã€ç‚¹å‡»æŸ¥çœ‹ã€‘]ï¼›</p><ul><li>ä¸‹è½½è½¯ä»¶ï¼šDiskGenius</li></ul><blockquote><p>å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦<br>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1p-mwVCcb0f3P91qSQzlqxg">https://pan.baidu.com/s/1p-mwVCcb0f3P91qSQzlqxg</a> æå–ç ï¼š6bS4</p></blockquote><p><br><br></p><h4 id="è§£å†³é—®é¢˜ï¼š"><a href="#è§£å†³é—®é¢˜ï¼š" class="headerlink" title="è§£å†³é—®é¢˜ï¼š"></a>è§£å†³é—®é¢˜ï¼š</h4><hr><ul><li><p>æˆ‘é»˜è®¤çœ‹åˆ°è¿™é‡Œçš„ä½ å·²ç»é‡åˆ°äº†Grubé—®é¢˜ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œè¦ä¹ˆä½ å·²ç»å®‰è£…äº†ï¼Œè¦ä¹ˆä½ è¿˜æ²¡å¼€å§‹ï¼Œå…·ä½“å®‰è£…è¿‡ç¨‹å¯ä»¥å»ç½‘ä¸Šç™¾åº¦ï¼Œç½‘ä¸Šçš„æ•™ç¨‹çœŸçš„è¶…çº§å¤šï¼Œè‡‚å±•ä¹Ÿæœ‰ååˆ†è¯¦ç»†çš„è¯´æ˜ï¼›</p></li><li><p>é‡æ–°å¼€æœºï¼Œè¿›å…¥Windows ï¼ˆå¦‚æœè¿›ä¸å»çš„è¯å°±åœ¨å¼€æœºçš„æ—¶å€™ä¸€ç›´ç‚¹å‡»F12ï¼Œé€‰æ‹© Windowsï¼‰</p></li><li><p>æ‰“å¼€DiskGeniusï¼ˆä»¥ä¸‹ç®€ç§°ä¸ºDGï¼‰</p></li><li><p>ä½¿ç”¨ DG è¿›å…¥Windowsçš„å¼•å¯¼åŒº  EFI åŒº</p><p>EFIå¼•å¯¼åŒºåªæœ‰100Må·¦å³ï¼Œé‡Œé¢æœ‰bootã€winç­‰æ–‡ä»¶</p></li><li><p>è§£å‹ç¼©ä½ çš„ Ubuntu é•œåƒæ–‡ä»¶ï¼Œè¿›å…¥<code>/boot/grub/</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œå°†é‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶æ¡Œé¢ï¼ˆè‡ªå·±æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå‘½åæˆubuntuå…¨å°å†™ï¼‰</p></li><li><p>å°†è¿™ä¸ªæ–‡ä»¶å¤¹æ‹–åˆ°DGçš„efiçš„æ ¹ç›®å½•ä¸‹</p></li><li><p>å…³é—­DGï¼Œé‡å¯ï¼Œåœ¨å¼€æœºç”»é¢æ—¶å€™æŒ‰<code>f12</code>ï¼Œé€‰æ‹©Uç›˜å¯åŠ¨</p></li><li><p>åœ¨<code>ubuntu</code>çš„åœ°æ–¹æ‘å­—æ¯<code>e</code>è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªç±»ä¼¼äºä»£ç çš„æ–‡ä»¶</p></li><li><p>æ‰¾åˆ°æ–‡ä»¶ä¸­çš„â€œâ€”-â€ï¼Œåœ¨è¿™å‡ ä¸ªæ¨ªæ è·Ÿå®ƒçš„å‰ä¸€ä¸ªå•è¯ä¸­é—´åŠ ä¸€ä¸ª<code>nomodeset</code>ï¼ˆä½œç”¨ï¼šå±è”½æ˜¾å¡ï¼‰ï¼Œæ³¨æ„è¿™ä¸ªå•è¯å‰åéƒ½è¦æœ‰ç©ºæ ¼ï¼›</p></li><li><p>æ›´æ”¹å¥½ä»¥åæ‘F10ï¼Œè¿›å…¥å®‰è£…æ¨¡å¼ï¼Œè¿™é‡Œå¯ä»¥Ctrl+cè·³è¿‡æ£€æŸ¥ï¼Œç›´æ¥è¿›å…¥å®‰è£…ï¼›</p></li><li><p>å‰é¢ä¸æ–­æ‰§è¡Œï¼Œç›´åˆ°é€‰æ‹©ã€ä¸Windowsä¸€èµ·å®‰è£…ã€‘ï¼ˆinstall ubuntu alongside with WIindowsï¼‰è¿˜æ˜¯ã€è‡ªå®šä¹‰ã€‘é‚£ä¸ªç•Œé¢è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ï¼šå…¶ä»–ï¼ˆsomething elseï¼‰ï¼Œè¿›å…¥æ‰‹åŠ¨åˆ†åŒºï¼š</p><ul><li><p>åˆ†åŒºçš„è¿™é‡Œè¦æ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœä½ æ˜¯æƒ³ubuntuã€è¿è¡Œåœ¨å›ºæ€ã€‘ã€æ–‡ä»¶å­˜å‚¨åœ¨æœºæ¢°ã€‘å°±é€‰æ‹©å¦‚ä¸‹åˆ†åŒºæ¨¡å¼ï¼š</p></li><li><p><code>/</code> åŒº ã€ å›ºæ€ç¡¬ç›˜ã€ ä¸»åˆ†åŒºã€å¤§å°10Gå¾€ä¸Šï¼Œæˆ‘ç»™äº†100Gï¼Œåœ¨ç»™æœ‹å‹è£…çš„æ—¶å€™æ˜¯åˆ†äº†15Gï¼Œä¹ŸæŒºæµç•…ï¼›</p></li><li><p><code>/home</code>åŒºã€æœºæ¢°ã€é€»è¾‘åˆ†åŒºï¼Œå¤§å°æ— é™åˆ¶ä½†æ˜¯æ˜¯æ”¾æ–‡ä»¶çš„å»ºè®®ä¸è¦å¤ªå°ï¼Œæˆ‘ç»™300Gï¼Œç»™æœ‹å‹åˆ†çš„æ—¶å€™è£…äº†25Gï¼›</p></li><li><p>ç„¶åæŒ‚è½½åœ¨å›ºæ€å¼€å¤´çš„åœ°æ–¹å°±è¡Œï¼Œè¿™é‡Œ<font color=7baf23 >ã€ä¸€å®šè¦æ‹å¼ ç…§ã€‘</font>ï¼Œä¸€ä¼šå„¿å¼€æœºæ—¶å€™ä¼šç”¨åˆ°ï¼›</p></li></ul></li><li><p>ç„¶åä¸æ–­ç»§ç»­ï¼Œæœ€ç»ˆè¿›å…¥æ¡Œé¢æ¨¡å¼ï¼Œè¿›å…¥åé‡å¯ï¼›</p></li><li><p>ä¾æ—§æ˜¯Uç›˜å¯åŠ¨ï¼Œåœ¨ <code>install ubuntu</code> çš„åœ°æ–¹æ‘<code>e</code>è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼›</p></li><li><p>åœ¨å€’æ•°ç¬¬äºŒè¡Œæœ€ååŠ ä¸€ä¸ª<code>nomodeset</code>ï¼Œæ‘F10ç»§ç»­ï¼›</p></li></ul><p><br><br></p><h4 id="å¯åŠ¨ç³»ç»Ÿ"><a href="#å¯åŠ¨ç³»ç»Ÿ" class="headerlink" title="å¯åŠ¨ç³»ç»Ÿ"></a>å¯åŠ¨ç³»ç»Ÿ</h4><hr><ul><li><p>æŒ‰å¼€æœºé”®å¯åŠ¨ç³»ç»Ÿï¼Œå¦‚æœæ­£å¸¸çš„è¾“å…¥å¯†ç ï¼Œè¿›å…¥ç³»ç»Ÿäº†ï¼ˆå¦‚æœè¿›å…¥ç³»ç»Ÿå¤±è´¥ï¼Œè¯·ç›´æ¥æ‰§è¡Œï¼‰</p></li><li><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ï¼š</p><ul><li>sudo sed -i â€˜s/vmlinuz/vmlinuz nomodeset  /gâ€™ /boot/grub/grub.cfg</li><li>sudo grep â€˜vmlinuzâ€™ /boot/grub/grug.cfg</li></ul></li><li><p>æ²¡æŠ¥é”™ï¼ŒæˆåŠŸï¼ŒæŠ¥é”™äº†å°±è¾“å…¥ä¸‹é¢ä¸€æ¡å‘½ä»¤ï¼š</p><ul><li>sudo vim /boot/grub/grub.cfg ï¼ˆç”¨ vim ç¼–è¾‘å™¨æ‰“å¼€<code>ã€boot/grub/grub.cfg</code>æ–‡ä»¶ï¼‰ï¼›</li><li>åœ¨æ–‡æœ¬é‡Œæ‰¾ç¬¬ä¸€ä¸ªå‡ºç°çš„ â€œ linux /boot/vmlinuz â€œåœ¨åé¢åŠ ä¸Šä¸€ä¸ªnomodesetï¼Œä¿å­˜é€€å‡ºï¼›</li><li>å¯¹ vim ç¼–è¾‘å™¨çš„ä½¿ç”¨æœ‰ç–‘é—®å¯ä»¥<a href="https://www.cnblogs.com/C-Noah/p/14223399.html">ã€ç‚¹å‡»è¿›å…¥ã€‘</a>æˆ‘çš„å¦ä¸€ç¯‡åšå®¢ï¼Œå­¦ä¹  vim ç¼–è¾‘å™¨çš„ä½¿ç”¨ï¼›</li></ul></li><li><p>åˆ°è¿™é‡Œå®‰è£…å·²ç»ç»“æŸï¼Œå¯æ˜¯å¦‚æœåœ¨æŒ‡å®šè¿™ä¸€éƒ¨åˆ†çš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿå°±æ˜¯ã€æŒ‰ä¸‹å¼€æœºé”®å¯åŠ¨ã€‘çš„æ—¶å€™è¿›å…¥äº† <code>grub&gt;</code>æ ·å¼çš„å‘½ä»¤è¡Œï¼Œé‚£ä¹ˆæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><ul><li>æ‰¾åˆ°åˆšåˆšæ‹çš„ç…§æ‹ä½ ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š<ul><li>ç»™ ubuntu åˆ†çš„<code>/</code>ï¼ˆæ ¹ç›®å½•ï¼‰åŒºå‰é¢æœ‰å‡ ä¸ªå°å­—ï¼Œæ˜¯sd xyï¼ˆ xyæ˜¯ä½ çš„åŒºå·ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯sda5ï¼‰ï¼Œæ¥ä¸‹æ¥ä»¥sda5ä¸ºä¾‹å­ï¼Œä»‹ç»ä»¥ä¸‹çš„å‘½ä»¤ï¼š</li></ul></li><li>åœ¨ grub&gt; åè¾“å…¥è‡ªå·±çš„ç™»å½•è´¦å·ï¼Œç‚¹å‡»å›è½¦ï¼Œå†è¾“å…¥å¯†ç ï¼Œç‚¹å‡»å›è½¦ï¼ˆä¸åŒç‰ˆæœ¬çš„ç³»ç»Ÿåˆå§‹å¯†ç ä¸ä¸€æ ·ï¼Œå¦‚æœä¸çŸ¥é“çš„è¯å»ºè®®ç™¾åº¦ï¼Œå¦‚æœæç¤º<code>commond not found</code>çš„è¯ï¼Œåˆ™è·³è¿‡è¿™ä¸€æ­¥å°±å¯ä»¥ï¼‰ï¼› </li><li>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š<ul><li>ls</li><li>set root=(hd0,5)</li><li>linux /boot/vm</li><li>initrd /boot/init</li><li>boot</li></ul></li></ul></li><li><p>åˆ°è¿™é‡Œï¼Œé—®é¢˜å½»åº•è§£å†³ï¼›</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Error</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€åšå®¢ã€‘å¸¸ç”¨é¢œè‰²</title>
    <link href="/2019/03/16/markdown/%E3%80%90%E5%8D%9A%E5%AE%A2%E3%80%91%E5%B8%B8%E7%94%A8%E9%A2%9C%E8%89%B2/"/>
    <url>/2019/03/16/markdown/%E3%80%90%E5%8D%9A%E5%AE%A2%E3%80%91%E5%B8%B8%E7%94%A8%E9%A2%9C%E8%89%B2/</url>
    
    <content type="html"><![CDATA[<h2 id="é¢œè‰²è¡¨"><a href="#é¢œè‰²è¡¨" class="headerlink" title="é¢œè‰²è¡¨"></a>é¢œè‰²è¡¨</h2><hr><p><font color=DarkRed>â–ˆâ–ˆâ–ˆ ï¼šDarkRed</font></p><p><font color=DarkYellow>â–ˆâ–ˆâ–ˆ ï¼šDarkYellow</font></p><p><font color=red>â–ˆâ–ˆâ–ˆ ï¼šred</font></p><p><font color=DarkOrange>â–ˆâ–ˆâ–ˆ ï¼šDarkOrange</font></p><p><font color=Orange>â–ˆâ–ˆâ–ˆ ï¼šOrange</font></p><p><font color=Yellow>â–ˆâ–ˆâ–ˆ ï¼šYellow</font></p><p><font color=LightYellow>â–ˆâ–ˆâ–ˆ ï¼šLightYellow</font></p><p><font color=DarkGreen>â–ˆâ–ˆâ–ˆ ï¼šDarkGreen</font></p><p><font color=Green>â–ˆâ–ˆâ–ˆ ï¼šGreen</font></p><p><font color=7baf23 >â–ˆâ–ˆâ–ˆ ï¼š7baf23 </font></p><p><font color=LightGreen>â–ˆâ–ˆâ–ˆ ï¼šLightGreen</font></p><p><font color=DarkBlue>â–ˆâ–ˆâ–ˆ ï¼šDarkBlue</font></p><p><font color=Blue>â–ˆâ–ˆâ–ˆ ï¼šBlue</font></p><p><font color=LigBlue>â–ˆâ–ˆâ–ˆ ï¼šLigBlue</font></p><p><font color=LightBlue>â–ˆâ–ˆâ–ˆ ï¼šLightBlue</font></p><p><font color=Purple>â–ˆâ–ˆâ–ˆ ï¼šPurple</font></p><p><font color=DPurple>â–ˆâ–ˆâ–ˆ ï¼šPurple</font></p>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Markdown</tag>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Linuxã€‘ Debian ç³» Linux å®‰è£…æœç‹—è¾“å…¥æ³•</title>
    <link href="/2018/11/21/%E3%80%90Linux%E3%80%91-Linux-%E5%AE%89%E8%A3%85%E6%90%9C%E7%8B%97%E8%BE%93%E5%85%A5%E6%B3%95/"/>
    <url>/2018/11/21/%E3%80%90Linux%E3%80%91-Linux-%E5%AE%89%E8%A3%85%E6%90%9C%E7%8B%97%E8%BE%93%E5%85%A5%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p><font color=Darkgray size=2>ç½—é‡Œå§å—¦çš„è¯ï¼›<font color=7baf23 >å¯ä»¥è·³è¿‡ï¼›</font></font></p><hr><p>æœç‹—è¾“å…¥æ³•ï¼Œä½œä¸ºæˆ‘ä½“éªŒæœ€å¥½çš„ä¸€ä¸ªè¾“å…¥æ³•ï¼Œä¸€ç›´é™ªæˆ‘ä»å°å­¦èµ°åˆ°äº†ç°åœ¨ï¼Œä¼˜éº’éºŸçº¿ä¸Šå‘å¸ƒä¼šæ—¶ï¼Œæœç‹—å›¢é˜Ÿä»£è¡¨ç”¨â€œèªæ˜â€æ¥å½¢åŒå®ƒï¼Œäº‹å®ä¹Ÿç¡®å®å¦‚æ­¤ï¼Œå®ƒèƒ½ååˆ†äººæ€§åœ°è®°å½•ä½¿ç”¨è€…å¸¸ç”¨çš„çƒ­è¯ï¼Œå¹¶ä¸”ä¼šâ€œçŒœæµ‹â€ä½¿ç”¨è€…æƒ³è¡¨è¾¾çš„æ„æ€ï¼Œä¸€ä¸ªå·¥å…·æ€è€ƒå˜å¤šäº†ï¼Œå°±æ„å‘³ç€å®ƒçš„ä½¿ç”¨è€…æ€è€ƒå˜å°‘äº†ï¼Œè¿™ä¹Ÿæ­£æ˜¯æˆ‘ä¸€ç›´ä¹ æƒ¯äºæœç‹—çš„åŸå› ï¼Œæ‰€ä»¥åœ¨å®‰è£…Linuxç³»ç»Ÿä¹‹åï¼Œç¬¬ä¸€æ—¶é—´å¹¶ä¸æ˜¯æƒ³ç€å¦‚ä½•å»å®‰è£…å„ç§ç¼–ç¨‹å·¥å…·ï¼Œè€Œæ˜¯å®‰è£…ä¸€ä¸ªæœç‹—è¾“å…¥æ³•ï¼Œä¸è¿‡ï¼Œæœç‹—å¯¹Linuxçš„æ”¯æŒå¹¶ä¸æ˜¯ååˆ†å‹å¥½ï¼ˆä¸»è¦åŸå› åº”è¯¥æ˜¯Linuxç”¨æˆ·è¿˜æ˜¯å¤ªå°‘äº†ï¼Œå¹¶ä¸”Linuxçš„ä¸åŒå‘è¡Œç‰ˆæœ¬å¤ªå¤šäº†ï¼Œè¯¦æƒ…å¯ä»¥<a href="https://www.cnblogs.com/C-Noah/p/14221495.html">ã€ç‚¹å‡»æ­¤å¤„ã€‘</a>æŸ¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡åšå®¢ï¼‰ï¼Œä½†æ˜¯å¥½åœ¨ï¼Œå›½å†…çš„å‡ ä¸ªç³»ç»Ÿè¿˜æ˜¯è·Ÿæœç‹—å…¬å¸åˆä½œï¼Œå¹¶ä¸”å‘è¡Œäº†æœç‹—çš„Linuxç‰ˆæœ¬ï¼Œæ¥ä¸‹æ¥çœ‹æ•™ç¨‹ã€‚</p><h3 id="é¿å‘ä»‹ç»"><a href="#é¿å‘ä»‹ç»" class="headerlink" title="é¿å‘ä»‹ç»"></a>é¿å‘ä»‹ç»</h3><p><font color=DarkGray size=2>å®‰è£…æœç‹—å‰çš„å‡†å¤‡å·¥ä½œï¼›<font color=red>ä¸å¯è·³è¿‡ï¼›</font></font></p><hr><p>åœ¨å®‰è£…ä¹‹å‰ï¼Œè¦å…ˆä»‹ç»ä¸¤ä¸ªä¸œè¥¿ï¼Œä»–ä»¬åˆ†åˆ«å«ï¼š  fcitx  ä¸ ibus ï¼Œè¿™ä¸¤ä¸ªå·¥å…·æ˜¯ Linux æœ€åŸå§‹çš„è¾“å…¥æ³•å·¥å…·ï¼Œå…¶åœ¨ Linux ä¸­çš„åœ°ä½ä¸ä¸‹äº10å¹´å‰æˆ‘ä»¬å¸¸ç”¨çš„æœ€åŸå§‹çš„ æ‹¼éŸ³ / äº”ç¬” è¾“å…¥æ³•ï¼Œè¿™ä¸¤ä¸ªå·¥å…·éƒ½æœ‰è‡ªå·±çš„ä¸­æ–‡è¾“å…¥æ³•ï¼Œä¹Ÿéƒ½æ”¯æŒæ‹¼éŸ³ï¼Œå…¶ä¸­ ibus è‡ªå¸¦çš„æ˜¯è°·æ­Œæ‹¼éŸ³è¾“å…¥æ³•ï¼Œ fcitx è‡ªå¸¦çš„æ˜¯ç®€ä½“æ‹¼éŸ³ï¼Œè€Œæœç‹—è¾“å…¥æ³•çš„ Linux ç‰ˆæ­£æ˜¯åœ¨ fcitx çš„åŸºç¡€ä¸Šå¼€å‘å‡ºæ¥çš„ï¼Œæ‰€ä»¥å¦‚æœæƒ³åœ¨ Linux ä¸Šä½¿ç”¨æœç‹—ï¼Œä½ çš„ Linux å¿…é¡»è¦å®‰è£… fcitx ã€‚</p><p>åœ¨è¿™é‡Œå°±å¯ä»¥å°†ç³»ç»Ÿåˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯è‡ªå·±ç³»ç»Ÿé‡Œé›†æˆäº† fcitx çš„ç³»ç»Ÿï¼Œå¥½æ¯”è¾ƒä¸ºå¸¸è§çš„ Ubuntu ï¼Œè¿˜æœ‰ä¸€ç§å°±æ˜¯æ²¡æœ‰é›†æˆ fcitx çš„ï¼Œæ‹¿ Kali ä¸¾ä¾‹ï¼ˆé¦–é¡µçš„èƒŒæ™¯å›¾å°±æ˜¯Kaliè‡ªå¸¦çš„æ¡Œé¢èƒŒæ™¯ï¼Œåé¢ä¼šä»‹ç»ä¸€ä¸‹è¿™ä¸ªç³»ç»Ÿï¼‰ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç”±äºå›½äº§ç³»ç»Ÿçš„é€æ¸å´›èµ·ï¼ˆå¤§éƒ¨åˆ†æ˜¯åŸºäºLinuxçš„ï¼‰ï¼Œå‡ºç°äº†è®¸å¤šè‡ªå¸¦ æœç‹— è¾“å…¥æ³•çš„ç³»ç»Ÿï¼Œæˆ‘å¸¸ç”¨çš„<code>Deepin</code>ã€ä¼˜éº’éºŸ ç­‰éƒ½è‡ªå·±é›†æˆäº†æœç‹—ï¼Œè¿™ä¸€ç±»ç³»ç»Ÿå¤§éƒ¨åˆ†æ˜¯ä½¿ç”¨äº†ä¸€ä¸ªå« wine çš„å¾®å‹è™šæ‹Ÿæœºï¼Œåœ¨è¿™ç±»ç³»ç»Ÿä¸Šå®‰è£…æœç‹—ï¼Œåªè¦è¿›å…¥<code>è½¯ä»¶å•†åº—</code>æŸ¥æ‰¾æœç‹—å°±å¯ä»¥è¿›è¡Œå®‰è£…ã€‚</p><p>åœ¨å®‰è£…æœç‹—ä¹‹å‰ï¼Œå…ˆè¿›å…¥ç³»ç»Ÿçš„<code>èœå•</code>ç•Œé¢ï¼ˆç±»ä¼¼äº Win10 çš„å¼€å§‹ç•Œé¢ï¼‰ï¼Œåœ¨æœç´¢æ è¾“å…¥ fcitx ï¼Œå¦‚æœæŸ¥æ‰¾åˆ° fcitx æˆ–è€…æ˜¯ â€œè¾“å…¥æ³•é…ç½®â€ï¼Œåˆ™è¯æ˜æ˜¯ç³»ç»Ÿè‡ªå·±é›†æˆäº† fcitx çš„ç³»ç»Ÿï¼Œå¯ä»¥è·³è¿‡ç¬¬ä¸‰æ­¥ï¼Œå¦åˆ™ï¼Œè¯·ä»ç¬¬ä¸‰æ­¥å¼€å§‹æ‰§è¡Œã€‚</p><h3 id="å®‰è£…-fcitx"><a href="#å®‰è£…-fcitx" class="headerlink" title="å®‰è£… fcitx"></a>å®‰è£… fcitx</h3><p><font color=DarkGray size=2>å®‰è£…æœç‹—çš„å‡†å¤‡å·¥ä½œï¼›</font></p><hr><p>çœ‹åˆ°è¿™é‡Œï¼Œä½ çš„ç³»ç»Ÿåº”è¯¥æ˜¯æ²¡æœ‰é›†æˆ fcitx äº†ï¼Œè¿™æ—¶å€™è¯·è¿›å…¥è½¯ä»¶å•†åº—ï¼Œæœç´¢ <code>fcitx configuration </code>ï¼Œå¹¶è¿›è¡Œå®‰è£…ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿæ²¡æœ‰ è½¯ä»¶å•†åº—çš„è¯ï¼ˆKaliå°±æ²¡æœ‰ï¼‰ï¼Œåˆ™æ‰“å¼€ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><blockquote><div class="code-wrapper"><pre class="line-numbers language-java" data-language="java"><code class="language-java">apt<span class="token operator">-</span>get install fcitx<span class="token operator">-</span>table<span class="token operator">-</span>wbpy ttf<span class="token operator">-</span>wqy<span class="token operator">-</span>microhei ttf<span class="token operator">-</span>wqy<span class="token operator">-</span>zenhei<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></blockquote><p>å‘½ä»¤è¿è¡ŒæˆåŠŸï¼Œåˆ™é‡å¯ä¸€ä¸‹è®¡ç®—æœºï¼Œè¿›å…¥ <strong>ç¬¬å››æ­¥</strong> ï¼Œå¦‚æœæç¤º æ‰¾ä¸åˆ°èµ„æºï¼Œé‚£ä¹ˆè¯·[ã€ç‚¹å‡»æ­¤å¤„ã€‘]ç»™Linuxæ¢æºï¼ˆåšæ–‡ä¸­æœ‰è¯¦ç»†ä»‹ç»ä»€ä¹ˆæ˜¯æ¢æºï¼Œä¸ºä»€ä¹ˆæ¢æºï¼‰ï¼›</p><h3 id="å®‰è£…æœç‹—è¾“å…¥æ³•"><a href="#å®‰è£…æœç‹—è¾“å…¥æ³•" class="headerlink" title="å®‰è£…æœç‹—è¾“å…¥æ³•"></a>å®‰è£…æœç‹—è¾“å…¥æ³•</h3><p><font color=DarkGray size=2>è¿›å…¥å®‰è£…æ­¥éª¤ï¼›</font></p><hr><ul><li><p><a href="https://pinyin.sogou.com/">ã€ç‚¹å‡»è¿›å…¥æœç‹—å®˜ç½‘ã€‘</a>ä¸‹è½½å®‰è£…åŒ…ï¼Œå…¶ä¸­ Linux ç‰ˆæœ¬çš„åœ¨æœ€ä¸Šæ–¹ï¼Œä¸‹è½½åçš„æ–‡ä»¶æ˜¯ä¸€ä¸ª<code>.deb</code>æ–‡ä»¶ï¼Œè¿™æ˜¯ Debain ç³» Linux çš„æ ‡å‡†å®‰è£…åŒ…ï¼Œå¦‚æœæœ‰ç–‘é—®çš„è¯ï¼ŒåæœŸæˆ‘ä¼šä»‹ç»ä¸€ä¸‹ Linux çš„å‘å±•å²ã€‚</p></li><li><p>æ‰“å¼€ç»ˆç«¯ï¼Œé€æ­¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><ul><li><p>æ‰§è¡Œ<font color=7baf23>cd Downloads</font>å‘½ä»¤ï¼Œè¿›å…¥ <code>ä¸‹è½½</code> æ–‡ä»¶å¤¹ï¼›</p></li><li><p>æ‰§è¡Œ <font color=7baf23>sudo su</font> è¿›å…¥è¶…çº§ç”¨æˆ·æ¨¡å¼ï¼Œå¦‚æœä½ æ˜¯ root ç™»å½•çš„è¯ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ï¼ˆæ‰§è¡Œä¹Ÿæ— å¦¨ï¼‰ï¼›</p></li><li><p>æ‰§è¡Œä¸Šé¢é‚£æ­¥ä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œè¾“å…¥ä½ çš„è§£é”å¯†ç å°±å¯ä»¥ï¼Œè¾“å…¥çš„å†…å®¹ä¸ä¼šæ˜¾ç¤ºåœ¨ ç»ˆç«¯ ä¸­ï¼Œä¹Ÿä¸ä¼šå‡ºç°<code>*</code>ï¼Œæ‰€ä»¥å¤§èƒ†è¾“å°±è¡Œäº†ï¼›</p></li><li><p>æ‰§è¡Œ<font color=7baf23>dpkg -i sogouimebsâ€¦â€¦â€¦â€¦.deb</font>å®‰è£…æœç‹—è¾“å…¥æ³•ï¼Œè¯·æ³¨æ„ï¼Œä¸è¦ç›´æ¥å¤åˆ¶è¿™æ¡å‘½ä»¤ï¼Œå› ä¸ºéšç€ç‰ˆæœ¬çš„ä¸åŒï¼Œç‰ˆæœ¬å·ä¼šå‡ºç°å˜åŒ–ï¼Œæ‰€ä»¥å³ä½¿æˆ‘ç»™ä½ å®Œæ•´çš„å‘½ä»¤ï¼Œè¿™æ¡å‘½ä»¤ä¹Ÿä¼šéšç€æ—¶é—´å¤±æ•ˆï¼Œæ­£ç¡®çš„åšæ³•å¦‚ä¸‹ï¼š</p><blockquote><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥ <font color=7baf23>dpkg -i sogou</font> åç‚¹å‡»<code>tab</code>é”®è¿›è¡Œè‡ªåŠ¨è¡¥åœˆï¼Œç„¶åç‚¹å‡»å›è½¦ï¼Œå…¶ä¸­ tab é”®æ˜¯å¤§å†™é”å®šä¸Šé¢çš„é”®ï¼›</p></blockquote></li><li><p>å¦‚æœä½ çš„å®‰è£…è¿‡ç¨‹ä¸­æ²¡æœ‰å‡ºç°æŠ¥é”™ï¼Œé‚£ä¹ˆå°±å·²ç»å®‰è£…æˆåŠŸäº†ï¼Œè·³è¿‡ä¸‹é¢çš„<code>ç©ºå¿ƒåœ†åœˆ</code>æ­¥éª¤ï¼Œç›´æ¥è¿›å…¥<code>å®å¿ƒåœ†åœˆ</code>æ­¥éª¤å°±å¯ä»¥äº†ï¼›</p></li><li><p>å¦‚æœå‡ºç°äº†<code>E</code>æˆ–è€…<code>Err</code>ç±»å‹çš„æç¤ºï¼Œé‚£ä¹ˆå°±æ˜¯å®‰è£…ä¾èµ–å‡ºé”™ï¼Œè¯·æ‰§è¡Œ<font color=7baf23>sudo apt â€“fix-broken install</font>å‘½ä»¤ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨è§£å†³ä¾èµ–é—®é¢˜ï¼Œå¦‚æœè¿˜æŠ¥é”™ï¼Œè¯·æ‰§è¡Œ<font color=7baf23>sudo -f install -y</font>ï¼›</p></li><li><p>è§£å†³å®Œä¾èµ–é—®é¢˜ä¹‹åï¼Œå†æ¬¡æ‰§è¡Œç¬¬å››ä¸ªå°åœ†åœˆåœˆçš„å®‰è£…å‘½ä»¤ï¼›</p></li><li><p>é‡å¯è®¡ç®—æœºï¼›</p></li></ul></li></ul><h3 id="é…ç½®æœç‹—è¾“å…¥æ³•"><a href="#é…ç½®æœç‹—è¾“å…¥æ³•" class="headerlink" title="é…ç½®æœç‹—è¾“å…¥æ³•"></a>é…ç½®æœç‹—è¾“å…¥æ³•</h3><p><font color=DarkGray size=2>å¯¹è¾“å…¥æ³•è¿›è¡Œé…ç½®ï¼›</font></p><hr><ul><li><p>é…ç½®ï¼š</p><ul><li>åœ¨ èœå• ä¸­ï¼ˆä¹Ÿå°±æ˜¯é‚£ä¸ªé•¿çš„åƒ Win10çš„å¼€å§‹èœå•çš„é‚£é‡Œï¼‰æœç´¢ fcitx</li><li>æ‰“å¼€ fcitx configurationï¼Œç‚¹å‡»æœ€ä¸‹æ–¹åŠ å·ï¼Œé€‰æ‹©æœç‹—è¾“å…¥æ³•ï¼š</li><li>å…³é—­ç•Œé¢ï¼ŒåŒæ—¶æŒ‰ä¸‹ ctrl + shift é”®ï¼ˆéƒ¨åˆ†ç³»ç»Ÿé»˜è®¤æ˜¯ ctrl + ç©ºæ ¼ ï¼‰åˆ‡æ¢è‡³æœç‹—è¾“å…¥æ³•ï¼Œå¦‚æœæƒ³å°†æœç‹—è®¾ç½®æˆé»˜è®¤è¾“å…¥æ³•ï¼Œå¯ä»¥åœ¨ä¸Šä¸€æ­¥æ—¶ï¼Œå°†æœç‹—è¾“å…¥æ³•çš„ä½ç½®è°ƒåˆ°ç¬¬ä¸€ä¸ªå³å¯ï¼›</li></ul></li><li><p>å¦‚æœè¿™ä¸ªæ—¶å€™è¿˜æ²¡æœ‰åˆ‡æ¢æˆæœç‹—è¾“å…¥æ³•ï¼Œé‚£æå¤§å¯èƒ½æ˜¯ç³»ç»Ÿé»˜è®¤é›†æˆäº† ibus ï¼Œæ‰€ä»¥å®‰è£…äº† fcitx ä¹‹åï¼Œç³»ç»Ÿé»˜è®¤çš„è¿˜æ˜¯ ibus ï¼Œæ‰§è¡Œå¦‚ä¸‹æ­¥éª¤è¿›è¡Œåˆ‡æ¢ï¼š</p><ul><li><p>æ‰“å¼€ ç³»ç»Ÿè®¾ç½®    ï¼ˆsettingsï¼‰</p></li><li><p>è¿›å…¥ åŒºåŸŸä¸è¯­è¨€ï¼ˆRegion &amp; Languageï¼‰</p></li><li><p>è¿›å…¥ ç®¡ç†å·²ç»å®‰è£…çš„è¯­è¨€ï¼ˆManag Installed Languagesï¼‰</p></li><li><p>ç‚¹å‡» Keyboard input method systemï¼Œæ— è®ºé»˜è®¤çŠ¶æ€ä¸‹æ˜¯ä»€ä¹ˆï¼Œç‚¹å‡»é€‰æ‹©æ¢æˆ fcitx</p></li></ul></li><li><p>å®‰è£…æˆåŠŸ</p></li></ul><blockquote><p>æœ‰ä»»ä½•é—®é¢˜æˆ–ä¸ç†è§£ï¼Œæ¬¢è¿åšå®¢ä¸‹è¿›è¡Œç•™è¨€ï¼Œçœ‹åˆ°åç¬¬ä¸€æ—¶é—´ä¼šè¿›è¡Œå›å¤å¹¶è§£å†³ï¼›</p></blockquote><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>å¤§å®¶å¯ä»¥å°è¯•ä¸€ä¸‹ã€ä¼˜éº’éºŸã€‘ç³»ç»Ÿï¼Œè‡ªå·±é›†æˆäº†æœç‹—è¾“å…¥æ³•ã€QQã€å¾®ä¿¡ç­‰è®¸å¤šå¸¸ç”¨è½¯ä»¶ï¼ŒåŒæ—¶è¿˜æ”¯æŒéƒ¨åˆ†å®‰å“è½¯ä»¶çš„å®‰è£…ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Debian</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€æ‚è®°ã€‘Linus ä¸ Linux</title>
    <link href="/2018/09/16/%E3%80%90%E6%9D%82%E8%AE%B0%E3%80%91Linus-%E4%B8%8E-Linux/"/>
    <url>/2018/09/16/%E3%80%90%E6%9D%82%E8%AE%B0%E3%80%91Linus-%E4%B8%8E-Linux/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><hr><p>åœ¨ä¸‰å¹´çš„æˆ‘çš„çœ¼ä¸­ï¼Œä¸–ç•Œä¸Šè¿˜åªæœ‰ä¸‰ä¸ªç³»ç»Ÿï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ï¼šWindowã€Androidã€IOSï¼›é™¤å»ä¸¤ä¸ªæ‰‹æœºç³»ç»Ÿçš„è¯ï¼Œé‚£ä¹ˆä¸–ç•Œä¸Šå¯èƒ½å°±åªæœ‰ä¸€ä¸ªWindowsäº†ï¼›</p><p>ä¸‰å¹´å‰ï¼Œæˆ‘é«˜ä¸‰ï¼Œåœ¨å»é£Ÿå ‚çš„æ—¶å€™ï¼Œæˆ‘çš„å¥½å“¥ä»¬è·Ÿæˆ‘èŠåˆ°äº†æ‰‹æœºï¼Œä»–é—®æˆ‘ï¼šâ€œä½ çŸ¥ä¸çŸ¥é“ï¼Œä»¥å‰å¥½åƒæœ‰ä¸€ä¸ªå¡ç­ç³»ç»Ÿçš„ï¼Ÿâ€è¿™å¥è¯ï¼Œä»¿ä½›ç‚¹äº®äº†æˆ‘å¯¹ç³»ç»Ÿä¸–ç•Œçš„è®¤è¯†ï¼Œä»¥è‡³äºåæ¥æ‰ä¼šå¯¹æ­¤æœ‰äº›é”²è€Œä¸èˆçš„åŠ²å„¿ï¼›</p><p>å°±ç°åœ¨æ¥è¯´ï¼Œä½œä¸ºæˆ‘çŸ¥é“çš„ç”µè„‘ç³»ç»Ÿï¼Œåº”è¯¥æœ‰ï¼šDocsã€Macã€Windowsã€Unixã€Linux ç­‰ï¼Œè¿™äº”ä¸ªæ˜¯æˆ‘æ¯”è¾ƒç†Ÿæ‚‰çš„ï¼Œæ¥ä¸‹æ¥è®©æˆ‘è¯´ä¸€ä¸‹è¿™å‡ ä½åœ¨å†å²ä¸Šçš„è¡€é›¨è…¥é£ï¼›</p><h3 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h3><hr><p>å›¾çµåˆ›é€ è®¡ç®—æœºçš„è¿‡ç¨‹ï¼Œç›¸ä¿¡å¤§å®¶éƒ½æ‡‚ï¼Œæˆ‘ä¸å†è¿‡å¤šèµ˜è¿°ï¼Œä¸äº†è§£çš„åŒå­¦å¯ä»¥å»çœ‹ä¸€ä¸‹ç”µå½±<a href="https://baike.baidu.com/item/%E6%A8%A1%E4%BB%BF%E6%B8%B8%E6%88%8F/316903?fr=aladdin">ã€æ¨¡ä»¿æ¸¸æˆã€‘</a>ï¼ŒæŠ–éŸ³é‡Œé¢ä¹Ÿæœ‰å½±è¯„ï¼Œæ˜¯ä¸€éƒ¨ååˆ†ä¸é”™çš„ç”µå½±ï¼Œæˆ‘ä¸ªäººå¾ˆå–œæ¬¢ï¼›</p><p>å›¾çµåˆ¶é€ è®¡ç®—æœºä¹‹åï¼Œè®¡ç®—æœºè¿æ¥äº†èµ·æ­¥é˜¶æ®µï¼Œç›´åˆ°<a href="https://www.sohu.com/a/211330060_286966">ã€æ˜Ÿé™…æ—…è¡Œã€‘</a>ï¼ˆä¸€ä¸ªè®¡ç®—æœºç³»ç»Ÿçš„åå­—ï¼Œå¼€å‘å›¢é˜Ÿï¼šè´å°”å®éªŒå®¤ï¼‰å¼€å§‹ä¹‹å‰ï¼Œäººä»¬ä¸€ç›´ä½¿ç”¨ çº¸å¸¦ æ¥è¿›è¡Œç¼–ç ï¼Œæœ‰å­”çš„ä½ç½®ä¸º1ï¼Œæ— å­”çš„ä½ç½®ä¸º0ï¼ˆæ²¡æœ‰è€ƒç©¶è¿‡ï¼Œæˆ–è€…æ˜¯åè¿‡æ¥è¡¨ç¤ºï¼‰ï¼Œè¿™æ—¶å€™çš„è®¡ç®—æœºè¿˜åªæ˜¯ç§‘å­¦å®¶æ‰ä¼šä½¿ç”¨çš„å·¥å…·ï¼Œæ˜Ÿé™…æ—…è¡Œæ˜¯ä¸€ä¸ªå¤šå±‚æ¬¡çš„ç”µè„‘ç³»ç»Ÿï¼Œç±»ä¼¼äºç°åœ¨è®¡ç®—æœºçš„é›å½¢ï¼Œå¯æ˜¯ç”±äºè¿è¡Œååˆ†ä¸ç†æƒ³ï¼Œæœ€ç»ˆè¢«æç½®ï¼Œè¿™ä¹‹åï¼Œè´å°”å®éªŒå®¤çš„ä¸¤ä¸ªäººï¼ˆKen Thompson å’Œ Dernis Ritchieï¼‰å°†ä»£ç è¿›è¡Œæ”¹é€ åï¼Œè£…åœ¨äº†ä¸€å°æ¸¸æˆæœºä¸Šï¼Œæœ€åˆçš„ Unicsï¼ˆUNiplexed Information and Computing Serviceï¼Œåæ”¹åä¸ºUnixï¼‰ å°±è¿™æ ·å‡ºç°äº†ï¼›</p><p>Unics å‡ºç°åï¼Œè¿™ä¸ªç³»ç»Ÿä¾æ—§æ˜¯åœ¨æµè½¬åœ¨å„ç§å®éªŒå®¤çš„ä¸€ä¸ªç³»ç»Ÿï¼Œåœ¨è¿™ä¸ªæ—¶å€™ï¼Œè®¡ç®—æœºç•Œï¼ˆæˆ–è€…è¯´æ˜¯å•†ç•Œï¼‰å‡ºç°äº†ä¸¤ç§å£°éŸ³ï¼šä¸€ç§å£°éŸ³æ”¯æŒå°† Unics ç³»ç»Ÿä½œä¸ºäººç±»æ™ºæ…§çš„ç»“æ™¶ï¼Œå¼€æºå¹¶æµä¼ å‡ºå»ï¼Œä¾›äººä»¬å¼€å‘ï¼›å¦ä¸€ä¸ªå£°éŸ³åˆ™æ”¯æŒå°† Unics ä½œä¸ºå•†ç”¨å·¥å…·ï¼Œé—­æºå‡ºå”®ç”¨æ¥èµšé’±ï¼Œä¸¤æ‹¨åŠ¿åŠ›é’ˆé”‹ç›¸å¯¹ï¼Œæœ€ååœ¨æ³•é™¢ä¸Šï¼Œã€é—­æºã€‘èƒœå‡ºäº†ï¼Œå½“æ—¶çš„ Unics å·²ç»è¢«è°éŸ³æˆäº† Unix ï¼Œè¿™å°±æ˜¯æœ€åˆçš„ Unixï¼Œä¸€ä¸ªä»·æ ¼æ˜‚è´µçš„è®¡ç®—æœºç³»ç»Ÿï¼›</p><p>1991å¹´æ—¶ï¼Œä¸€ä¸ªå« Linus çš„å¤§äºŒè®¡ç®—æœºå­¦ç”Ÿï¼Œååˆ†æƒ³è¦ä¸€ä¸ª Unix ç³»ç»Ÿï¼Œä½†æ˜¯ä½œä¸ºèµšé’±å·¥å…·çš„ Unix å¯¹ä»–æ¥è¯´ååˆ†æ˜‚è´µï¼Œæ‰€ä»¥ä»–æœ‰ä¸ªå¤§èƒ†çš„æƒ³æ³•ï¼Œé‚£å°±æ˜¯è‡ªå·±åšä¸€ä¸ªç³»ç»Ÿï¼ˆåœ¨ã€é¸Ÿå“¥çš„Linuxç§æˆ¿èœã€‘ä¸­å†™é“ï¼ŒLinusçš„çˆ¶äº²ä¹Ÿæ˜¯è®¡ç®—æœºä»ä¸šè€…ï¼Œæ‰€ä»¥ä»–å¯¹è®¡ç®—æœºçš„æ•æ„Ÿå¯ä»¥è¯´æ˜¯è€³æ¿¡ç›®æŸ“ï¼Œæ˜¯ä¸€ä¸ªâ€œå°‘å¹´éª‡å®¢â€ï¼‰ï¼›</p><p>Linus ç”¨äº†6ä¸ªæœˆçš„æ—¶é—´ï¼Œå†™å‡ºäº†ä¸€ä¸ªç”µè„‘ç³»ç»Ÿçš„é›å½¢ï¼Œå¹¶ä¸”ç”¨è‡ªå·±çš„åå­— Linus æ¥å‘½åäº†è¿™ä¸ªç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªååˆ†ä¸æˆç†Ÿçš„ç”µè„‘ç³»ç»Ÿï¼Œæˆ‘ä¸ªäººçŒœæµ‹å¯èƒ½æ˜¯ååˆ†çš„â€œåƒåœ¾â€ï¼Œå½“æ—¶çš„ Linus åœ¨å†™å®Œç³»ç»Ÿä¹‹åï¼Œä¸ºäº†èƒ½è®©ç³»ç»Ÿæˆé•¿èµ·æ¥ï¼Œä»–æŠŠä»£ç å‘å¸ƒåˆ°äº†ç½‘ä¸Šï¼Œè®©ç½‘å‹æŒ‡å‡ºé—®é¢˜å¹¶è¿›è¡Œæ”¹è¿›ï¼Œæ²¡æƒ³åˆ°ä»–è¿™ä¸€ä¸¾åŠ¨å´åœ¨ç½‘ä¸Šå¼•èµ·äº†è½©ç„¶å¤§æ³¢ï¼ˆä¸ªäººæ„Ÿè§‰è¿™åƒæäº†MIUI ç¬¬ä¸€æ¬¡åœ¨å›½å¤–çš„è®ºå›ä¸Šå¼•èµ·è½©ç„¶å¤§æ³¢çš„æ ·å­)ï¼Œä¸€ä¸‹å­è®¡ç®—æœºä»ä¸šè€…ä»¬ä»ä¸–ç•Œå„åœ°å‘æ¥é‚®ä»¶ï¼Œç»™å‡ºä»£ç æ”¹è¿›æ„è§ï¼Œæˆ–è€…åŠŸèƒ½å¢åŠ æè¿°ç­‰ï¼Œè¿™æ‰€æœ‰çš„é‚®ä»¶éƒ½ç”± Linus æ¥å®¡æ ¸ï¼Œç„¶åæ”¹è¿›ï¼Œ Linus æˆäº†æœ€åˆçš„ä»£ç å®¡æ ¸å‘˜ï¼›</p><p>ç»è¿‡äº†ä¸€æ®µæ—¶é—´çš„æ”¹è¿›ï¼ŒLinus ç³»ç»Ÿå·²ç»æˆä¸ºäº†ä¸€ä¸ªæ¯”è¾ƒæˆç†Ÿçš„è®¡ç®—æœºç³»ç»Ÿï¼Œè¿™æ—¶å€™çš„ Linus ç³»ç»Ÿä¾æ—§ä½œä¸ºä¸€ä¸ªå¼€æºç³»ç»Ÿï¼Œå¹¿ä¸ºæµä¼ ï¼Œåæ¥äººä»¬å°† Linus ç³»ç»Ÿçš„æœ€åä¸€ä¸ªå­—æ¯æ”¹æˆ â€˜xâ€™ï¼Œä»¥çºªå¿µ Unix çš„ã€å¼€æºæˆ˜äº‰ã€‘ã€‚</p><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><hr><p>Linux å‡ºç°è‡³ä»Šï¼ŒLinuxç³»ç»Ÿéƒ½ä½œä¸ºä¸€ä¸ªååˆ†æµè¡Œçš„ç³»ç»Ÿè¢«ä½¿ç”¨ç€ï¼Œåæ¥è‹¹æœå…¬å¸å‘å¸ƒäº† éº¦é‡‘å¡” ç³»åˆ—çš„ç”µè„‘ï¼ˆä»¥ Unix ä¸ºå†…æ ¸ï¼‰ï¼Œæ€èµ·äº†å›¾å½¢ç”¨æˆ·åŒ–ç•Œé¢çš„æµªæ½®ï¼Œè¿™ä¹‹åçš„ä¸€å¹´ï¼Œå¾®è½¯å…¬å¸å‘å¸ƒäº† åˆä»£ çš„ Windows ç”µè„‘ï¼Œä½†æ˜¯ç”±äº éº¦é‡‘å¡” çš„å†…å­˜å°ã€Bug å¤šï¼Œå›¾å½¢ç”¨æˆ·åŒ–ç•Œé¢çš„å¸‚åœºæœ€ç»ˆè¢« Windows å æ®ï¼ˆå½“ç„¶å…¶ä¸­è¿˜æœ‰æ›´å¤šå…¶ä»–å¤æ‚çš„åŸå› ï¼‰ï¼Œå†åæ¥ï¼Œ Windows ä¸ Mac ä½ äº‰æˆ‘èµ¶ï¼Œè¿™éƒ½æ˜¯ç°åœ¨çš„äº‹æƒ…äº†ï¼Œå¦‚æœæœ‰å…´è¶£ï¼Œå¯ä»¥å»æˆ‘ååˆ†å–œæ¬¢çš„Bç«™UPä¸»ã€è€å¸ˆå¥½æˆ‘å«ä½•åŒå­¦ã€‘é‚£é‡Œçœ‹ä¸€ä¸‹Windows ä¸ Mac çš„çˆ±æ¨æƒ…é•¿ï¼Œé¡ºä¾¿å¸®å¿™å‚¬ä¸€ä¸‹æ›´ï¼Œ<a href="https://www.bilibili.com/video/BV1cy4y1k7A2">ã€ç‚¹å‡»é“¾æ¥è·³è½¬ã€‘</a>;</p><p>åœ¨ Linux ä½œä¸ºä¸€ä¸ªå®åŠ›æ²¡æœ‰å¾®è½¯è‹¹æœé›„åšçš„ç³»ç»Ÿï¼Œä¸”æ²¡æœ‰åŠæ—¶æŠ“ä½å›¾å½¢ç”¨æˆ·åŒ–çš„å¤§æµªæ½®ï¼Œåœ¨ç°åœ¨çœŸæ­£çš„ä½¿ç”¨ç”¨æˆ·å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œç„¶è€Œä¸ºä½•å®ƒä¾æ—§æ²¡æœ‰è¢«æ·˜æ±°å‘¢ï¼ŸåŸå› å¾ˆç®€å•ï¼Œå®‰å…¨ï¼›</p><p>å¦‚æœä½ è®¤çœŸçš„ä¸Šè¿‡ã€è®¡ç®—æœºå®‰å…¨ã€‘è¿™å ‚è¯¾ï¼Œé‚£ä¹ˆä½ å°±è‚¯å®šçŸ¥é“ Linux çš„å®‰å…¨ç­‰çº§æ˜¯ 2ï¼ŒWindows ç³»ç»Ÿçš„å®‰å…¨ç­‰çº§æ˜¯ 3ï¼Œä¸–ç•Œä¸Šæš‚æ—¶è¿˜æ²¡æœ‰å®‰å…¨ç­‰çº§æ˜¯ 1 çš„ç”µè„‘ç³»ç»Ÿï¼Œæ‰€ä»¥ Linux ç³»ç»ŸåŸºæœ¬ä¸Šä»£è¡¨äº†å…¨ä¸–ç•Œæœ€å®‰å…¨çš„ç³»ç»Ÿï¼Œå¹¶ä¸”ç”±äº Linux å¼€æº ä¸” å…è´¹ï¼Œå¯ä»¥ä»»æ„æ›´æ”¹ï¼Œæ‰€ä»¥å°±æœ‰äº†å¾ˆå¤šä¸åŒç‰ˆæœ¬çš„â€œå‘è¡Œç‰ˆâ€ï¼Œåœ¨ä»‹ç»Linuxçš„å‘å±•å†å²ä¹‹å‰ï¼Œå…ˆè¯´ä¸€äº› Linux æœ‰å“ªäº›ä¼˜ç‚¹ï¼š</p><ul><li><p>å®‰å…¨ï¼šå®‰å…¨ç³»æ•°è¦é«˜äº Windowsï¼Œè¿™åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­å¯èƒ½ä¸ä¼šä½“éªŒåˆ°ä»€ä¹ˆä¼˜ç‚¹ï¼Œä½†æ˜¯å´æ˜¯ä½œä¸ºæœåŠ¡å™¨çš„æœ€ä¼˜é€‰æ‹©ï¼›</p></li><li><p>è½»é‡ï¼šä¹Ÿå°±æ˜¯å°ï¼Œå®‰è£… Winodowsåï¼Œä½ çš„ç£ç›˜ä¼šè¢«åƒæ‰30~40Gbçš„å†…å­˜ï¼Œä½†æ˜¯ä¸€ä¸ª16Gbçš„å†…å­˜å¡ä¸Šå°±å¯ä»¥å®‰è£…ä¸€ä¸ª Linux ç³»ç»Ÿå¹¶ä¸”æµç•…è¿è¡Œï¼ˆæ®è¯´8Gbä¹Ÿå¯ä»¥ä½†æ˜¯æˆ‘æ²¡å°è¯•è¿‡ï¼‰ï¼›</p></li><li><p>å¼€æºå…è´¹ï¼šä»£ç å…¬å¼€ä¸”å…è´¹ï¼Œä»»æ„æ›´æ”¹ï¼Œæ”¹ä¸ªåå­—ä¹‹åå°±å¯ä»¥é—­æºèµšé’±äº†ï¼›</p><p>â€¦â€¦</p></li></ul><h3 id="Linux-å‘è¡Œç‰ˆä»‹ç»"><a href="#Linux-å‘è¡Œç‰ˆä»‹ç»" class="headerlink" title="Linux å‘è¡Œç‰ˆä»‹ç»"></a>Linux å‘è¡Œç‰ˆä»‹ç»</h3><p><font color=DarkGray size=2>å›½å¤–ç³»ç»Ÿ</font></p><hr><blockquote><p><font  color=black><strong>Debian</strong>ï¼šè¿™åº”è¯¥æ˜¯è‡ª Linus åˆ›é€  Linux ä»¥åçš„ç¬¬ä¸€ä¸ªæ­£å¼å‘è¡Œç‰ˆçš„ Linux ç³»ç»Ÿï¼Œæœ€æ—©å‡ºç°äº1993å¹´ï¼Œåªæ˜¯åœ¨Linusåˆ›é€ Linuxä¹‹åä¸¤å¹´å°±å‡ºç°äº†ï¼Œè¿™æ˜¯å‘å±•å†å²æœ€ä¹…çš„å‘è¡Œç‰ˆç³»ç»Ÿï¼Œç»å†äº†æ—¶é—´çš„æ´—ç¤¼ï¼Œç›®å‰çš„ Debian åº”è¯¥æ˜¯æœ€ç¨³å®šçš„ Linux çš„ç³»ç»Ÿï¼Œä¹Ÿæ˜¯â€œå„¿å­â€æœ€å¤šçš„Linuxç³»ç»Ÿï¼›</font></p></blockquote><blockquote><p><font  color=black><strong>Ubuntu</strong>ï¼šæ˜¯æˆ‘è®¤ä¸ºæœ€æµè¡Œçš„å‘è¡Œç‰ˆä¹‹ä¸€ï¼Œå®ƒæµè¡Œçš„åŸå› åœ¨äºï¼šå‡ºç°è¾ƒæ—©ï¼ˆ2004ï¼‰ä¸”æ”¹å–„äº†Debiançš„ç¼ºç‚¹ï¼›å®ƒçš„çˆ¶äº²æ˜¯Debianï¼Œä½œä¸ºè¾ƒæ—©çš„ Linux å‘è¡Œç‰ˆï¼Œå®ƒæ”¹æ‰äº† Debian ç³»ç»Ÿä¸€äº›æ“ä½œä¸Šçš„å¼Šç«¯ï¼Œè®© Linux æ›´åŠ é¢å‘äºå¤§ä¼—ç”¨æˆ·ï¼Œä½†æ˜¯æˆ‘ä¸ªäººè§‰å¾—ï¼Œå®ƒæ›´é€‚åˆçš„ç”¨æˆ·æ˜¯ç¨‹åºå‘˜ï¼Œè€Œä¸æ˜¯æ™®é€šäººï¼Œå› ä¸º ç”Ÿæ€ å¤ªå·®ï¼Œç›®å‰å‘è¡Œäº†20.xxLTSç‰ˆæœ¬ï¼ˆé•¿æœŸç»´æŠ¤ç‰ˆæœ¬ï¼‰ï¼Œç•Œé¢å˜åŒ–ä¸å¤§ï¼Œä½†æ˜¯æ¯”ä»¥å‰å·²ç»å¥½çœ‹ä¸€äº›äº†ï¼ˆ18.xxä»¥å‰å¾ˆä¸‘ï¼‰ï¼›</font></p></blockquote><blockquote><p><font  color=black><strong>BackTrack</strong>ï¼šä¸€ä¸ªç”¨æ¥åšæ¸—é€ / æ•°å­—å–è¯çš„ç³»ç»Ÿï¼Œå¦‚æœä½ ä¸æ‡‚ï¼Œé‚£ä¹ˆè·Ÿä½ è¯´ é»‘å®¢å·¥å…· ä½ åº”è¯¥ä¼šæ¯”è¾ƒäº†è§£ä¸€äº›ï¼Œä½†æ˜¯ç°åœ¨å·²ç»ä¸æµè¡Œäº†ï¼Œå› ä¸ºä¸‹é¢è¿™ä¸ªç³»ç»Ÿçš„å‡ºç°ï¼›</font></p></blockquote><blockquote><p><font  color=black><strong>Kali</strong>ï¼šâ€œå‡¯ä¸½â€ï¼Œè™½ç„¶å®ƒçš„åŸåä¹Ÿè®¸ä¸æ˜¯è¿™ä¹ˆå«çš„ï¼Œä½†æ˜¯æˆ‘ä¹ æƒ¯è¿™ä¹ˆç§°å‘¼å¥¹ï¼ŒKali ç³»ç»Ÿæ”¯æŒarmæ¶æ„çš„èŠ¯ç‰‡ï¼ŒåŒæ—¶ä¹Ÿæœ‰x86ç‰ˆæœ¬ï¼Œå¥¹ä¹Ÿæ˜¯ç”¨æ¥åšæ¸—é€çš„å·¥å…·ï¼Œçˆ¶äº²è¯´æ˜¯Backtrackåº”è¯¥æ¯«ä¸ä¸ºè¿‡ï¼Œç”šè‡³ä¸¤è€…çš„æ ‡å¿—éƒ½æ˜¯ä¸€ä¸ªæ ·å­çš„ï¼Œæ˜¯ä¸€ä¸ªSå‹çš„è¥¿æ–¹é¾™çš„æ ‡å¿—ï¼ŒKaliåœ¨BackTrackç³»ç»Ÿä¸Šåšäº†å‡çº§ï¼Œåˆ å‡äº†ä¸€äº›å·¥å…·ï¼Œå¢åŠ äº†ä¸€äº›å·¥å…·ï¼›</font></p><p><font  color=black>æˆ‘ä»Kali2018ç‰ˆå¼€å§‹ä½¿ç”¨å®ƒï¼Œå‡çº§äº†20.xxç‰ˆæœ¬ä¹‹åï¼ŒKaliçš„æ¡Œé¢ç¯å¢ƒæ”¹æˆäº†KDEç‰ˆæœ¬ï¼Œä¸€å¼€å§‹è¿˜æœ‰äº›ä¸é€‚åº”ï¼Œä½†æ˜¯çœŸçš„æ˜¯æˆ‘æ¥è§¦åˆ°çš„æ‰€æœ‰å›½å¤–ç³»ç»Ÿé‡Œé¢æœ€å¥½çœ‹çš„ç³»ç»Ÿï¼ŒåŒæ—¶æˆ‘è¿˜è®¤è¯†ä¸€äº›ä½¿ç”¨<a href="https://baike.baidu.com/item/%E6%A0%91%E8%8E%93%E6%B4%BE/80427?fr=aladdin">ã€æ ‘è“æ´¾ã€‘</a>è¿è¡ŒKaliçš„è‡ªç§°ç½‘ç»œå®‰å…¨è”ç›Ÿçš„å°é»‘å®¢ï¼Œå¾ˆæœ‰æ„æ€ï¼›</font></p></blockquote><blockquote><p><font color=black><strong>Parrot OSï¼ˆé¹¦é¹‰ï¼‰</strong>ï¼šä¸Kaliå‡ ä¹ä¸€è‡´ï¼Œç”¨äºæ¸—é€ï¼Œåœ¨Linuxåœˆè¢«ç§°ä¸ºç›—ç‰ˆLinuxï¼Œä¸linuxä¸€æ ·ï¼Œç•Œé¢å¾ˆç‚«é…·ï¼Œé›†æˆçš„å·¥å…·å¾ˆå¤šï¼Œå›¾æ ‡æ˜¯ä¸ªé¹¦é¹‰ï¼Œå¾ˆå¥½çœ‹ï¼Œæˆ‘åªç”¨è¿‡å‡ å¤©ï¼Œä¸”è¿™å‡ å¤©æˆ‘æ˜¯åœ¨ç”¨äº†Deepinè¿™æ ·çš„<strong>å‹å¥½å‹</strong>ç³»ç»Ÿä¹‹åç”¨çš„ï¼Œ æ‰€ä»¥æˆ‘ç”šè‡³æ²¡èƒ½æˆåŠŸåœ¨Parrotä¸Šå®‰è£…ä¸Šæœç‹—è¾“å…¥æ³•ï¼Œå°±å› ä¸ºæ•…éšœï¼Œåæ¥å¸è½½äº†ï¼›</font></p></blockquote><p><font color=DarkGray size=2>å›½äº§ç³»ç»Ÿ</font></p><hr><blockquote><p><font  color=black><strong>ä¼˜éº’éºŸ</strong>ï¼šç•Œé¢ç¾è§‚ï¼Œæ”¯æŒæœç‹—è¾“å…¥æ³• / QQ / å¾®ä¿¡ (éƒ½æ˜¯wineç§»æ¤ç‰ˆ)ç­‰ï¼Œ20.xxç‰ˆæœ¬çš„ç³»ç»Ÿåœ¨ç•Œé¢ä¸Šé›†æˆäº† Windows ç³»ç»Ÿä¸ Mac ç³»ç»Ÿçš„ä¼˜ç‚¹ï¼Œä½†æ˜¯ç”±äºåˆšå‘å¸ƒå‡ºæ¥ï¼Œè¿˜ä¸æ˜¯å¾ˆç¨³å®šï¼Œä¸”æ“ä½œæœ‰äº›ç”Ÿç¡¬ï¼Œè¿™æ˜¯æˆ‘åœ¨æ—¥å¸¸ä½“éªŒä¸­ä¸é€‰æ‹©ä¼˜éº’éºŸçš„ä¸»è¦åŸå› ï¼Œå®ƒå¤ªåƒ Win10 å´ä¸å¦‚ Win10 æ–¹ä¾¿ï¼Œæ‰€ä»¥æš‚æ—¶ä¸è€ƒè™‘å®ƒï¼›</font></p><p><font  color=black>æˆ‘ä¹‹å‰æœ‰å¹¸è®¤è¯†äº†å‡ ä¸ªä¼˜éº’éºŸç³»ç»Ÿçš„å¼€å‘äººå‘˜ï¼Œåœ¨ä¹‹å‰ä¸€å°æ®µä½“éªŒä¸­ï¼Œç»™è¿‡æˆ‘ä¸€äº›æŒ‡å¯¼ï¼Œåœ¨æ­¤è‡´è°¢ï¼</font></p></blockquote><blockquote><p><font  color=black><strong>Deepinï¼ˆæ·±åº¦ï¼‰</strong>:ç•Œé¢ç¾è§‚ï¼ˆååˆ†ç¾è§‚ï¼Œè¿™ç¾è§‚åƒæ˜¯Macçš„ç¾è§‚ï¼Œè€Œä¸åƒæ˜¯Kaliå’ŒParrotçš„é…·ç‚«ï¼‰å¤§æ°”ï¼Œæ–¹ä¾¿ä½¿ç”¨ï¼Œé›†æˆäº† ä¼˜éº’éºŸ çš„å‡ ä¹æ‰€æœ‰ä¼˜ç‚¹ï¼ˆä»Šå¹´å‡ ä¹æ‰€æœ‰çš„Linuxç³»ç»Ÿéƒ½å‘å¸ƒäº†20.xxç‰ˆæœ¬ï¼‰ï¼ŒDeepinå’Œéº’éºŸçš„20.xxç‰ˆæœ¬å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼‰ï¼Œä½†æ˜¯Deepinæ¯”ä¼˜éº’éºŸè¦çµæ´»ï¼Œä¸”æœ‰ä¸€ä¸ªæˆ‘å¾ˆå–œæ¬¢çš„åŠŸèƒ½ï¼šé›·ç¥ç»ˆç«¯ï¼›è¿™ä¸ªç»ˆç«¯è¶…çº§çµæ´»ï¼Œæ”¯æŒå¿«æ·é”®å‘¼å‡º / é¼ æ ‡å¤±å»ç„¦ç‚¹åè‡ªåŠ¨éšè— / ä¸”æ”¯æŒå¿«æ·å‘½ä»¤ï¼ˆå°†å‡ ä¸ªå‘½ä»¤é›†æˆæˆä¸€ä¸ªå¿«æ·é”®ï¼Œå¥½æ¯”æˆ‘ç‚¹å‡» ctrl + alt + r è‡ªåŠ¨è¿›å…¥æŸä¸ªæ–‡ä»¶å¤¹å¹¶å¯åŠ¨ redis ä¹‹ç±»çš„è½¯ä»¶ï¼Œå¯¹å¼€å‘å¾ˆå‹å¥½ï¼‰ï¼›</font></p><p><font  color=black>Deepinæˆ‘è¿˜æ˜¯ä½¿ç”¨äº†è¾ƒé•¿æ—¶é—´çš„ï¼Œæœ€åæ­»åœ¨äº†ä¸ç¨³å®šä¸Šï¼Œä¸”ç³»ç»Ÿè¾ƒå¤§ï¼Œåƒé…ç½®ï¼Œé…ç½®ä½å¸¦ä¸åŠ¨ï¼Œé…ç½®é«˜å«Œæµªè´¹ï¼Œæœ‰äº›é¸¡è‚‹çš„ä¸€ä¸ªç³»ç»Ÿï¼›æˆ‘æ˜¯ä¸€æœºåŒç³»ç»Ÿï¼Œåœ¨æœ‰ä¸€æ¬¡è¿›å…¥Deepinåï¼ŒWinä¸Šè¢«è«åå…¶å¦™åˆ é™¤äº†å¾ˆå¤šæ–‡ä»¶ï¼Œå°±æ”¾å¼ƒäº†è¿™ä¸ªç³»ç»Ÿï¼›</font></p></blockquote><h3 id="å…¶ä»–ç³»ç»Ÿ"><a href="#å…¶ä»–ç³»ç»Ÿ" class="headerlink" title="å…¶ä»–ç³»ç»Ÿ"></a>å…¶ä»–ç³»ç»Ÿ</h3><hr><p>å¡ç­ï¼šæ²¡ç”¨è¿‡ä¸è¯„ä»·ï¼Œç”šè‡³ä¸ç¡®å®šæ˜¯æ‰‹æœºç³»ç»Ÿè¿˜æ˜¯ç”µè„‘ç³»ç»Ÿï¼ˆåº”è¯¥æ˜¯æ‰‹æœºç³»ç»Ÿï¼‰</p><p>MacOSï¼šæˆ‘å¾ˆå–œæ¬¢ä»–çš„æ“ä½œç•Œé¢ï¼Œä¸”æ¬£èµå®ƒçš„æµç•…ç¨‹åº¦ï¼Œæ›¾ç»ä½¿ç”¨è¿‡å‡ ä¸ªæœˆçš„Mac Airã€Mac Miniã€åœ¨å¸®äººè£…ç³»ç»Ÿçš„æ—¶å€™æ¥è§¦è¿‡Mac Proï¼Œæœ€è¿‘M1èŠ¯ç‰‡å‡ºæ¥ä¹‹åæ›´æ˜¯çˆ±çš„ä¸è¡Œï¼Œå¸Œæœ›å¤§å­¦æ¯•ä¸šä¹‹åèƒ½ä¹°ä¸€å°M1èŠ¯ç‰‡çš„Proï¼ˆç›®å‰ä¸ä¹°çš„åŸå› æœ‰äºŒï¼šæ˜¯ä¸ªèµ„é‡‘ä¸å……è¶³çš„å­¦ç”Ÿ / M1 èŠ¯ç‰‡å°šä¸ç¨³å®šï¼Œå‰è€…æ˜¯åå„¿ï¼Œåè€…å…³ç³»ä¸æ˜¯å¾ˆå¤§ï¼‰</p><p>æˆ‘åæ¥è‡ªå·±ç»™è‡ªå·±è£…è¿‡é»‘è‹¹æœç³»ç»Ÿä¸”æœ‰åŠå¹´å¤šçš„ä½¿ç”¨ä½“éªŒï¼Œè¾ƒä¸ºç¨³å®šï¼Œæœ‰ä¸€ä¸¤ä¸ªBugï¼ˆè“ç‰™å¶å°”è¿ä¸ä¸Š  / å¤–æ¥ç½‘å¡æœ‰ä¸€ä¸¤æ¬¡ä¸ç»™åŠ›ï¼‰ã€ä¸èƒ½ä½¿ç”¨AirDropï¼ˆæˆ‘æœ€å¿ƒç—›çš„å°±æ˜¯è¿™ä¸€ç‚¹ï¼‰ï¼Œå¦‚æœæœ‰æƒ³äº†è§£çš„è¯å¯ä»¥ç™¾åº¦ï¼Œæˆ–è€…Bç«™æœç´¢ï¼Œæˆ–è€…å»<strong>é»‘æœå°å…µçš„éƒ¨è½é˜</strong>å»çœ‹æ•™ç¨‹ï¼Œä¸‹è½¯ä»¶ï¼Œä½“éªŒè¿˜è¡Œï¼Œå®‰è£…éº»çƒ¦ï¼Œæˆ‘æŠ˜è…¾äº†ä¸€æ•´ä¸ªæ™šä¸Šï¼›</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><hr><p>å»ºè®®å°ç™½ç”¨ Windows ï¼Œæ¢ç´¢å…šç”¨ Linux ï¼Œä¸å«Œéº»çƒ¦çš„å¯ä»¥ä½“éªŒé»‘è‹¹æœï¼›</p><p>Linuxæ–¹é¢ï¼Œå…¥é—¨å»ºè®® Ubuntu ï¼Œæƒ³ç”¨ç€æ–¹ä¾¿äº›å»ºè®® Deepin  / ä¼˜éº’éºŸ ï¼Œ20.xx ç‰ˆæœ¬ä¼šè¶Šæ¥è¶Šç¨³å®šçš„ï¼Œæˆ‘å¦‚æ­¤ç›¸ä¿¡ç€ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ‚è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>æ‚è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
